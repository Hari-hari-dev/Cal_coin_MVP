/*! For license information please see 2.4e606921.chunk.js.LICENSE.txt */
(this["webpackJsonpcivic-react"]=this["webpackJsonpcivic-react"]||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(102)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;const r=n(4);function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),r.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=i,t.uint8ArrayToBuffer=o;class a{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function s(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=a,t.nameWithProperty=s,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(e,"decode",{value:(e,n)=>t.decode(e,n),writable:!0})};class u extends a{isCount(){throw new Error("ExternalLayout is abstract")}}t.ExternalLayout=u;class c extends u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=e.length-t;return Math.floor(n/this.elementSpan)}encode(e,t,n){return 0}}t.GreedyCount=c;class l extends u{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(!(e instanceof a))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof d||this.layout instanceof f}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t+this.offset)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.layout.encode(e,t,n+this.offset)}}t.OffsetLayout=l;class d extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntLE(e,n,this.span),this.span}}t.UInt=d;class f extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readUIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeUIntBE(e,n,this.span),this.span}}t.UIntBE=f;class h extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntLE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntLE(e,n,this.span),this.span}}t.Int=h;class p extends a{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readIntBE(t,this.span)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeIntBE(e,n,this.span),this.span}}t.IntBE=p;const y=Math.pow(2,32);function g(e){const t=Math.floor(e/y);return{hi32:t,lo32:e-t*y}}function v(e,t){return e*y+t}class E extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return v(n.readUInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeUInt32LE(r.hi32,n+4),8}}t.NearUInt64=E;class m extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return v(n.readUInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}t.NearUInt64BE=m;class w extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e),r=n.readUInt32LE(t);return v(n.readInt32LE(t+4),r)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeUInt32LE(r.lo32,n),i.writeInt32LE(r.hi32,n+4),8}}t.NearInt64=w;class S extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=o(e);return v(n.readInt32BE(t),n.readUInt32BE(t+4))}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=g(e),i=o(t);return i.writeInt32BE(r.hi32,n),i.writeUInt32BE(r.lo32,n+4),8}}t.NearInt64BE=S;class b extends a{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatLE(e,n),4}}t.Float=b;class _ extends a{constructor(e){super(4,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readFloatBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeFloatBE(e,n),4}}t.FloatBE=_;class T extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleLE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleLE(e,n),8}}t.Double=T;class I extends a{constructor(e){super(8,e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o(e).readDoubleBE(t)}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return o(t).writeDoubleBE(e,n),8}}t.DoubleBE=I;class R extends a{constructor(e,t,n){if(!(e instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r=-1;!(t instanceof u)&&0<e.span&&(r=t*e.span),super(r,n),this.elementLayout=e,this.count=t}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0,r=this.count;if(r instanceof u&&(r=r.decode(e,t)),0<this.elementLayout.span)n=r*this.elementLayout.span;else{let i=0;for(;i<r;)n+=this.elementLayout.getSpan(e,t+n),++i}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];let r=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));r<i;)n.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),r+=1;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.elementLayout,i=e.reduce(((e,i)=>e+r.encode(i,t,n+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,n),i}}t.Sequence=R;class N extends a{constructor(e,t,n){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof a),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===n&&(n=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let r=-1;try{r=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(r,t),this.fields=e,this.decodePrefixes=!!n}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce(((n,r)=>{const i=r.getSpan(e,t);return t+=i,n+i}),0)}catch(r){throw new RangeError("indeterminate span")}return n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);const n=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(n[r.property]=r.decode(e,t)),t+=r.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=n;let i=0,o=0;for(const a of this.fields){let r=a.span;if(o=0<r?r:0,void 0!==a.property){const i=e[a.property];void 0!==i&&(o=a.encode(i,t,n),0>r&&(r=a.getSpan(t,n)))}i=n,n+=r}return i+o-r}fromArray(e){const t=this.makeDestinationObject();for(const n of this.fields)void 0!==n.property&&0<e.length&&(t[n.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const n of this.fields){if(n.property===e)return t;0>n.span?t=-1:0<=t&&(t+=n.span)}}}t.Structure=N;class A{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,n){throw new Error("UnionDiscriminator is abstract")}}t.UnionDiscriminator=A;class O extends A{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,n){return this.layout.encode(e,t,n)}}t.UnionLayoutDiscriminator=O;class k extends a{constructor(e,t,n){let r;if(e instanceof d||e instanceof f)r=new O(new l(e));else if(e instanceof u&&e.isCount())r=new O(e);else{if(!(e instanceof A))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");r=e}if(void 0===t&&(t=null),!(null===t||t instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof d||e instanceof f)&&(i+=r.layout.span)),super(i,n),this.discriminator=r,this.usesPrefixDiscriminator=e instanceof d||e instanceof f,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;const n=this.getVariant(e,t);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const n=this.registry[t];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator,i=r.decode(e,n),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let a=0;this.usesPrefixDiscriminator&&(a=r.layout.span),t=this.makeDestinationObject(),t[r.property]=i,t[o.property]=o.decode(e,n+a)}else t=o.decode(e,n);return t}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getSourceVariant(e);if(void 0===r){const r=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(e[r.property],t,n),o+i.encode(e[i.property],t,n+o)}return r.encode(e,t,n)}addVariant(e,t,n){const r=new C(this,e,t,n);return this.registry[e]=r,r}getVariant(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=e instanceof Uint8Array?this.discriminator.decode(e,n):e,this.registry[t]}}t.Union=k;class C extends a{constructor(e,t,n,r){if(!(e instanceof k))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===r&&(r=n,n=null),n){if(!(n instanceof a))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof r)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,r),this.union=e,this.variant=t,this.layout=n||null}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let r=0;return this.layout&&(r=this.layout.getSpan(e,t+n)),n+r}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,t+r):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,n);let i=r;if(this.layout&&(this.layout.encode(e[this.property],t,n+r),i+=this.layout.getSpan(t,n+r),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function x(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=C;class M extends a{constructor(e,t,n){if(!(e instanceof d||e instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===n&&(n=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!t,this.fields=[];let r=0;this._packedSetValue=function(e){return r=x(e),this},this._packedGetValue=function(){return r}}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.makeDestinationObject(),r=this.word.decode(e,t);this._packedSetValue(r);for(const i of this.fields)void 0!==i.property&&(n[i.property]=i.decode(e));return n}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.word.decode(t,n);this._packedSetValue(r);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,n)}addField(e,t){const n=new P(this,e,t);return this.fields.push(n),n}addBoolean(e){const t=new L(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}t.BitStructure=M;class P{constructor(e,t,n){if(!(e instanceof M))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const r=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>r)throw new Error("bits too long for span remainder ("+(r-i)+" of "+r+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=r-i-t),this.wordMask=x(this.valueMask<<this.start),this.property=n}decode(e,t){return x(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==x(e&this.valueMask))throw new TypeError(s("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),n=x(e<<this.start);this.container._packedSetValue(x(t&~this.wordMask)|n)}}t.BitField=P;class L extends P{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}t.Boolean=L;class D extends a{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof u||(n=e),super(n,t),this.length=e}getSpan(e,t){let n=this.span;return 0>n&&(n=this.length.decode(e,t)),n}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.span;return 0>n&&(n=this.length.decode(e,t)),o(e).slice(t,t+n)}encode(e,t,n){let r=this.length;if(this.length instanceof u&&(r=e.length),!(e instanceof Uint8Array&&r===e.length))throw new TypeError(s("Blob.encode",this)+" requires (length "+r+") Uint8Array as src");if(n+r>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),n,r,"hex"),this.length instanceof u&&this.length.encode(r,t,n),r}}t.Blob=D;class U extends a{constructor(e){super(-1,e)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(e);let n=t;for(;n<e.length&&0!==e[n];)n+=1;return 1+n-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);return o(e).slice(t,t+n-1).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),a=i.length;if(n+a>t.length)throw new RangeError("encoding overruns Buffer");const s=o(t);return i.copy(s,n),s[n+a]=0,a+1}}t.CString=U;class j extends a{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(e),e.length-t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+n).toString("utf-8")}encode(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;"string"!==typeof e&&(e=String(e));const i=r.Buffer.from(e,"utf8"),a=i.length;if(0<=this.maxSpan&&this.maxSpan<a)throw new RangeError("text length exceeds maxSpan");if(n+a>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),n),a}}t.UTF8=j;class G extends a{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,n){return 0}}t.Constant=G,t.greedy=(e,t)=>new c(e,t),t.offset=(e,t,n)=>new l(e,t,n),t.u8=e=>new d(1,e),t.u16=e=>new d(2,e),t.u24=e=>new d(3,e),t.u32=e=>new d(4,e),t.u40=e=>new d(5,e),t.u48=e=>new d(6,e),t.nu64=e=>new E(e),t.u16be=e=>new f(2,e),t.u24be=e=>new f(3,e),t.u32be=e=>new f(4,e),t.u40be=e=>new f(5,e),t.u48be=e=>new f(6,e),t.nu64be=e=>new m(e),t.s8=e=>new h(1,e),t.s16=e=>new h(2,e),t.s24=e=>new h(3,e),t.s32=e=>new h(4,e),t.s40=e=>new h(5,e),t.s48=e=>new h(6,e),t.ns64=e=>new w(e),t.s16be=e=>new p(2,e),t.s24be=e=>new p(3,e),t.s32be=e=>new p(4,e),t.s40be=e=>new p(5,e),t.s48be=e=>new p(6,e),t.ns64be=e=>new S(e),t.f32=e=>new b(e),t.f32be=e=>new _(e),t.f64=e=>new T(e),t.f64be=e=>new I(e),t.struct=(e,t,n)=>new N(e,t,n),t.bits=(e,t,n)=>new M(e,t,n),t.seq=(e,t,n)=>new R(e,t,n),t.union=(e,t,n)=>new k(e,t,n),t.unionLayoutDiscriminator=(e,t)=>new O(e,t),t.blob=(e,t)=>new D(e,t),t.cstr=e=>new U(e),t.utf8=(e,t)=>new j(e,t),t.constant=(e,t)=>new G(e,t)},function(e,t,n){"use strict";e.exports=n(126)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(12);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";(function(e){var r=n(109),i=n(110),o=n(111);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=f(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n);e=s(e,r);var i=e.write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):f(e,t);if("Buffer"===t.type&&o(t.data))return f(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function f(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function y(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:E(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):E(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function E(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var d=!0,f=0;f<u;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return-1}function m(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return W(B(t,e.length-n),e,n,r)}function S(e,t,n,r){return W(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return S(e,t,n,r)}function _(e,t,n,r){return W(z(t),e,n,r)}function T(e,t,n,r){return W(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function I(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=n)switch(d){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,d=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=d}return function(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return d(null,e)},u.allocUnsafeSlow=function(e){return d(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?R(this,0,e):y.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),d=0;d<s;++d)if(c[d]!==l[d]){o=c[d],a=l[d];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return S(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return _(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function x(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||x(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function W(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t,n){"use strict";var r,i;n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CHECKING=1]="CHECKING",e[e.NOT_REQUESTED=2]="NOT_REQUESTED",e[e.COLLECTING_USER_INFORMATION=3]="COLLECTING_USER_INFORMATION",e[e.PROOF_OF_WALLET_OWNERSHIP=4]="PROOF_OF_WALLET_OWNERSHIP",e[e.IN_REVIEW=5]="IN_REVIEW",e[e.REJECTED=6]="REJECTED",e[e.REVOKED=7]="REVOKED",e[e.FROZEN=8]="FROZEN",e[e.ACTIVE=9]="ACTIVE",e[e.ERROR=10]="ERROR",e[e.LOCATION_NOT_SUPPORTED=11]="LOCATION_NOT_SUPPORTED",e[e.VPN_NOT_SUPPORTED=12]="VPN_NOT_SUPPORTED",e[e.REFRESH_TOKEN_REQUIRED=13]="REFRESH_TOKEN_REQUIRED",e[e.VALIDATING_USER_INFORMATION=14]="VALIDATING_USER_INFORMATION",e[e.USER_INFORMATION_VALIDATED=15]="USER_INFORMATION_VALIDATED",e[e.USER_INFORMATION_REJECTED=16]="USER_INFORMATION_REJECTED"}(r||(r={})),function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(i||(i={}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Account",(function(){return be})),n.d(t,"AddressLookupTableAccount",(function(){return Lt})),n.d(t,"AddressLookupTableInstruction",(function(){return xr})),n.d(t,"AddressLookupTableProgram",(function(){return Mr})),n.d(t,"Authorized",(function(){return Hr})),n.d(t,"BLOCKHASH_CACHE_TIMEOUT_MS",(function(){return Bt})),n.d(t,"BPF_LOADER_DEPRECATED_PROGRAM_ID",(function(){return _e})),n.d(t,"BPF_LOADER_PROGRAM_ID",(function(){return Tt})),n.d(t,"BpfLoader",(function(){return It})),n.d(t,"COMPUTE_BUDGET_INSTRUCTION_LAYOUTS",(function(){return Lr})),n.d(t,"ComputeBudgetInstruction",(function(){return Pr})),n.d(t,"ComputeBudgetProgram",(function(){return Dr})),n.d(t,"Connection",(function(){return Or})),n.d(t,"Ed25519Program",(function(){return jr})),n.d(t,"Enum",(function(){return ye})),n.d(t,"EpochSchedule",(function(){return xt})),n.d(t,"FeeCalculatorLayout",(function(){return ht})),n.d(t,"Keypair",(function(){return kr})),n.d(t,"LAMPORTS_PER_SOL",(function(){return hi})),n.d(t,"LOOKUP_TABLE_INSTRUCTION_LAYOUTS",(function(){return Cr})),n.d(t,"Loader",(function(){return _t})),n.d(t,"Lockup",(function(){return Kr})),n.d(t,"MAX_SEED_LENGTH",(function(){return Ee})),n.d(t,"Message",(function(){return ze})),n.d(t,"MessageAccountKeys",(function(){return ke})),n.d(t,"MessageV0",(function(){return We})),n.d(t,"NONCE_ACCOUNT_LENGTH",(function(){return yt})),n.d(t,"NonceAccount",(function(){return gt})),n.d(t,"PACKET_DATA_SIZE",(function(){return Te})),n.d(t,"PUBLIC_KEY_LENGTH",(function(){return me})),n.d(t,"PublicKey",(function(){return Se})),n.d(t,"SIGNATURE_LENGTH_IN_BYTES",(function(){return Re})),n.d(t,"SOLANA_SCHEMA",(function(){return ge})),n.d(t,"STAKE_CONFIG_ID",(function(){return Wr})),n.d(t,"STAKE_INSTRUCTION_LAYOUTS",(function(){return qr})),n.d(t,"SYSTEM_INSTRUCTION_LAYOUTS",(function(){return wt})),n.d(t,"SYSVAR_CLOCK_PUBKEY",(function(){return Xe})),n.d(t,"SYSVAR_EPOCH_SCHEDULE_PUBKEY",(function(){return Je})),n.d(t,"SYSVAR_INSTRUCTIONS_PUBKEY",(function(){return $e})),n.d(t,"SYSVAR_RECENT_BLOCKHASHES_PUBKEY",(function(){return et})),n.d(t,"SYSVAR_RENT_PUBKEY",(function(){return tt})),n.d(t,"SYSVAR_REWARDS_PUBKEY",(function(){return nt})),n.d(t,"SYSVAR_SLOT_HASHES_PUBKEY",(function(){return rt})),n.d(t,"SYSVAR_SLOT_HISTORY_PUBKEY",(function(){return it})),n.d(t,"SYSVAR_STAKE_HISTORY_PUBKEY",(function(){return ot})),n.d(t,"Secp256k1Program",(function(){return Br})),n.d(t,"SendTransactionError",(function(){return at})),n.d(t,"SolanaJSONRPCError",(function(){return ut})),n.d(t,"SolanaJSONRPCErrorCode",(function(){return st})),n.d(t,"StakeAuthorizationLayout",(function(){return Yr})),n.d(t,"StakeInstruction",(function(){return Vr})),n.d(t,"StakeProgram",(function(){return Qr})),n.d(t,"Struct",(function(){return pe})),n.d(t,"SystemInstruction",(function(){return mt})),n.d(t,"SystemProgram",(function(){return St})),n.d(t,"Transaction",(function(){return Ye})),n.d(t,"TransactionExpiredBlockheightExceededError",(function(){return Ne})),n.d(t,"TransactionExpiredNonceInvalidError",(function(){return Oe})),n.d(t,"TransactionExpiredTimeoutError",(function(){return Ae})),n.d(t,"TransactionInstruction",(function(){return qe})),n.d(t,"TransactionMessage",(function(){return Qe})),n.d(t,"TransactionStatus",(function(){return Ke})),n.d(t,"VALIDATOR_INFO_KEY",(function(){return ti})),n.d(t,"VERSION_PREFIX_MASK",(function(){return Ie})),n.d(t,"VOTE_PROGRAM_ID",(function(){return ii})),n.d(t,"ValidatorInfo",(function(){return ri})),n.d(t,"VersionedMessage",(function(){return He})),n.d(t,"VersionedTransaction",(function(){return Ze})),n.d(t,"VoteAccount",(function(){return ai})),n.d(t,"VoteAuthorizationLayout",(function(){return $r})),n.d(t,"VoteInit",(function(){return Zr})),n.d(t,"VoteInstruction",(function(){return Xr})),n.d(t,"VoteProgram",(function(){return ei})),n.d(t,"clusterApiUrl",(function(){return di})),n.d(t,"sendAndConfirmRawTransaction",(function(){return fi})),n.d(t,"sendAndConfirmTransaction",(function(){return ct}));var r=n(10),i=n(3),o=n(4),a=n(20),s=n(31),u=n.n(s),c=n(11),l=n.n(c),d=n(39),f=n(43),h=n(1),p=n(44);const y=["message","explanation"];class g extends TypeError{constructor(e,t){let n;const{message:i,explanation:o}=e,a=Object(r.a)(e,y),{path:s}=e,u=0===s.length?i:"At path: ".concat(s.join(".")," -- ").concat(i);super(null!==o&&void 0!==o?o:u),null!=o&&(this.cause=u),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>null!==n&&void 0!==n?n:n=[e,...t()]}}function v(e){return"object"===typeof e&&null!=e}function E(e){return v(e)&&!Array.isArray(e)}function m(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):"".concat(e)}function w(e,t,n,r){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:o,branch:a}=t,{type:s}=n,{refinement:u,message:c="Expected a value of type `".concat(s,"`").concat(u?" with refinement `".concat(u,"`"):"",", but received: `").concat(m(r),"`")}=e;return Object(i.a)(Object(i.a)({value:r,type:s,refinement:u,key:o[o.length-1],path:o,branch:a},e),{},{message:c})}function*S(e,t,n,r){var i;v(i=e)&&"function"===typeof i[Symbol.iterator]||(e=[e]);for(const o of e){const e=w(o,t,n,r);e&&(yield e)}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function*(){const{path:r=[],branch:i=[e],coerce:o=!1,mask:a=!1}=n,s={path:r,branch:i,mask:a};o&&(e=t.coercer(e,s));let u="valid";for(const c of t.validator(e,s))c.explanation=n.message,u="not_valid",yield[c,void 0];for(let[c,l,d]of t.entries(e,s)){const t=b(l,d,{path:void 0===c?r:[...r,c],branch:void 0===c?i:[...i,l],coerce:o,mask:a,message:n.message});for(const n of t)n[0]?(u=null!=n[0].refinement?"not_refined":"not_valid",yield[n[0],void 0]):o&&(l=n[1],void 0===c?e=l:e instanceof Map?e.set(c,l):e instanceof Set?e.add(l):v(e)&&(void 0!==l||c in e)&&(e[c]=l))}if("not_valid"!==u)for(const c of t.refiner(e,s))c.explanation=n.message,u="not_refined",yield[c,void 0];"valid"===u&&(yield[void 0,e])}()}class _{constructor(e){const{type:t,schema:n,validator:r,refiner:i,coercer:o=e=>e,entries:a=function*(){}}=e;this.type=t,this.schema=n,this.entries=a,this.coercer=o,this.validator=r?(e,t)=>S(r(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>S(i(e,t),t,this,e):()=>[]}assert(e,t){return T(e,this,t)}create(e,t){return I(e,this,t)}is(e){return R(e,this)}mask(e,t){return function(e,t,n){const r=N(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}(e,this,t)}validate(e){return N(e,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function T(e,t,n){const r=N(e,t,{message:n});if(r[0])throw r[0]}function I(e,t,n){const r=N(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function R(e,t){return!N(e,t)[0]}function N(e,t){const n=b(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}),r=function(e){const{done:t,value:n}=e.next();return t?void 0:n}(n);if(r[0]){return[new g(r[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]}return[void 0,r[1]]}function A(e,t){return new _({type:e,schema:null,validator:t})}function O(e){return new _({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: ".concat(m(e))})}function k(){return A("boolean",(e=>"boolean"===typeof e))}function C(e){return A("instance",(t=>t instanceof e||"Expected a `".concat(e.name,"` instance, but received: ").concat(m(t))))}function x(e){const t=m(e),n=typeof e;return new _({type:"literal",schema:"string"===n||"number"===n||"boolean"===n?e:null,validator:n=>n===e||"Expected the literal `".concat(t,"`, but received: ").concat(m(n))})}function M(){return A("never",(()=>!1))}function P(e){return new _(Object(i.a)(Object(i.a)({},e),{},{validator:(t,n)=>null===t||e.validator(t,n),refiner:(t,n)=>null===t||e.refiner(t,n)}))}function L(){return A("number",(e=>"number"===typeof e&&!isNaN(e)||"Expected a number, but received: ".concat(m(e))))}function D(e){return new _(Object(i.a)(Object(i.a)({},e),{},{validator:(t,n)=>void 0===t||e.validator(t,n),refiner:(t,n)=>void 0===t||e.refiner(t,n)}))}function U(e,t){return new _({type:"record",schema:null,*entries(n){if(v(n))for(const r in n){const i=n[r];yield[r,r,e],yield[r,i,t]}},validator:e=>E(e)||"Expected an object, but received: ".concat(m(e)),coercer:e=>E(e)?Object(i.a)({},e):e})}function j(){return A("string",(e=>"string"===typeof e||"Expected a string, but received: ".concat(m(e))))}function G(e){const t=M();return new _({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],e[i]||t]}},validator:e=>Array.isArray(e)||"Expected an array, but received: ".concat(m(e)),coercer:e=>Array.isArray(e)?e.slice():e})}function F(e){const t=Object.keys(e);return new _({type:"type",schema:e,*entries(n){if(v(n))for(const r of t)yield[r,n[r],e[r]]},validator:e=>E(e)||"Expected an object, but received: ".concat(m(e)),coercer:e=>E(e)?Object(i.a)({},e):e})}function B(e){const t=e.map((e=>e.type)).join(" | ");return new _({type:"union",schema:null,coercer(t,n){for(const r of e){const[e,i]=r.validate(t,{coerce:!0,mask:n.mask});if(!e)return i}return t},validator(n,r){const i=[];for(const t of e){const[...e]=b(n,t,r),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `".concat(t,"`, but received: ").concat(m(n)),...i]}})}function z(){return A("unknown",(()=>!0))}function W(e,t,n){return new _(Object(i.a)(Object(i.a)({},e),{},{coercer:(r,i)=>R(r,t)?e.coercer(n(r,i),i):e.coercer(r,i)}))}var H=n(80),K=n.n(H),V=n(12),q=n(81);const Y=["autoconnect","reconnect","reconnect_interval","max_reconnects"],{Buffer:Q}=o,{EventEmitter:Z}=q;var X=class extends Z{constructor(e,t,n){super(),Object(V.a)(this,"socket",void 0),this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,n){const r=n||t;try{this.socket.send(e),r()}catch(i){r(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,n){this.socket.addEventListener(e,t,n)}};function J(e,t){return new X(e,t)}var $=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},ee=class extends Z{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{autoconnect:o=!0,reconnect:a=!0,reconnect_interval:s=1e3,max_reconnects:u=5}=n,c=Object(r.a)(n,Y),l=arguments.length>3?arguments[3]:void 0,d=arguments.length>4?arguments[4]:void 0;super(),Object(V.a)(this,"address",void 0),Object(V.a)(this,"rpc_id",void 0),Object(V.a)(this,"queue",void 0),Object(V.a)(this,"options",void 0),Object(V.a)(this,"autoconnect",void 0),Object(V.a)(this,"ready",void 0),Object(V.a)(this,"reconnect",void 0),Object(V.a)(this,"reconnect_timer_id",void 0),Object(V.a)(this,"reconnect_interval",void 0),Object(V.a)(this,"max_reconnects",void 0),Object(V.a)(this,"rest_options",void 0),Object(V.a)(this,"current_reconnects",void 0),Object(V.a)(this,"generate_request_id",void 0),Object(V.a)(this,"socket",void 0),Object(V.a)(this,"webSocketFactory",void 0),Object(V.a)(this,"dataPack",void 0),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=o,this.ready=!1,this.reconnect=a,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=u,this.rest_options=c,this.current_reconnects=0,this.generate_request_id=l||(()=>++this.rpc_id),this.dataPack=d||new $,this.autoconnect&&this._connect(this.address,Object(i.a)({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}connect(){this.socket||this._connect(this.address,Object(i.a)({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}call(e,t,n,r){return r||"object"!==typeof n||(r=n,n=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,t),s={jsonrpc:"2.0",method:e,params:t||void 0,id:a};this.socket.send(this.dataPack.encode(s),r,(e=>{if(e)return o(e);this.queue[a]={promise:[i,o]},n&&(this.queue[a].timeout=setTimeout((()=>{delete this.queue[a],o(new Error("reply timeout"))}),n))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((n,r)=>{if(!this.ready)return r(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return r(e);n()}))}))}async subscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(e=>{let{data:t}=e;t instanceof ArrayBuffer&&(t=Q.from(t).toString());try{t=this.dataPack.decode(t)}catch(n){return}if(t.notification&&this.listeners(t.notification).length){if(!Object.keys(t.params).length)return this.emit(t.notification);const e=[t.notification];if(t.params.constructor===Object)e.push(t.params);else for(let n=0;n<t.params.length;n++)e.push(t.params[n]);return Promise.resolve().then((()=>{this.emit.apply(this,e)}))}if(!this.queue[t.id])return t.method?Promise.resolve().then((()=>{var e;this.emit(t.method,null===(e=t)||void 0===e?void 0:e.params)})):void 0;"error"in t==="result"in t&&this.queue[t.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[t.id].timeout&&clearTimeout(this.queue[t.id].timeout),t.error?this.queue[t.id].promise[1](t.error):this.queue[t.id].promise[0](t.result),delete this.queue[t.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(n=>{let{code:r,reason:i}=n;this.ready&&setTimeout((()=>this.emit("close",r,i)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}},te=n(56),ne=n(45);const re=["commitment"],ie=["encoding"],oe=["commitment"],ae=["commitment"],se=a.ed25519.utils.randomPrivateKey,ue=()=>{const e=a.ed25519.utils.randomPrivateKey(),t=ce(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),{publicKey:t,secretKey:n}},ce=a.ed25519.getPublicKey;function le(e){try{return a.ed25519.ExtendedPoint.fromHex(e),!0}catch(t){return!1}}const de=(e,t)=>a.ed25519.sign(e,t.slice(0,32)),fe=a.ed25519.verify,he=e=>o.Buffer.isBuffer(e)?e:e instanceof Uint8Array?o.Buffer.from(e.buffer,e.byteOffset,e.byteLength):o.Buffer.from(e);class pe{constructor(e){Object.assign(this,e)}encode(){return o.Buffer.from(Object(f.serialize)(ge,this))}static decode(e){return Object(f.deserialize)(ge,this,e)}static decodeUnchecked(e){return Object(f.deserializeUnchecked)(ge,this,e)}}class ye extends pe{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const ge=new Map;var ve;const Ee=32,me=32;let we=1;class Se extends pe{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=l.a.decode(e);if(t.length!=me)throw new Error("Invalid public key input");this._bn=new u.a(t)}else this._bn=new u.a(e);if(this._bn.byteLength()>me)throw new Error("Invalid public key input")}}static unique(){const e=new Se(we);return we+=1,new Se(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return l.a.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(o.Buffer);if(e.length===me)return e;const t=o.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return"PublicKey(".concat(this.toString(),")")}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=o.Buffer.concat([e.toBuffer(),o.Buffer.from(t),n.toBuffer()]),i=Object(d.sha256)(r);return new Se(i)}static createProgramAddressSync(e,t){let n=o.Buffer.alloc(0);e.forEach((function(e){if(e.length>Ee)throw new TypeError("Max seed length exceeded");n=o.Buffer.concat([n,he(e)])})),n=o.Buffer.concat([n,t.toBuffer(),o.Buffer.from("ProgramDerivedAddress")]);const r=Object(d.sha256)(n);if(le(r))throw new Error("Invalid seeds, address must fall off the curve");return new Se(r)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const i=e.concat(o.Buffer.from([r]));n=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return le(new Se(e).toBytes())}}ve=Se,Se.default=new ve("11111111111111111111111111111111"),ge.set(Se,{kind:"struct",fields:[["_bn","u256"]]});class be{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=he(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=he(se()),this._publicKey=he(ce(this._secretKey))}get publicKey(){return new Se(this._publicKey)}get secretKey(){return o.Buffer.concat([this._secretKey,this._publicKey],64)}}const _e=new Se("BPFLoader1111111111111111111111111111111111"),Te=1232,Ie=127,Re=64;class Ne extends Error{constructor(e){super("Signature ".concat(e," has expired: block height exceeded.")),this.signature=void 0,this.signature=e}}Object.defineProperty(Ne.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Ae extends Error{constructor(e,t){super("Transaction was not confirmed in ".concat(t.toFixed(2)," seconds. It is ")+"unknown if it succeeded or failed. Check signature "+"".concat(e," using the Solana Explorer or CLI tools.")),this.signature=void 0,this.signature=e}}Object.defineProperty(Ae.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Oe extends Error{constructor(e){super("Signature ".concat(e," has expired: the nonce is no longer valid.")),this.signature=void 0,this.signature=e}}Object.defineProperty(Oe.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ke{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,n)=>{t.set(e.toBase58(),n)}));const n=e=>{const n=t.get(e.toBase58());if(void 0===n)throw new Error("Encountered an unknown instruction account key during compilation");return n};return e.map((e=>({programIdIndex:n(e.programId),accountKeyIndexes:e.keys.map((e=>n(e.pubkey))),data:e.data})))}}const Ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return h.blob(32,e)},xe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return h.blob(64,e)},Me=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=h.struct([h.u32("length"),h.u32("lengthPadding"),h.blob(h.offset(h.u32(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),i=t;return i.decode=(e,t)=>n(e,t).chars.toString(),i.encode=(e,t,n)=>{const i={chars:o.Buffer.from(e,"utf8")};return r(i,t,n)},i.alloc=e=>h.u32().span+h.u32().span+o.Buffer.from(e,"utf8").length,i};function Pe(e,t){const n=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const r=t[e.property];if(Array.isArray(r))return r.length*n(e.elementLayout)}else if("fields"in e)return Pe({layout:e},t[e.property]);return 0};let r=0;return e.layout.fields.forEach((e=>{r+=n(e)})),r}function Le(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function De(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}function Ue(e,t){if(!e)throw new Error(t||"Assertion failed")}class je{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const n=new Map,r=e=>{const t=e.toBase58();let r=n.get(t);return void 0===r&&(r={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(t,r)),r},i=r(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){r(o.programId).isInvoked=!0;for(const e of o.keys){const t=r(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new je(t,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Ue(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),n=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),r=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),o={numRequiredSignatures:t.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Ue(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Ue(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((e=>{let[t]=e;return new Se(t)})),...n.map((e=>{let[t]=e;return new Se(t)})),...r.map((e=>{let[t]=e;return new Se(t)})),...i.map((e=>{let[t]=e;return new Se(t)}))]]}extractTableLookup(e){const[t,n]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[r,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==r.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:r},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,t){const n=new Array,r=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new Se(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Ue(o<256,"Max lookup table index exceeded"),n.push(o),r.push(t),this.keyMetaMap.delete(i))}return[n,r]}}const Ge="Reached end of buffer unexpectedly";function Fe(e){if(0===e.length)throw new Error(Ge);return e.shift()}function Be(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const[o]=r;if(2===r.length?o+(null!==(t=r[1])&&void 0!==t?t:0)>e.length:o>=e.length)throw new Error(Ge);return e.splice(...r)}class ze{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Se(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:l.a.decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new ke(this.staticAccountKeys)}static compile(e){const t=je.compile(e.instructions,e.payerKey),[n,r]=t.getMessageComponents(),i=new ke(r).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:l.a.encode(e.data)})));return new ze({header:n,accountKeys:r,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];De(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(l.a.decode(e.data));let i=[];De(i,t.length);let a=[];return De(a,r.length),{programIdIndex:n,keyIndicesCount:o.Buffer.from(i),keyIndices:t,dataLength:o.Buffer.from(a),data:r}}));let r=[];De(r,n.length);let i=o.Buffer.alloc(Te);o.Buffer.from(r).copy(i);let a=r.length;n.forEach((e=>{const t=h.struct([h.u8("programIdIndex"),h.blob(e.keyIndicesCount.length,"keyIndicesCount"),h.seq(h.u8("keyIndex"),e.keyIndices.length,"keyIndices"),h.blob(e.dataLength.length,"dataLength"),h.seq(h.u8("userdatum"),e.data.length,"data")]).encode(e,i,a);a+=t})),i=i.slice(0,a);const s=h.struct([h.blob(1,"numRequiredSignatures"),h.blob(1,"numReadonlySignedAccounts"),h.blob(1,"numReadonlyUnsignedAccounts"),h.blob(t.length,"keyCount"),h.seq(Ce("key"),e,"keys"),Ce("recentBlockhash")]),u={numRequiredSignatures:o.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.Buffer.from(t),keys:this.accountKeys.map((e=>he(e.toBytes()))),recentBlockhash:l.a.decode(this.recentBlockhash)};let c=o.Buffer.alloc(2048);const d=s.encode(u,c);return i.copy(c,d),c.slice(0,d+i.length)}static from(e){let t=[...e];const n=Fe(t);if(n!==(n&Ie))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r=Fe(t),i=Fe(t),a=Le(t);let s=[];for(let l=0;l<a;l++){const e=Be(t,0,me);s.push(new Se(o.Buffer.from(e)))}const u=Be(t,0,me),c=Le(t);let d=[];for(let h=0;h<c;h++){const e=Fe(t),n=Be(t,0,Le(t)),r=Be(t,0,Le(t)),i=l.a.encode(o.Buffer.from(r));d.push({programIdIndex:e,accounts:n,data:i})}const f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:i},recentBlockhash:l.a.encode(o.Buffer.from(u)),accountKeys:s,instructions:d};return new ze(f)}}class We{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ke(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){return e-n<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<n-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const n of this.addressTableLookups){const r=e.find((e=>e.key.equals(n.accountKey)));if(!r)throw new Error("Failed to find address lookup table account for table key ".concat(n.accountKey.toBase58()));for(const e of n.writableIndexes){if(!(e<r.state.addresses.length))throw new Error("Failed to find address for index ".concat(e," in address lookup table ").concat(n.accountKey.toBase58()));t.writable.push(r.state.addresses[e])}for(const e of n.readonlyIndexes){if(!(e<r.state.addresses.length))throw new Error("Failed to find address for index ".concat(e," in address lookup table ").concat(n.accountKey.toBase58()));t.readonly.push(r.state.addresses[e])}}return t}static compile(e){const t=je.compile(e.instructions,e.payerKey),n=new Array,r={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const e=t.extractTableLookup(u);if(void 0!==e){const[t,{writable:i,readonly:o}]=e;n.push(t),r.writable.push(...i),r.readonly.push(...o)}}const[o,a]=t.getMessageComponents(),s=new ke(a,r).compileInstructions(e.instructions);return new We({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:s,addressTableLookups:n})}serialize(){const e=Array();De(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),n=Array();De(n,this.compiledInstructions.length);const r=this.serializeAddressTableLookups(),i=Array();De(i,this.addressTableLookups.length);const o=h.struct([h.u8("prefix"),h.struct([h.u8("numRequiredSignatures"),h.u8("numReadonlySignedAccounts"),h.u8("numReadonlyUnsignedAccounts")],"header"),h.blob(e.length,"staticAccountKeysLength"),h.seq(Ce(),this.staticAccountKeys.length,"staticAccountKeys"),Ce("recentBlockhash"),h.blob(n.length,"instructionsLength"),h.blob(t.length,"serializedInstructions"),h.blob(i.length,"addressTableLookupsLength"),h.blob(r.length,"serializedAddressTableLookups")]),a=new Uint8Array(Te),s=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:l.a.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:r},a);return a.slice(0,s)}serializeInstructions(){let e=0;const t=new Uint8Array(Te);for(const n of this.compiledInstructions){const r=Array();De(r,n.accountKeyIndexes.length);const i=Array();De(i,n.data.length);e+=h.struct([h.u8("programIdIndex"),h.blob(r.length,"encodedAccountKeyIndexesLength"),h.seq(h.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),h.blob(i.length,"encodedDataLength"),h.blob(n.data.length,"data")]).encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(r),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Te);for(const n of this.addressTableLookups){const r=Array();De(r,n.writableIndexes.length);const i=Array();De(i,n.readonlyIndexes.length);e+=h.struct([Ce("accountKey"),h.blob(r.length,"encodedWritableIndexesLength"),h.seq(h.u8(),n.writableIndexes.length,"writableIndexes"),h.blob(i.length,"encodedReadonlyIndexesLength"),h.seq(h.u8(),n.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(r),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const n=Fe(t),r=n&Ie;Ue(n!==r,"Expected versioned message but received legacy message");Ue(0===r,"Expected versioned message with version 0 but found version ".concat(r));const i={numRequiredSignatures:Fe(t),numReadonlySignedAccounts:Fe(t),numReadonlyUnsignedAccounts:Fe(t)},o=[],a=Le(t);for(let l=0;l<a;l++)o.push(new Se(Be(t,0,me)));const s=l.a.encode(Be(t,0,me)),u=Le(t),c=[];for(let l=0;l<u;l++){const e=Fe(t),n=Be(t,0,Le(t)),r=Le(t),i=new Uint8Array(Be(t,0,r));c.push({programIdIndex:e,accountKeyIndexes:n,data:i})}const d=Le(t),f=[];for(let l=0;l<d;l++){const e=new Se(Be(t,0,me)),n=Be(t,0,Le(t)),r=Be(t,0,Le(t));f.push({accountKey:e,writableIndexes:n,readonlyIndexes:r})}return new We({header:i,staticAccountKeys:o,recentBlockhash:s,compiledInstructions:c,addressTableLookups:f})}}const He={deserializeMessageVersion(e){const t=e[0],n=t&Ie;return n===t?"legacy":n},deserialize:e=>{const t=He.deserializeMessageVersion(e);if("legacy"===t)return ze.from(e);if(0===t)return We.deserialize(e);throw new Error("Transaction message version ".concat(t," deserialization is not supported"))}};let Ke=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Ve=o.Buffer.alloc(Re).fill(0);class qe{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ye{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:n}=e;this.minNonceContextSlot=t,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:n}=e;this.recentBlockhash=t,this.lastValidBlockHeight=n}else{const{recentBlockhash:t,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new qe(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let i=0;i<t.length;i++)if(void 0===t[i].programId)throw new Error("Transaction instruction index ".concat(i," has undefined program id"));const r=[],o=[];t.forEach((e=>{e.keys.forEach((e=>{o.push(Object(i.a)({},e))}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{o.push({pubkey:new Se(e),isSigner:!1,isWritable:!1})}));const a=[];o.forEach((e=>{const t=e.pubkey.toString(),n=a.findIndex((e=>e.pubkey.toString()===t));n>-1?(a[n].isWritable=a[n].isWritable||e.isWritable,a[n].isSigner=a[n].isSigner||e.isSigner):a.push(e)})),a.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=a.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=a.splice(s,1);e.isSigner=!0,e.isWritable=!0,a.unshift(e)}else a.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const i of this.signatures){const e=a.findIndex((e=>e.pubkey.equals(i.publicKey)));if(!(e>-1))throw new Error("unknown signer: ".concat(i.publicKey.toString()));a[e].isSigner||(a[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let u=0,c=0,d=0;const f=[],h=[];a.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(f.push(t.toString()),u+=1,r||(c+=1)):(h.push(t.toString()),r||(d+=1))}));const p=f.concat(h),y=t.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:p.indexOf(n.toString()),accounts:e.keys.map((e=>p.indexOf(e.pubkey.toString()))),data:l.a.encode(t)}}));return y.forEach((e=>{Ue(e.programIdIndex>=0),e.accounts.forEach((e=>Ue(e>=0)))})),new ze({header:{numRequiredSignatures:u,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:d},accountKeys:p,recentBlockhash:e,instructions:y})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const a of t){const e=a.publicKey.toString();r.has(e)||(r.add(e),i.push(a))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const o=this._compile();this._partialSign(o,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,i=[];for(const a of t){const e=a.publicKey.toString();r.has(e)||(r.add(e),i.push(a))}const o=this._compile();this._partialSign(o,...i)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{const n=de(t,e.secretKey);this._addSignature(e.publicKey,he(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Ue(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error("unknown signer: ".concat(e.toString()));this.signatures[n].signature=o.Buffer.from(t)}verifySignatures(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const n={};for(const{signature:r,publicKey:i}of this.signatures)null===r?t&&(n.missing||(n.missing=[])).push(i):fe(r,e,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n){const e=this._getMessageSignednessErrors(r,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+="\nInvalid signature for public key".concat(1===e.invalid.length?"":"(s)"," [`").concat(e.invalid.map((e=>e.toBase58())).join("`, `"),"`].")),e.missing&&(t+="\nMissing signature for public key".concat(1===e.missing.length?"":"(s)"," [`").concat(e.missing.map((e=>e.toBase58())).join("`, `"),"`].")),new Error(t)}}return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];De(n,t.length);const r=n.length+64*t.length+e.length,i=o.Buffer.alloc(r);return Ue(t.length<256),o.Buffer.from(n).copy(i,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(Ue(64===r.length,"signature has invalid length"),o.Buffer.from(r).copy(i,n.length+64*t))})),e.copy(i,n.length+64*t.length),Ue(i.length<=Te,"Transaction too large: ".concat(i.length," > ").concat(Te)),i}get keys(){return Ue(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Ue(1===this.instructions.length),this.instructions[0].programId}get data(){return Ue(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=Le(t);let r=[];for(let i=0;i<n;i++){const e=Be(t,0,Re);r.push(l.a.encode(o.Buffer.from(e)))}return Ye.populate(ze.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new Ye;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const i={signature:t==l.a.encode(Ve)?null:l.a.decode(t),publicKey:e.accountKeys[r]};n.signatures.push(i)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new qe({keys:r,programId:e.accountKeys[t.programIdIndex],data:l.a.decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}class Qe{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:n,compiledInstructions:r,recentBlockhash:i}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:s}=n,u=o-a;Ue(u>0,"Message header is invalid");const c=e.staticAccountKeys.length-o-s;Ue(c>=0,"Message header is invalid");const l=e.getAccountKeys(t),d=l.get(0);if(void 0===d)throw new Error("Failed to decompile message because no account keys were found");const f=[];for(const h of r){const e=[];for(const r of h.accountKeyIndexes){const t=l.get(r);if(void 0===t)throw new Error("Failed to find key for account key index ".concat(r));let i;i=r<o?r<u:r<l.staticAccountKeys.length?r-o<c:r-l.staticAccountKeys.length<l.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:r<n.numRequiredSignatures,isWritable:i})}const t=l.get(h.programIdIndex);if(void 0===t)throw new Error("Failed to find program id for program id index ".concat(h.programIdIndex));f.push(new qe({programId:t,data:he(h.data),keys:e}))}return new Qe({payerKey:d,instructions:f,recentBlockhash:i})}compileToLegacyMessage(){return ze.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return We.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class Ze{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Ue(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let n=0;n<e.header.numRequiredSignatures;n++)t.push(new Uint8Array(Re));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();De(t,this.signatures.length);const n=h.struct([h.blob(t.length,"encodedSignaturesLength"),h.seq(xe(),this.signatures.length,"signatures"),h.blob(e.length,"serializedMessage")]),r=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},r);return r.slice(0,i)}static deserialize(e){let t=[...e];const n=[],r=Le(t);for(let o=0;o<r;o++)n.push(new Uint8Array(Be(t,0,Re)));const i=He.deserialize(new Uint8Array(t));return new Ze(i,n)}sign(e){const t=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const r of e){const e=n.findIndex((e=>e.equals(r.publicKey)));Ue(e>=0,"Cannot sign with non signer key ".concat(r.publicKey.toBase58())),this.signatures[e]=de(t,r.secretKey)}}addSignature(e,t){Ue(64===t.byteLength,"Signature must be 64 bytes long");const n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Ue(n>=0,"Can not add signature; `".concat(e.toBase58(),"` is not required to sign this transaction")),this.signatures[n]=t}}const Xe=new Se("SysvarC1ock11111111111111111111111111111111"),Je=new Se("SysvarEpochSchedu1e111111111111111111111111"),$e=new Se("Sysvar1nstructions1111111111111111111111111"),et=new Se("SysvarRecentB1ockHashes11111111111111111111"),tt=new Se("SysvarRent111111111111111111111111111111111"),nt=new Se("SysvarRewards111111111111111111111111111111"),rt=new Se("SysvarS1otHashes111111111111111111111111111"),it=new Se("SysvarS1otHistory11111111111111111111111111"),ot=new Se("SysvarStakeHistory1111111111111111111111111");class at extends Error{constructor(e){let{action:t,signature:n,transactionMessage:r,logs:i}=e;const o=i?"Logs: \n".concat(JSON.stringify(i.slice(-10),null,2),". "):"",a="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(t){case"send":s="Transaction ".concat(n," resulted in an error. \n")+"".concat(r,". ")+o+a;break;case"simulate":s="Simulation failed. \nMessage: ".concat(r,". \n")+o+a;break;default:s="Unknown action '".concat(t,"'")}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!==typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,n)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const n=e.meta.logMessages;this.transactionLogs=n,t(n)}else n(new Error("Log messages not found"))})).catch(n)}))),await this.transactionLogs}}const st={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class ut extends Error{constructor(e,t){let{code:n,message:r,data:i}=e;super(null!=t?"".concat(t,": ").concat(r):r),this.code=void 0,this.data=void 0,this.code=n,this.data=i,this.name="SolanaJSONRPCError"}}async function ct(e,t,n,r){const i=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries,minContextSlot:r.minContextSlot},o=await e.sendTransaction(t,n,i);let a;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)a=(await e.confirmTransaction({abortSignal:null===r||void 0===r?void 0:r.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},r&&r.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:n}=t.nonceInfo,i=n.keys[0].pubkey;a=(await e.confirmTransaction({abortSignal:null===r||void 0===r?void 0:r.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},r&&r.commitment)).value}else null!=(null===r||void 0===r?void 0:r.abortSignal)&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),a=(await e.confirmTransaction(o,r&&r.commitment)).value;if(a.err){if(null!=o)throw new at({action:"send",signature:o,transactionMessage:"Status: (".concat(JSON.stringify(a),")")});throw new Error("Transaction ".concat(o," failed (").concat(JSON.stringify(a),")"))}return o}function lt(e){return new Promise((t=>setTimeout(t,e)))}function dt(e,t){const n=e.layout.span>=0?e.layout.span:Pe(e,t),r=o.Buffer.alloc(n),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,r),r}function ft(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error("invalid instruction; instruction index mismatch ".concat(n.instruction," != ").concat(e.index));return n}const ht=h.nu64("lamportsPerSignature"),pt=h.struct([h.u32("version"),h.u32("state"),Ce("authorizedPubkey"),Ce("nonce"),h.struct([ht],"feeCalculator")]),yt=pt.span;class gt{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=pt.decode(he(e),0);return new gt({authorizedPubkey:new Se(t.authorizedPubkey),nonce:new Se(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const vt=(Et=8,e=>{const t=Object(h.blob)(Et,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const n=r(e,t);return Object(p.toBigIntLE)(o.Buffer.from(n))},i.encode=(e,t,r)=>{const i=Object(p.toBufferLE)(e,Et);return n(i,t,r)},i});var Et;class mt{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(wt))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=ft(wt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Se(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=ft(wt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=ft(wt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Se(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=ft(wt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:i}=ft(wt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Se(t),seed:n,space:r,programId:new Se(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=ft(wt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Se(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=ft(wt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Se(t),seed:n,programId:new Se(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:i,programId:o}=ft(wt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Se(t),seed:n,lamports:r,space:i,programId:new Se(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=ft(wt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Se(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ft(wt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ft(wt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=ft(wt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Se(t)}}static checkProgramId(e){if(!e.equals(St.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const wt=Object.freeze({Create:{index:0,layout:h.struct([h.u32("instruction"),h.ns64("lamports"),h.ns64("space"),Ce("programId")])},Assign:{index:1,layout:h.struct([h.u32("instruction"),Ce("programId")])},Transfer:{index:2,layout:h.struct([h.u32("instruction"),vt("lamports")])},CreateWithSeed:{index:3,layout:h.struct([h.u32("instruction"),Ce("base"),Me("seed"),h.ns64("lamports"),h.ns64("space"),Ce("programId")])},AdvanceNonceAccount:{index:4,layout:h.struct([h.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:h.struct([h.u32("instruction"),h.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:h.struct([h.u32("instruction"),Ce("authorized")])},AuthorizeNonceAccount:{index:7,layout:h.struct([h.u32("instruction"),Ce("authorized")])},Allocate:{index:8,layout:h.struct([h.u32("instruction"),h.ns64("space")])},AllocateWithSeed:{index:9,layout:h.struct([h.u32("instruction"),Ce("base"),Me("seed"),h.ns64("space"),Ce("programId")])},AssignWithSeed:{index:10,layout:h.struct([h.u32("instruction"),Ce("base"),Me("seed"),Ce("programId")])},TransferWithSeed:{index:11,layout:h.struct([h.u32("instruction"),vt("lamports"),Me("seed"),Ce("programId")])},UpgradeNonceAccount:{index:12,layout:h.struct([h.u32("instruction")])}});class St{constructor(){}static createAccount(e){const t=dt(wt.Create,{lamports:e.lamports,space:e.space,programId:he(e.programId.toBuffer())});return new qe({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=dt(wt.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:he(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=dt(wt.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new qe({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=dt(wt.AssignWithSeed,{base:he(e.basePubkey.toBuffer()),seed:e.seed,programId:he(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=dt(wt.Assign,{programId:he(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=dt(wt.CreateWithSeed,{base:he(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:he(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new qe({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Ye;"basePubkey"in e&&"seed"in e?t.add(St.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:yt,programId:this.programId})):t.add(St.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:yt,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=dt(wt.InitializeNonceAccount,{authorized:he(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:tt,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new qe(n)}static nonceAdvance(e){const t=dt(wt.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new qe(n)}static nonceWithdraw(e){const t=dt(wt.WithdrawNonceAccount,{lamports:e.lamports});return new qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:et,isSigner:!1,isWritable:!1},{pubkey:tt,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=dt(wt.AuthorizeNonceAccount,{authorized:he(e.newAuthorizedPubkey.toBuffer())});return new qe({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=dt(wt.AllocateWithSeed,{base:he(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:he(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=dt(wt.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new qe({keys:n,programId:this.programId,data:t})}}St.programId=new Se("11111111111111111111111111111111");const bt=Te-300;class _t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/_t.chunkSize)+1+1)}static async load(e,t,n,r,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),a=await e.getAccountInfo(n.publicKey,"confirmed");let s=null;if(null!==a){if(a.executable)return console.error("Program load failed, account is already executable"),!1;a.data.length!==i.length&&(s=s||new Ye,s.add(St.allocate({accountPubkey:n.publicKey,space:i.length}))),a.owner.equals(r)||(s=s||new Ye,s.add(St.assign({accountPubkey:n.publicKey,programId:r}))),a.lamports<o&&(s=s||new Ye,s.add(St.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:o-a.lamports})))}else s=(new Ye).add(St.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:o>0?o:1,space:i.length,programId:r}));null!==s&&await ct(e,s,[t,n],{commitment:"confirmed"})}const a=h.struct([h.u32("instruction"),h.u32("offset"),h.u32("bytesLength"),h.u32("bytesLengthPadding"),h.seq(h.u8("byte"),h.offset(h.u32(),-8),"bytes")]),s=_t.chunkSize;let u=0,c=i,l=[];for(;c.length>0;){const i=c.slice(0,s),d=o.Buffer.alloc(s+16);a.encode({instruction:0,offset:u,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const f=(new Ye).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:d});if(l.push(ct(e,f,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await lt(1e3/e)}u+=s,c=c.slice(s)}await Promise.all(l);{const i=h.struct([h.u32("instruction")]),a=o.Buffer.alloc(i.span);i.encode({instruction:1},a);const s=(new Ye).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:tt,isSigner:!1,isWritable:!1}],programId:r,data:a}),u="processed",c=await e.sendTransaction(s,[t,n],{preflightCommitment:u}),{context:l,value:f}=await e.confirmTransaction({signature:c,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},u);if(f.err)throw new Error("Transaction ".concat(c," failed (").concat(JSON.stringify(f),")"));for(;;){try{if(await e.getSlot({commitment:u})>l.slot)break}catch(d){}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}_t.chunkSize=bt;const Tt=new Se("BPFLoader2111111111111111111111111111111111");class It{static getMinNumSignatures(e){return _t.getMinNumSignatures(e)}static load(e,t,n,r,i){return _t.load(e,t,n,i,r)}}function Rt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nt,At;function Ot(){if(At)return Nt;At=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function n(r,i){var o,a,s,u,c,l,d;if(!0===r)return"true";if(!1===r)return"false";switch(typeof r){case"object":if(null===r)return null;if(r.toJSON&&"function"===typeof r.toJSON)return n(r.toJSON(),i);if("[object Array]"===(d=e.call(r))){for(s="[",a=r.length-1,o=0;o<a;o++)s+=n(r[o],!0)+",";return a>-1&&(s+=n(r[o],!0)),s+"]"}if("[object Object]"===d){for(a=(u=t(r).sort()).length,s="",o=0;o<a;)void 0!==(l=n(r[c=u[o]],!1))&&(s&&(s+=","),s+=JSON.stringify(c)+":"+l),o++;return"{"+s+"}"}return JSON.stringify(r);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Nt=function(e){var t=n(e,!1);if(void 0!==t)return""+t}}var kt=Rt(Ot());function Ct(e){let t=0;for(;e>1;)e/=2,t++;return t}class xt{constructor(e,t,n,r,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Ct(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Ct(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ct(32)):this.slotsPerEpoch}}var Mt=globalThis.fetch;class Pt extends ee{constructor(e,t,n){super((e=>{const n=J(e,Object(i.a)({autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3},t));return this.underlyingSocket="socket"in n?n.socket:n,n}),e,t,n),this.underlyingSocket=void 0}call(){var e;const t=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState;return 1===t?super.call(...arguments):Promise.reject(new Error("Tried to call a JSON-RPC method `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(){var e;const t=null===(e=this.underlyingSocket)||void 0===e?void 0:e.readyState;return 1===t?super.notify(...arguments):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+(arguments.length<=0?void 0:arguments[0])+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class Lt{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error("invalid account data; account type mismatch ".concat(n.typeIndex," != ").concat(e.index));return n}(Dt,e),n=e.length-56;Ue(n>=0,"lookup table is invalid"),Ue(n%32===0,"lookup table is invalid");const r=n/32,{addresses:i}=h.struct([h.seq(Ce(),r,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Se(t.authority[0]):void 0,addresses:i.map((e=>new Se(e)))}}}const Dt={index:1,layout:h.struct([h.u32("typeIndex"),vt("deactivationSlot"),h.nu64("lastExtendedSlot"),h.u8("lastExtendedStartIndex"),h.u8(),h.seq(Ce(),h.offset(h.u8(),-1),"authority")])},Ut=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const jt=W(C(Se),j(),(e=>new Se(e))),Gt=G([j(),x("base64")]),Ft=W(C(o.Buffer),Gt,(e=>o.Buffer.from(e[0],"base64"))),Bt=3e4;function zt(e){let t,n;if("string"===typeof e)t=e;else if(e){const{commitment:i}=e;t=i,n=Object(r.a)(e,re)}return{commitment:t,config:n}}function Wt(e){return e.map((e=>{var t;return"memcmp"in e?Object(i.a)(Object(i.a)({},e),{},{memcmp:Object(i.a)(Object(i.a)({},e.memcmp),{},{encoding:null!==(t=e.memcmp.encoding)&&void 0!==t?t:"base58"})}):e}))}function Ht(e){return B([F({jsonrpc:x("2.0"),id:j(),result:e}),F({jsonrpc:x("2.0"),id:j(),error:F({code:z(),message:j(),data:D(A("any",(()=>!0)))})})])}const Kt=Ht(z());function Vt(e){return W(Ht(e),Kt,(t=>"error"in t?t:Object(i.a)(Object(i.a)({},t),{},{result:I(t.result,e)})))}function qt(e){return Vt(F({context:F({slot:L()}),value:e}))}function Yt(e){return F({context:F({slot:L()}),value:e})}function Qt(e,t){return 0===e?new We({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new Se(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:l.a.decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new ze(t)}const Zt=F({foundation:L(),foundationTerm:L(),initial:L(),taper:L(),terminal:L()}),Xt=Vt(O(P(F({epoch:L(),effectiveSlot:L(),amount:L(),postBalance:L(),commission:D(P(L()))})))),Jt=O(F({slot:L(),prioritizationFee:L()})),$t=F({total:L(),validator:L(),foundation:L(),epoch:L()}),en=F({epoch:L(),slotIndex:L(),slotsInEpoch:L(),absoluteSlot:L(),blockHeight:D(L()),transactionCount:D(L())}),tn=F({slotsPerEpoch:L(),leaderScheduleSlotOffset:L(),warmup:k(),firstNormalEpoch:L(),firstNormalSlot:L()}),nn=U(j(),O(L())),rn=P(B([F({}),j()])),on=F({err:rn}),an=x("receivedSignature"),sn=F({"solana-core":j(),"feature-set":D(L())}),un=F({program:j(),programId:jt,parsed:z()}),cn=F({programId:jt,accounts:O(jt),data:j()}),ln=qt(F({err:P(B([F({}),j()])),logs:P(O(j())),accounts:D(P(O(P(F({executable:k(),owner:j(),lamports:L(),data:O(j()),rentEpoch:D(L())}))))),unitsConsumed:D(L()),returnData:D(P(F({programId:j(),data:G([j(),x("base64")])}))),innerInstructions:D(P(O(F({index:L(),instructions:O(B([un,cn]))}))))})),dn=qt(F({byIdentity:U(j(),O(L())),range:F({firstSlot:L(),lastSlot:L()})}));const fn=Vt(Zt),hn=Vt($t),pn=Vt(Jt),yn=Vt(en),gn=Vt(tn),vn=Vt(nn),En=Vt(L()),mn=qt(F({total:L(),circulating:L(),nonCirculating:L(),nonCirculatingAccounts:O(jt)})),wn=F({amount:j(),uiAmount:P(L()),decimals:L(),uiAmountString:D(j())}),Sn=qt(O(F({address:jt,amount:j(),uiAmount:P(L()),decimals:L(),uiAmountString:D(j())}))),bn=qt(O(F({pubkey:jt,account:F({executable:k(),owner:jt,lamports:L(),data:Ft,rentEpoch:L()})}))),_n=F({program:j(),parsed:z(),space:L()}),Tn=qt(O(F({pubkey:jt,account:F({executable:k(),owner:jt,lamports:L(),data:_n,rentEpoch:L()})}))),In=qt(O(F({lamports:L(),address:jt}))),Rn=F({executable:k(),owner:jt,lamports:L(),data:Ft,rentEpoch:L()}),Nn=F({pubkey:jt,account:Rn}),An=W(B([C(o.Buffer),_n]),B([Gt,_n]),(e=>Array.isArray(e)?I(e,Ft):e)),On=F({executable:k(),owner:jt,lamports:L(),data:An,rentEpoch:L()}),kn=F({pubkey:jt,account:On}),Cn=F({state:B([x("active"),x("inactive"),x("activating"),x("deactivating")]),active:L(),inactive:L()}),xn=Vt(O(F({signature:j(),slot:L(),err:rn,memo:P(j()),blockTime:D(P(L()))}))),Mn=Vt(O(F({signature:j(),slot:L(),err:rn,memo:P(j()),blockTime:D(P(L()))}))),Pn=F({subscription:L(),result:Yt(Rn)}),Ln=F({pubkey:jt,account:Rn}),Dn=F({subscription:L(),result:Yt(Ln)}),Un=F({parent:L(),slot:L(),root:L()}),jn=F({subscription:L(),result:Un}),Gn=B([F({type:B([x("firstShredReceived"),x("completed"),x("optimisticConfirmation"),x("root")]),slot:L(),timestamp:L()}),F({type:x("createdBank"),parent:L(),slot:L(),timestamp:L()}),F({type:x("frozen"),slot:L(),timestamp:L(),stats:F({numTransactionEntries:L(),numSuccessfulTransactions:L(),numFailedTransactions:L(),maxTransactionsPerEntry:L()})}),F({type:x("dead"),slot:L(),timestamp:L(),err:j()})]),Fn=F({subscription:L(),result:Gn}),Bn=F({subscription:L(),result:Yt(B([on,an]))}),zn=F({subscription:L(),result:L()}),Wn=F({pubkey:j(),gossip:P(j()),tpu:P(j()),rpc:P(j()),version:P(j())}),Hn=F({votePubkey:j(),nodePubkey:j(),activatedStake:L(),epochVoteAccount:k(),epochCredits:O(G([L(),L(),L()])),commission:L(),lastVote:L(),rootSlot:P(L())}),Kn=Vt(F({current:O(Hn),delinquent:O(Hn)})),Vn=B([x("processed"),x("confirmed"),x("finalized")]),qn=F({slot:L(),confirmations:P(L()),err:rn,confirmationStatus:D(Vn)}),Yn=qt(O(P(qn))),Qn=Vt(L()),Zn=F({accountKey:jt,writableIndexes:O(L()),readonlyIndexes:O(L())}),Xn=F({signatures:O(j()),message:F({accountKeys:O(j()),header:F({numRequiredSignatures:L(),numReadonlySignedAccounts:L(),numReadonlyUnsignedAccounts:L()}),instructions:O(F({accounts:O(L()),data:j(),programIdIndex:L()})),recentBlockhash:j(),addressTableLookups:D(O(Zn))})}),Jn=F({pubkey:jt,signer:k(),writable:k(),source:D(B([x("transaction"),x("lookupTable")]))}),$n=F({accountKeys:O(Jn),signatures:O(j())}),er=F({parsed:z(),program:j(),programId:jt}),tr=F({accounts:O(jt),data:j(),programId:jt}),nr=W(B([tr,er]),B([F({parsed:z(),program:j(),programId:j()}),F({accounts:O(j()),data:j(),programId:j()})]),(e=>I(e,"accounts"in e?tr:er))),rr=F({signatures:O(j()),message:F({accountKeys:O(Jn),instructions:O(nr),recentBlockhash:j(),addressTableLookups:D(P(O(Zn)))})}),ir=F({accountIndex:L(),mint:j(),owner:D(j()),programId:D(j()),uiTokenAmount:wn}),or=F({writable:O(jt),readonly:O(jt)}),ar=F({err:rn,fee:L(),innerInstructions:D(P(O(F({index:L(),instructions:O(F({accounts:O(L()),data:j(),programIdIndex:L()}))})))),preBalances:O(L()),postBalances:O(L()),logMessages:D(P(O(j()))),preTokenBalances:D(P(O(ir))),postTokenBalances:D(P(O(ir))),loadedAddresses:D(or),computeUnitsConsumed:D(L())}),sr=F({err:rn,fee:L(),innerInstructions:D(P(O(F({index:L(),instructions:O(nr)})))),preBalances:O(L()),postBalances:O(L()),logMessages:D(P(O(j()))),preTokenBalances:D(P(O(ir))),postTokenBalances:D(P(O(ir))),loadedAddresses:D(or),computeUnitsConsumed:D(L())}),ur=B([x(0),x("legacy")]),cr=F({pubkey:j(),lamports:L(),postBalance:P(L()),rewardType:P(j()),commission:D(P(L()))}),lr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),transactions:O(F({transaction:Xn,meta:P(ar),version:D(ur)})),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),dr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),fr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),transactions:O(F({transaction:$n,meta:P(ar),version:D(ur)})),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),hr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),transactions:O(F({transaction:rr,meta:P(sr),version:D(ur)})),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),pr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),transactions:O(F({transaction:$n,meta:P(sr),version:D(ur)})),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),yr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),rewards:D(O(cr)),blockTime:P(L()),blockHeight:P(L())}))),gr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),transactions:O(F({transaction:Xn,meta:P(ar)})),rewards:D(O(cr)),blockTime:P(L())}))),vr=Vt(P(F({blockhash:j(),previousBlockhash:j(),parentSlot:L(),signatures:O(j()),blockTime:P(L())}))),Er=Vt(P(F({slot:L(),meta:P(ar),blockTime:D(P(L())),transaction:Xn,version:D(ur)}))),mr=Vt(P(F({slot:L(),transaction:rr,meta:P(sr),blockTime:D(P(L())),version:D(ur)}))),wr=qt(F({blockhash:j(),lastValidBlockHeight:L()})),Sr=qt(k()),br=Vt(O(F({slot:L(),numTransactions:L(),numSlots:L(),samplePeriodSecs:L()}))),_r=qt(P(F({feeCalculator:F({lamportsPerSignature:L()})}))),Tr=Vt(j()),Ir=Vt(j()),Rr=F({err:rn,logs:O(j()),signature:j()}),Nr=F({result:Yt(Rr),subscription:L()}),Ar={"solana-client":"js/".concat("1.0.0-maintenance")};class Or{constructor(e,t){let n,r,i,o,a,s;var u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{var n;const{commitment:r,config:i}=zt(t),o=this._buildArgs([],r,void 0,i),a=kt(o);return e[a]=null!==(n=e[a])&&void 0!==n?n:(async()=>{try{const e=I(await this._rpcRequest("getBlockHeight",o),Vt(L()));if("error"in e)throw new ut(e.error,"failed to get block height information");return e.result}finally{delete e[a]}})(),await e[a]}})(),t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,r=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit,s=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=n||function(e){const t=e.match(Ut);if(null==t)throw TypeError("Failed to validate endpoint URL `".concat(e,"`"));const[n,r,i,o]=t,a=e.startsWith("https:")?"wss:":"ws:",s=null==i?null:parseInt(i.slice(1),10),u=null==s?"":":".concat(s+1);return"".concat(a,"//").concat(r).concat(u).concat(o)}(e),this._rpcClient=function(e,t,n,r,i,o){const a=n||Mt;let s;return null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),r&&(s=async(e,t)=>{const n=await new Promise(((n,i)=>{try{r(e,t,((e,t)=>n([e,t])))}catch(o){i(o)}}));return await a(...n)}),new K.a((async(n,r)=>{const o={method:"POST",body:n,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Ar)};try{let t,n=5,u=500;for(;t=s?await s(e,o):await a(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.error("Server responded with ".concat(t.status," ").concat(t.statusText,".  Retrying after ").concat(u,"ms delay...")),await lt(u),u*=2;const c=await t.text();t.ok?r(null,c):r(new Error("".concat(t.status," ").concat(t.statusText,": ").concat(c)))}catch(u){u instanceof Error&&r(u)}}),{})}(e,r,i,o,a,s),this._rpcRequest=(u=this._rpcClient,(e,t)=>new Promise(((n,r)=>{u.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new Pt(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgs([e.toBase58()],n,void 0,r),o=I(await this._rpcRequest("getBalance",i),qt(L()));if("error"in o)throw new ut(o.error,"failed to get balance for ".concat(e.toBase58()));return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=I(await this._rpcRequest("getBlockTime",[e]),Vt(P(L())));if("error"in t)throw new ut(t.error,"failed to get block time for slot ".concat(e));return t.result}async getMinimumLedgerSlot(){const e=I(await this._rpcRequest("minimumLedgerSlot",[]),Vt(L()));if("error"in e)throw new ut(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=I(await this._rpcRequest("getFirstAvailableBlock",[]),En);if("error"in e)throw new ut(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?Object(i.a)(Object(i.a)({},e),{},{commitment:e&&e.commitment||this.commitment}):{commitment:this.commitment};const n=I(await this._rpcRequest("getSupply",[t]),mn);if("error"in n)throw new ut(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=I(await this._rpcRequest("getTokenSupply",n),qt(wn));if("error"in r)throw new ut(r.error,"failed to get token supply");return r.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=I(await this._rpcRequest("getTokenAccountBalance",n),qt(wn));if("error"in r)throw new ut(r.error,"failed to get token account balance");return r.result}async getTokenAccountsByOwner(e,t,n){const{commitment:r,config:i}=zt(n);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const a=this._buildArgs(o,r,"base64",i),s=I(await this._rpcRequest("getTokenAccountsByOwner",a),bn);if("error"in s)throw new ut(s.error,"failed to get token accounts owned by account ".concat(e.toBase58()));return s.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const i=this._buildArgs(r,n,"jsonParsed"),o=I(await this._rpcRequest("getTokenAccountsByOwner",i),Tn);if("error"in o)throw new ut(o.error,"failed to get token accounts owned by account ".concat(e.toBase58()));return o.result}async getLargestAccounts(e){const t=Object(i.a)(Object(i.a)({},e),{},{commitment:e&&e.commitment||this.commitment}),n=t.filter||t.commitment?[t]:[],r=I(await this._rpcRequest("getLargestAccounts",n),In);if("error"in r)throw new ut(r.error,"failed to get largest accounts");return r.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=I(await this._rpcRequest("getTokenLargestAccounts",n),Sn);if("error"in r)throw new ut(r.error,"failed to get token largest accounts");return r.result}async getAccountInfoAndContext(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgs([e.toBase58()],n,"base64",r),o=I(await this._rpcRequest("getAccountInfo",i),qt(P(Rn)));if("error"in o)throw new ut(o.error,"failed to get info about account ".concat(e.toBase58()));return o.result}async getParsedAccountInfo(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=I(await this._rpcRequest("getAccountInfo",i),qt(P(On)));if("error"in o)throw new ut(o.error,"failed to get info about account ".concat(e.toBase58()));return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,t){const{commitment:n,config:r}=zt(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"jsonParsed",r),a=I(await this._rpcRequest("getMultipleAccounts",o),qt(O(P(On))));if("error"in a)throw new ut(a.error,"failed to get info for accounts ".concat(i));return a.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:n,config:r}=zt(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],n,"base64",r),a=I(await this._rpcRequest("getMultipleAccounts",o),qt(O(P(Rn))));if("error"in a)throw new ut(a.error,"failed to get info for accounts ".concat(i));return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const{commitment:r,config:o}=zt(t),a=this._buildArgs([e.toBase58()],r,void 0,Object(i.a)(Object(i.a)({},o),{},{epoch:null!=n?n:null===o||void 0===o?void 0:o.epoch})),s=I(await this._rpcRequest("getStakeActivation",a),Vt(Cn));if("error"in s)throw new ut(s.error,"failed to get Stake Activation ".concat(e.toBase58()));return s.result}async getProgramAccounts(e,t){const{commitment:n,config:o}=zt(t),a=o||{},{encoding:s}=a,u=Object(r.a)(a,ie),c=this._buildArgs([e.toBase58()],n,s||"base64",Object(i.a)(Object(i.a)({},u),u.filters?{filters:Wt(u.filters)}:null)),l=await this._rpcRequest("getProgramAccounts",c),d=O(Nn),f=!0===u.withContext?I(l,qt(d)):I(l,Vt(d));if("error"in f)throw new ut(f.error,"failed to get accounts owned by program ".concat(e.toBase58()));return f.result}async getParsedProgramAccounts(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),o=I(await this._rpcRequest("getProgramAccounts",i),Vt(O(kn)));if("error"in o)throw new ut(o.error,"failed to get accounts owned by program ".concat(e.toBase58()));return o.result}async confirmTransaction(e,t){let n,r;if("string"==typeof e)n=e;else{var i;const t=e;if(null!==(i=t.abortSignal)&&void 0!==i&&i.aborted)return Promise.reject(t.abortSignal.reason);n=t.signature}try{r=l.a.decode(n)}catch(o){throw new Error("signature must be base58 encoded: "+n)}return Ue(64===r.length,"signature has invalid length"),"string"===typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,n)=>{null!=e&&(e.aborted?n(e.reason):e.addEventListener("abort",(()=>{n(e.reason)})))}))}getTransactionConfirmationPromise(e){let t,n,{commitment:r,signature:i}=e,o=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=t&&(this.removeSignatureListener(t),t=void 0)},confirmationPromise:new Promise(((e,a)=>{try{t=this.onSignature(i,((n,r)=>{t=void 0;const i={context:r,value:n};e({__type:Ke.PROCESSED,response:i})}),r);const s=new Promise((e=>{null==t?e():n=this._onSubscriptionStateChange(t,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await s,o)return;const t=await this.getSignatureStatus(i);if(o)return;if(null==t)return;const{context:n,value:u}=t;if(null!=u)if(null!==u&&void 0!==u&&u.err)a(u.err);else{switch(r){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}o=!0,e({__type:Ke.PROCESSED,response:{context:n,value:u}})}})()}catch(s){a(s)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy(e){let{commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:i}}=e,o=!1;const a=new Promise((e=>{const n=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let t=await n();if(!o){for(;t<=r;){if(await lt(1e3),o)return;if(t=await n(),o)return}e({__type:Ke.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:u}=this.getTransactionConfirmationPromise({commitment:t,signature:i}),c=this.getCancellationPromise(n);let l;try{const e=await Promise.race([c,u,a]);if(e.__type!==Ke.PROCESSED)throw new Ne(i);l=e.response}finally{o=!0,s()}return l}async confirmTransactionUsingDurableNonceStrategy(e){let{commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:i,nonceValue:o,signature:a}}=e,s=!1;const u=new Promise((e=>{let n=o,a=null;const u=async()=>{try{const{context:e,value:n}=await this.getNonceAndContext(i,{commitment:t,minContextSlot:r});return a=e.slot,null===n||void 0===n?void 0:n.nonce}catch(e){return n}};(async()=>{if(n=await u(),!s)for(;;){if(o!==n)return void e({__type:Ke.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await lt(2e3),s)return;if(n=await u(),s)return}})()})),{abortConfirmation:c,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:a}),d=this.getCancellationPromise(n);let f;try{const e=await Promise.race([d,l,u]);if(e.__type===Ke.PROCESSED)f=e.response;else{var h;let n;for(;;){var p;const t=await this.getSignatureStatus(a);if(null==t)break;if(!(t.context.slot<(null!==(p=e.slotInWhichNonceDidAdvance)&&void 0!==p?p:r))){n=t;break}await lt(400)}if(null===(h=n)||void 0===h||!h.value)throw new Oe(a);{const e=t||"finalized",{confirmationStatus:r}=n.value;switch(e){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Oe(a);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Oe(a);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Oe(a)}f={context:n.context,value:{err:n.value.err}}}}}finally{s=!0,c()}return f}async confirmTransactionUsingLegacyTimeoutStrategy(e){let t,{commitment:n,signature:r}=e;const i=new Promise((e=>{let r=this._confirmTransactionInitialTimeout||6e4;switch(n){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":r=this._confirmTransactionInitialTimeout||3e4}t=setTimeout((()=>e({__type:Ke.TIMED_OUT,timeoutMs:r})),r)})),{abortConfirmation:o,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:n,signature:r});let s;try{const e=await Promise.race([a,i]);if(e.__type!==Ke.PROCESSED)throw new Ae(r,e.timeoutMs/1e3);s=e.response}finally{clearTimeout(t),o()}return s}async getClusterNodes(){const e=I(await this._rpcRequest("getClusterNodes",[]),Vt(O(Wn)));if("error"in e)throw new ut(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=I(await this._rpcRequest("getVoteAccounts",t),Kn);if("error"in n)throw new ut(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,void 0,n),i=I(await this._rpcRequest("getSlot",r),Vt(L()));if("error"in i)throw new ut(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,void 0,n),i=I(await this._rpcRequest("getSlotLeader",r),Vt(j()));if("error"in i)throw new ut(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const n=[e,t],r=I(await this._rpcRequest("getSlotLeaders",n),Vt(O(jt)));if("error"in r)throw new ut(r.error,"failed to get slot leaders");return r.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);Ue(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=I(await this._rpcRequest("getSignatureStatuses",n),Yn);if("error"in r)throw new ut(r.error,"failed to get signature status");return r.result}async getTransactionCount(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,void 0,n),i=I(await this._rpcRequest("getTransactionCount",r),Vt(L()));if("error"in i)throw new ut(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=I(await this._rpcRequest("getInflationGovernor",t),fn);if("error"in n)throw new ut(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,n){const{commitment:r,config:o}=zt(n),a=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,Object(i.a)(Object(i.a)({},o),{},{epoch:null!=t?t:null===o||void 0===o?void 0:o.epoch})),s=I(await this._rpcRequest("getInflationReward",a),Xt);if("error"in s)throw new ut(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=I(await this._rpcRequest("getInflationRate",[]),hn);if("error"in e)throw new ut(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,void 0,n),i=I(await this._rpcRequest("getEpochInfo",r),yn);if("error"in i)throw new ut(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=I(await this._rpcRequest("getEpochSchedule",[]),gn);if("error"in e)throw new ut(e.error,"failed to get epoch schedule");const t=e.result;return new xt(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=I(await this._rpcRequest("getLeaderSchedule",[]),vn);if("error"in e)throw new ut(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=I(await this._rpcRequest("getMinimumBalanceForRentExemption",n),Qn);return"error"in r?(console.warn("Unable to fetch minimum balance for rent exemption"),0):r.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:n}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:n,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=I(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),br);if("error"in t)throw new ut(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=I(await this._rpcRequest("getFeeCalculatorForBlockhash",n),_r);if("error"in r)throw new ut(r.error,"failed to get fee calculator");const{context:i,value:o}=r.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const n=he(e.serialize()).toString("base64"),r=this._buildArgs([n],t),i=I(await this._rpcRequest("getFeeForMessage",r),qt(P(L())));if("error"in i)throw new ut(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){var t;const n=null===e||void 0===e||null===(t=e.lockedWritableAccounts)||void 0===t?void 0:t.map((e=>e.toBase58())),r=null!==n&&void 0!==n&&n.length?[n]:[],i=I(await this._rpcRequest("getRecentPrioritizationFees",r),pn);if("error"in i)throw new ut(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,void 0,n),i=I(await this._rpcRequest("getLatestBlockhash",r),wr);if("error"in i)throw new ut(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgs([e],n,void 0,r),o=I(await this._rpcRequest("isBlockhashValid",i),Sr);if("error"in o)throw new ut(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=I(await this._rpcRequest("getVersion",[]),Vt(sn));if("error"in e)throw new ut(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=I(await this._rpcRequest("getGenesisHash",[]),Vt(j()));if("error"in e)throw new ut(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:n,config:r}=zt(t),o=this._buildArgsAtLeastConfirmed([e],n,void 0,r),a=await this._rpcRequest("getBlock",o);try{switch(null===r||void 0===r?void 0:r.transactionDetails){case"accounts":{const e=I(a,fr);if("error"in e)throw e.error;return e.result}case"none":{const e=I(a,dr);if("error"in e)throw e.error;return e.result}default:{const e=I(a,lr);if("error"in e)throw e.error;const{result:t}=e;return t?Object(i.a)(Object(i.a)({},t),{},{transactions:t.transactions.map((e=>{let{transaction:t,meta:n,version:r}=e;return{meta:n,transaction:Object(i.a)(Object(i.a)({},t),{},{message:Qt(r,t.message)}),version:r}}))}):null}}}catch(s){throw new ut(s,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=await this._rpcRequest("getBlock",i);try{switch(null===r||void 0===r?void 0:r.transactionDetails){case"accounts":{const e=I(o,pr);if("error"in e)throw e.error;return e.result}case"none":{const e=I(o,yr);if("error"in e)throw e.error;return e.result}default:{const e=I(o,hr);if("error"in e)throw e.error;return e.result}}}catch(a){throw new ut(a,"failed to get block")}}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:i}=e;n=i,t=Object(r.a)(e,oe)}const i=this._buildArgs([],n,"base64",t),o=I(await this._rpcRequest("getBlockProduction",i),dn);if("error"in o)throw new ut(o.error,"failed to get block production information");return o.result}async getTransaction(e,t){const{commitment:n,config:r}=zt(t),o=this._buildArgsAtLeastConfirmed([e],n,void 0,r),a=I(await this._rpcRequest("getTransaction",o),Er);if("error"in a)throw new ut(a.error,"failed to get transaction");const s=a.result;return s?Object(i.a)(Object(i.a)({},s),{},{transaction:Object(i.a)(Object(i.a)({},s.transaction),{},{message:Qt(s.version,s.transaction.message)})}):s}async getParsedTransaction(e,t){const{commitment:n,config:r}=zt(t),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r),o=I(await this._rpcRequest("getTransaction",i),mr);if("error"in o)throw new ut(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:n,config:r}=zt(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",r)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=I(e,mr);if("error"in t)throw new ut(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:n,config:r}=zt(t),o=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],n,void 0,r)})));return(await this._rpcBatchRequest(o)).map((e=>{const t=I(e,Er);if("error"in t)throw new ut(t.error,"failed to get transactions");const n=t.result;return n?Object(i.a)(Object(i.a)({},n),{},{transaction:Object(i.a)(Object(i.a)({},n.transaction),{},{message:Qt(n.version,n.transaction.message)})}):n}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=I(await this._rpcRequest("getBlock",n),gr);if("error"in r)throw new ut(r.error,"failed to get confirmed block");const o=r.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a=Object(i.a)(Object(i.a)({},o),{},{transactions:o.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new ze(t.message);return{meta:n,transaction:Object(i.a)(Object(i.a)({},t),{},{message:r})}}))});return Object(i.a)(Object(i.a)({},a),{},{transactions:a.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:Ye.populate(t.message,t.signatures)}}))})}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),i=I(await this._rpcRequest("getBlocks",r),Vt(O(L())));if("error"in i)throw new ut(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=I(await this._rpcRequest("getBlock",n),vr);if("error"in r)throw new ut(r.error,"failed to get block");const i=r.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=I(await this._rpcRequest("getBlock",n),vr);if("error"in r)throw new ut(r.error,"failed to get confirmed block");const i=r.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=I(await this._rpcRequest("getTransaction",n),Er);if("error"in r)throw new ut(r.error,"failed to get transaction");const o=r.result;if(!o)return o;const a=new ze(o.transaction.message),s=o.transaction.signatures;return Object(i.a)(Object(i.a)({},o),{},{transaction:Ye.populate(a,s)})}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=I(await this._rpcRequest("getTransaction",n),mr);if("error"in r)throw new ut(r.error,"failed to get confirmed transaction");return r.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=I(e,mr);if("error"in t)throw new ut(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},i=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(a){if(a instanceof Error&&a.message.includes("skipped"))continue;throw a}let o=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>o);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(a){if(a instanceof Error&&a.message.includes("skipped"))continue;throw a}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=I(await this._rpcRequest("getConfirmedSignaturesForAddress2",r),xn);if("error"in i)throw new ut(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),i=I(await this._rpcRequest("getSignaturesForAddress",r),Mn);if("error"in i)throw new ut(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=new Lt({key:e,state:Lt.deserialize(r.data)})),{context:n,value:i}}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==r&&(i=gt.fromAccountData(r.data)),{context:n,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=I(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),Tr);if("error"in n)throw new ut(n.error,"airdrop to ".concat(e.toBase58()," failed"));return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await lt(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Bt;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,n=t?t.blockhash:null;for(let r=0;r<50;r++){const e=await this.getLatestBlockhash("finalized");if(n!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await lt(200)}throw new Error("Unable to obtain a new blockhash after ".concat(Date.now()-e,"ms"))}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:n}=zt(e),r=this._buildArgs([],t,"base64",n),i=I(await this._rpcRequest("getStakeMinimumDelegation",r),qt(L()));if("error"in i)throw new ut(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,n){if("message"in e){const r=e.serialize(),i=o.Buffer.from(r).toString("base64");if(Array.isArray(t)||void 0!==n)throw new Error("Invalid arguments");const a=t||{};a.encoding="base64","commitment"in a||(a.commitment=this.commitment),t&&"object"===typeof t&&"innerInstructions"in t&&(a.innerInstructions=t.innerInstructions);const s=[i,a],u=I(await this._rpcRequest("simulateTransaction",s),ln);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let r;if(e instanceof Ye){let t=e;r=new Ye,r.feePayer=t.feePayer,r.instructions=e.instructions,r.nonceInfo=t.nonceInfo,r.signatures=t.signatures}else r=Ye.populate(e),r._message=r._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(r.nonceInfo&&i)r.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(r.lastValidBlockHeight=t.lastValidBlockHeight,r.recentBlockhash=t.blockhash,!i)break;if(r.sign(...i),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const a=r._compile(),s=a.serialize(),u=r._serialize(s).toString("base64"),c={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:a.nonProgramIds()).map((e=>e.toBase58()));c.accounts={encoding:"base64",addresses:e}}i&&(c.sigVerify=!0),t&&"object"===typeof t&&"innerInstructions"in t&&(c.innerInstructions=t.innerInstructions);const l=[u,c],d=I(await this._rpcRequest("simulateTransaction",l),ln);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(d.error.message,n)}throw new at({action:"simulate",signature:"",transactionMessage:d.error.message,logs:e})}return d.result}async sendTransaction(e,t,n){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const r=t;if(e.nonceInfo)e.sign(...r);else{let t=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...r),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,t){const n=he(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,i=!0===r?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(n.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(n.minContextSlot=t.minContextSlot),r&&(n.skipPreflight=r),i&&(n.preflightCommitment=i);const o=[e,n],a=I(await this._rpcRequest("sendTransaction",o),Ir);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new at({action:r?"send":"simulate",signature:"",transactionMessage:a.error.message,logs:e})}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch(e){}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._setSubscription(t,Object(i.a)(Object(i.a)({},n),{},{state:"pending"}))}))):this._updateSubscriptions()}_setSubscription(e,t){var n;const r=null===(n=this._subscriptionsByHash[e])||void 0===n?void 0:n.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const n=this._subscriptionStateChangeCallbacksByHash[e];n&&n.forEach((e=>{try{e(t.state)}catch(n){}}))}}_onSubscriptionStateChange(e,t){var n;const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const i=(n=this._subscriptionStateChangeCallbacksByHash)[r]||(n[r]=new Set);return i.add(t),()=>{i.delete(t),0===i.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log("Error when closing socket connection: ".concat(e.message))}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:o}=n;try{this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"subscribing"}));const t=await this._rpcWebSocket.call(o,r);this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{serverSubscriptionId:t,state:"subscribed"})),this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(a){if(console.error("Received ".concat(a instanceof Error?"":"JSON-RPC ","error calling `").concat(o,"`"),{args:r,error:a}),!t())return;this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"pending"})),await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:o}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"unsubscribing"})),this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"unsubscribing"}));try{await this._rpcWebSocket.call(o,[r])}catch(a){if(a instanceof Error&&console.error("".concat(o," error:"),a.message),!t())return;return this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"subscribed"})),void await this._updateSubscriptions()}}this._setSubscription(e,Object(i.a)(Object(i.a)({},n),{},{state:"unsubscribed"})),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(n){console.error(n)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=I(e,Pn);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=kt([e.method,t]),o=this._subscriptionsByHash[r];return void 0===o?this._subscriptionsByHash[r]=Object(i.a)(Object(i.a)({},e),{},{args:t,callbacks:new Set([e.callback]),state:"pending"}):o.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=r,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];Ue(void 0!==t,"Could not find a `Subscription` when tearing down client subscription #".concat(n)),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const{commitment:r,config:i}=zt(n),o=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=I(e,Dn);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const{commitment:i,config:o}=zt(n),a=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(r?{filters:Wt(r)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=I(e,Nr);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=I(e,jn);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=I(e,Fn);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn("Ignored unsubscribe request because an active subscription with id "+"`".concat(e,"` for '").concat(t,"' events ")+"could not be found.")}_buildArgs(e,t,n,r){const i=t||this._commitment;if(i||n||r){let t={};n&&(t.encoding=n),i&&(t.commitment=i),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=I(e,Bn);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(i)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return i}onSignatureWithOptions(e,t,n){const o=Object(i.a)(Object(i.a)({},n),{},{commitment:n&&n.commitment||this._commitment||"finalized"}),{commitment:a}=o,s=Object(r.a)(o,ae),u=this._buildArgs([e],a,void 0,s),c=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(c)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},u);return c}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=I(e,zn);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class kr{constructor(e){this._keypair=void 0,this._keypair=null!==e&&void 0!==e?e:ue()}static generate(){return new kr(ue())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const n=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),r=ce(t);for(let e=0;e<32;e++)if(n[e]!==r[e])throw new Error("provided secretKey is invalid")}return new kr({publicKey:n,secretKey:e})}static fromSeed(e){const t=ce(e),n=new Uint8Array(64);return n.set(e),n.set(t,32),new kr({publicKey:t,secretKey:n})}get publicKey(){return new Se(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Cr=Object.freeze({CreateLookupTable:{index:0,layout:h.struct([h.u32("instruction"),vt("recentSlot"),h.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:h.struct([h.u32("instruction")])},ExtendLookupTable:{index:2,layout:h.struct([h.u32("instruction"),vt(),h.seq(Ce(),h.offset(h.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:h.struct([h.u32("instruction")])},CloseLookupTable:{index:4,layout:h.struct([h.u32("instruction")])}});class xr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Cr))if(i.index==t){n=r;break}if(!n)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return n}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=ft(Cr.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error("invalid instruction; found ".concat(e.keys.length," keys, expected at least 2"));const{addresses:t}=ft(Cr.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new Se(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Mr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}class Mr{constructor(){}static createLookupTable(e){const[t,n]=Se.findProgramAddressSync([e.authority.toBuffer(),Object(p.toBufferLE)(BigInt(e.recentSlot),8)],this.programId),r=dt(Cr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:St.programId,isSigner:!1,isWritable:!1}];return[new qe({programId:this.programId,keys:i,data:r}),t]}static freezeLookupTable(e){const t=dt(Cr.FreezeLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:n,data:t})}static extendLookupTable(e){const t=dt(Cr.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&n.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:St.programId,isSigner:!1,isWritable:!1}),new qe({programId:this.programId,keys:n,data:t})}static deactivateLookupTable(e){const t=dt(Cr.DeactivateLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new qe({programId:this.programId,keys:n,data:t})}static closeLookupTable(e){const t=dt(Cr.CloseLookupTable),n=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new qe({programId:this.programId,keys:n,data:t})}}Mr.programId=new Se("AddressLookupTab1e1111111111111111111111111");class Pr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u8("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Lr))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=ft(Lr.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=ft(Lr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=ft(Lr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=ft(Lr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Dr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Lr=Object.freeze({RequestUnits:{index:0,layout:h.struct([h.u8("instruction"),h.u32("units"),h.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:h.struct([h.u8("instruction"),h.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:h.struct([h.u8("instruction"),h.u32("units")])},SetComputeUnitPrice:{index:3,layout:h.struct([h.u8("instruction"),vt("microLamports")])}});class Dr{constructor(){}static requestUnits(e){const t=dt(Lr.RequestUnits,e);return new qe({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=dt(Lr.RequestHeapFrame,e);return new qe({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=dt(Lr.SetComputeUnitLimit,e);return new qe({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=dt(Lr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new qe({keys:[],programId:this.programId,data:t})}}Dr.programId=new Se("ComputeBudget111111111111111111111111111111");const Ur=h.struct([h.u8("numSignatures"),h.u8("padding"),h.u16("signatureOffset"),h.u16("signatureInstructionIndex"),h.u16("publicKeyOffset"),h.u16("publicKeyInstructionIndex"),h.u16("messageDataOffset"),h.u16("messageDataSize"),h.u16("messageInstructionIndex")]);class jr{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:i}=e;Ue(32===t.length,"Public Key must be ".concat(32," bytes but received ").concat(t.length," bytes")),Ue(64===r.length,"Signature must be ".concat(64," bytes but received ").concat(r.length," bytes"));const a=Ur.span,s=a+t.length,u=s+r.length,c=o.Buffer.alloc(u+n.length),l=null==i?65535:i;return Ur.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:l,publicKeyOffset:a,publicKeyInstructionIndex:l,messageDataOffset:u,messageDataSize:n.length,messageInstructionIndex:l},c),c.fill(t,a),c.fill(r,s),c.fill(n,u),new qe({keys:[],programId:jr.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Ue(64===t.length,"Private key must be ".concat(64," bytes but received ").concat(t.length," bytes"));try{const e=kr.fromSecretKey(t),i=e.publicKey.toBytes(),o=de(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:o,instructionIndex:r})}catch(i){throw new Error("Error creating instruction; ".concat(i))}}}jr.programId=new Se("Ed25519SigVerify111111111111111111111111111");ne.secp256k1.utils.isValidPrivateKey;const Gr=ne.secp256k1.getPublicKey,Fr=h.struct([h.u8("numSignatures"),h.u16("signatureOffset"),h.u8("signatureInstructionIndex"),h.u16("ethAddressOffset"),h.u8("ethAddressInstructionIndex"),h.u16("messageDataOffset"),h.u16("messageDataSize"),h.u8("messageInstructionIndex"),h.blob(20,"ethAddress"),h.blob(64,"signature"),h.u8("recoveryId")]);class Br{constructor(){}static publicKeyToEthAddress(e){Ue(64===e.length,"Public key must be ".concat(64," bytes but received ").concat(e.length," bytes"));try{return o.Buffer.from(Object(te.keccak_256)(he(e))).slice(-20)}catch(t){throw new Error("Error constructing Ethereum address: ".concat(t))}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:i,instructionIndex:o}=e;return Br.createInstructionWithEthAddress({ethAddress:Br.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:i,instructionIndex:a=0}=e;let s;s="string"===typeof t?t.startsWith("0x")?o.Buffer.from(t.substr(2),"hex"):o.Buffer.from(t,"hex"):t,Ue(20===s.length,"Address must be ".concat(20," bytes but received ").concat(s.length," bytes"));const u=12+s.length,c=u+r.length+1,l=o.Buffer.alloc(Fr.span+n.length);return Fr.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:a,ethAddressOffset:12,ethAddressInstructionIndex:a,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:a,signature:he(r),ethAddress:he(s),recoveryId:i},l),l.fill(he(n),Fr.span),new qe({keys:[],programId:Br.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;Ue(32===t.length,"Private key must be ".concat(32," bytes but received ").concat(t.length," bytes"));try{const e=he(t),i=Gr(e,!1).slice(1),a=o.Buffer.from(Object(te.keccak_256)(he(n))),[s,u]=((e,t)=>{const n=ne.secp256k1.sign(e,t);return[n.toCompactRawBytes(),n.recovery]})(a,e);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,recoveryId:u,instructionIndex:r})}catch(i){throw new Error("Error creating instruction; ".concat(i))}}}var zr;Br.programId=new Se("KeccakSecp256k11111111111111111111111111111");const Wr=new Se("StakeConfig11111111111111111111111111111111");class Hr{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Kr{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}zr=Kr,Kr.default=new zr(0,0,Se.default);class Vr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(qr))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=ft(qr.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Hr(new Se(t.staker),new Se(t.withdrawer)),lockup:new Kr(n.unixTimestamp,n.epoch,new Se(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),ft(qr.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=ft(qr.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Se(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:i}=ft(qr.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new Se(i),newAuthorizedPubkey:new Se(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ft(qr.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ft(qr.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=ft(qr.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),ft(qr.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Qr.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const qr=Object.freeze({Initialize:{index:0,layout:h.struct([h.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return h.struct([Ce("staker"),Ce("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return h.struct([h.ns64("unixTimestamp"),h.ns64("epoch"),Ce("custodian")],e)}()])},Authorize:{index:1,layout:h.struct([h.u32("instruction"),Ce("newAuthorized"),h.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:h.struct([h.u32("instruction")])},Split:{index:3,layout:h.struct([h.u32("instruction"),h.ns64("lamports")])},Withdraw:{index:4,layout:h.struct([h.u32("instruction"),h.ns64("lamports")])},Deactivate:{index:5,layout:h.struct([h.u32("instruction")])},Merge:{index:7,layout:h.struct([h.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:h.struct([h.u32("instruction"),Ce("newAuthorized"),h.u32("stakeAuthorizationType"),Me("authoritySeed"),Ce("authorityOwner")])}}),Yr=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Qr{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,i=r||Kr.default,o=dt(qr.Initialize,{authorized:{staker:he(n.staker.toBuffer()),withdrawer:he(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:he(i.custodian.toBuffer())}}),a={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tt,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new qe(a)}static createAccountWithSeed(e){const t=new Ye;t.add(St.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static createAccount(e){const t=new Ye;t.add(St.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:i}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,i=dt(qr.Delegate);return(new Ye).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:ot,isSigner:!1,isWritable:!1},{pubkey:Wr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:i,custodianPubkey:o}=e,a=dt(qr.Authorize,{newAuthorized:he(r.toBuffer()),stakeAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Ye).add({keys:s,programId:this.programId,data:a})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:s}=e,u=dt(qr.AuthorizeWithSeed,{newAuthorized:he(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:r,authorityOwner:he(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1}];return s&&c.push({pubkey:s,isSigner:!0,isWritable:!1}),(new Ye).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:i}=e,o=dt(qr.Split,{lamports:i});return new qe({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const n=new Ye;return n.add(St.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,basePubkey:o,seed:a,lamports:s}=e,u=new Ye;return u.add(St.allocate({accountPubkey:i,basePubkey:o,seed:a,space:this.space,programId:this.programId})),t&&t>0&&u.add(St.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:r,splitStakePubkey:i,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,i=dt(qr.Merge);return(new Ye).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:ot,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:i,custodianPubkey:o}=e,a=dt(qr.Withdraw,{lamports:i}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:ot,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&s.push({pubkey:o,isSigner:!0,isWritable:!1}),(new Ye).add({keys:s,programId:this.programId,data:a})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=dt(qr.Deactivate);return(new Ye).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Qr.programId=new Se("Stake11111111111111111111111111111111111111"),Qr.space=200;class Zr{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class Xr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=h.u32("instruction").decode(e.data);let n;for(const[r,i]of Object.entries(Jr))if(i.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=ft(Jr.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Zr(new Se(t.nodePubkey),new Se(t.authorizedVoter),new Se(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=ft(Jr.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Se(t),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:n,newAuthorized:r,voteAuthorizationType:i}}=ft(Jr.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Se(t),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Se(r),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=ft(Jr.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ei.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error("invalid instruction; found ".concat(e.length," keys, expected at least ").concat(t))}}const Jr=Object.freeze({InitializeAccount:{index:0,layout:h.struct([h.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return h.struct([Ce("nodePubkey"),Ce("authorizedVoter"),Ce("authorizedWithdrawer"),h.u8("commission")],e)}()])},Authorize:{index:1,layout:h.struct([h.u32("instruction"),Ce("newAuthorized"),h.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:h.struct([h.u32("instruction"),h.ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:h.struct([h.u32("instruction")])},AuthorizeWithSeed:{index:10,layout:h.struct([h.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return h.struct([h.u32("voteAuthorizationType"),Ce("currentAuthorityDerivedKeyOwnerPubkey"),Me("currentAuthorityDerivedKeySeed"),Ce("newAuthorized")],e)}()])}}),$r=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ei{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,i=dt(Jr.InitializeAccount,{voteInit:{nodePubkey:he(r.nodePubkey.toBuffer()),authorizedVoter:he(r.authorizedVoter.toBuffer()),authorizedWithdrawer:he(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:tt,isSigner:!1,isWritable:!1},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new qe(o)}static createAccount(e){const t=new Ye;return t.add(St.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:i}=e,o=dt(Jr.Authorize,{newAuthorized:he(r.toBuffer()),voteAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ye).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:a}=e,s=dt(Jr.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:he(n.toBuffer()),currentAuthorityDerivedKeySeed:r,newAuthorized:he(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:Xe,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Ye).add({keys:u,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:i}=e,o=dt(Jr.Withdraw,{lamports:r}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ye).add({keys:a,programId:this.programId,data:o})}static safeWithdraw(e,t,n){if(e.lamports>t-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return ei.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,nodePubkey:r}=e,i=dt(Jr.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new Ye).add({keys:o,programId:this.programId,data:i})}}ei.programId=new Se("Vote111111111111111111111111111111111111111"),ei.space=3762;const ti=new Se("Va1idator1nfo111111111111111111111111111111"),ni=F({name:j(),website:D(j()),details:D(j()),iconUrl:D(j()),keybaseUsername:D(j())});class ri{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Le(t))return null;const n=[];for(let r=0;r<2;r++){const e=new Se(Be(t,0,me)),r=1===Fe(t);n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(ti)&&n[1].isSigner){const e=Me().decode(o.Buffer.from(t)),r=JSON.parse(e);return T(r,ni),new ri(n[1].publicKey,r)}return null}}const ii=new Se("Vote111111111111111111111111111111111111111"),oi=h.struct([Ce("nodePubkey"),Ce("authorizedWithdrawer"),h.u8("commission"),h.nu64(),h.seq(h.struct([h.nu64("slot"),h.u32("confirmationCount")]),h.offset(h.u32(),-8),"votes"),h.u8("rootSlotValid"),h.nu64("rootSlot"),h.nu64(),h.seq(h.struct([h.nu64("epoch"),Ce("authorizedVoter")]),h.offset(h.u32(),-8),"authorizedVoters"),h.struct([h.seq(h.struct([Ce("authorizedPubkey"),h.nu64("epochOfLastAuthorizedSwitch"),h.nu64("targetEpoch")]),32,"buf"),h.nu64("idx"),h.u8("isEmpty")],"priorVoters"),h.nu64(),h.seq(h.struct([h.nu64("epoch"),h.nu64("credits"),h.nu64("prevCredits")]),h.offset(h.u32(),-8),"epochCredits"),h.struct([h.nu64("slot"),h.nu64("timestamp")],"lastTimestamp")]);class ai{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=oi.decode(he(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new ai({nodePubkey:new Se(t.nodePubkey),authorizedWithdrawer:new Se(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(si),priorVoters:ci(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function si(e){let{authorizedVoter:t,epoch:n}=e;return{epoch:n,authorizedVoter:new Se(t)}}function ui(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:n,targetEpoch:r}=e;return{authorizedPubkey:new Se(t),epochOfLastAuthorizedSwitch:n,targetEpoch:r}}function ci(e){let{buf:t,idx:n,isEmpty:r}=e;return r?[]:[...t.slice(n+1).map(ui),...t.slice(0,n).map(ui)]}const li={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function di(e,t){const n=!1===t?"http":"https";if(!e)return li[n].devnet;const r=li[n][e];if(!r)throw new Error("Unknown ".concat(n," cluster: ").concat(e));return r}async function fi(e,t,n,r){let i,o;n&&Object.prototype.hasOwnProperty.call(n,"lastValidBlockHeight")||n&&Object.prototype.hasOwnProperty.call(n,"nonceValue")?(i=n,o=r):o=n;const a=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,minContextSlot:o.minContextSlot},s=await e.sendRawTransaction(t,a),u=o&&o.commitment,c=i?e.confirmTransaction(i,u):e.confirmTransaction(s,u),l=(await c).value;if(l.err){if(null!=s)throw new at({action:null!==a&&void 0!==a&&a.skipPreflight?"send":"simulate",signature:s,transactionMessage:"Status: (".concat(JSON.stringify(l),")")});throw new Error("Raw transaction ".concat(s," failed (").concat(JSON.stringify(l),")"))}return s}const hi=1e9},function(e,t,n){(function(e){var r=n(72).default,i=n(19).default;const o=["enabled","anonymousActionType","store"],a=["connection"];!function(t){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e){return Number.isInteger(e)&&e>=0}function p(e){this.name="ArgumentError",this.message=e}"function"===typeof SuppressedError&&SuppressedError;var y,g=f((function(e,t){if(t=t||{},"function"!==typeof e)throw new p("fetch must be a function");if("object"!==typeof t)throw new p("defaults must be an object");if(void 0!==t.retries&&!h(t.retries))throw new p("retries must be a positive integer");if(void 0!==t.retryDelay&&!h(t.retryDelay)&&"function"!==typeof t.retryDelay)throw new p("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==t.retryOn&&!Array.isArray(t.retryOn)&&"function"!==typeof t.retryOn)throw new p("retryOn property expects an array or function");var n={retries:3,retryDelay:1e3,retryOn:[]};return t=Object.assign(n,t),function(n,r){var i=t.retries,o=t.retryDelay,a=t.retryOn;if(r&&void 0!==r.retries){if(!h(r.retries))throw new p("retries must be a positive integer");i=r.retries}if(r&&void 0!==r.retryDelay){if(!h(r.retryDelay)&&"function"!==typeof r.retryDelay)throw new p("retryDelay must be a positive integer or a function returning a positive integer");o=r.retryDelay}if(r&&r.retryOn){if(!Array.isArray(r.retryOn)&&"function"!==typeof r.retryOn)throw new p("retryOn property expects an array or function");a=r.retryOn}return new Promise((function(t,s){var u=function(o){var u="undefined"!==typeof Request&&n instanceof Request?n.clone():n;e(u,r).then((function(e){if(Array.isArray(a)&&-1===a.indexOf(e.status))t(e);else if("function"===typeof a)try{return Promise.resolve(a(o,null,e)).then((function(n){n?c(o,null,e):t(e)})).catch(s)}catch(n){s(n)}else o<i?c(o,null,e):t(e)})).catch((function(e){if("function"===typeof a)try{Promise.resolve(a(o,e,null)).then((function(t){t?c(o,e,null):s(e)})).catch((function(e){s(e)}))}catch(e){s(e)}else o<i?c(o,e,null):s(e)}))};function c(e,t,n){var r="function"===typeof o?o(e,t,n):o;setTimeout((function(){u(++e)}),r)}u(0)}))}})),v=function(e){return e?Object.entries(e).reduce((function(e,t){var n,r=t[0],i=t[1];return void 0===i||null===i||i instanceof Array&&0===i.length||i instanceof Object&&0===Object.keys(i).length||""===i?e:u(u({},e),((n={})[r]=i.toString(),n))}),{}):{}};!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(y||(y={}));var E,m=[y.DEBUG,y.INFO,y.WARN,y.ERROR],w=function(e,t){return m.indexOf(t)>=m.indexOf(e)},S=y.INFO,b=function(){function e(e,t){void 0===t&&(t=S),this.logger=e,this.logLevel=t}return e.prototype.setLogLevel=function(e){this.logLevel=e},e.prototype.debug=function(e,t){w(this.logLevel,y.DEBUG)&&this.logger.debug(e,t)},e.prototype.info=function(e,t){w(this.logLevel,y.INFO)&&this.logger.info(e,t)},e.prototype.warn=function(e,t){w(this.logLevel,y.WARN)&&this.logger.warn(e,t)},e.prototype.error=function(e,t){w(this.logLevel,y.ERROR)&&this.logger.error(e,t)},e}(),_=function(e,t,n){n?e(t,n):e(t)},T=function(e){function t(t){return void 0===t&&(t=S),e.call(this,console,t)||this}return s(t,e),t.prototype.setLogLevel=function(e){this.logLevel=e},t.prototype.debug=function(e,t){_(this.logger.debug,e,t)},t.prototype.info=function(e,t){_(this.logger.info,e,t)},t.prototype.warn=function(e,t){_(this.logger.warn,e,t)},t.prototype.error=function(e,t){_(this.logger.error,e,t)},t}(b),I=new b(new T),R=function(e,t){return function(n,r){return void 0===r&&(r=null),I.debug("[".concat(t,"][").concat(e,"] ").concat(n),r)}},N=function(e,t){return function(n,r){return void 0===r&&(r=null),I.error("[".concat(t,"][").concat(e,"] ").concat(n),r)}},A=function(e,t){return function(n,r){return void 0===r&&(r=null),I.warn("[".concat(t,"][").concat(e,"] ").concat(n),r)}},O=function(e,t){return function(n,r){return void 0===r&&(r=null),I.info("[".concat(t,"][").concat(e,"] ").concat(n),r)}},k=function(e,t){return void 0===t&&(t="GatewayClientCore"),{setLogLevel:function(e){var t;return null===(t=null===I||void 0===I?void 0:I.setLogLevel)||void 0===t?void 0:t.call(I,e)},debug:R(e,t),error:N(e,t),warn:A(e,t),info:O(e,t)}};!function(e){e[e.REQUESTING=0]="REQUESTING",e[e.NOT_REQUESTED=404]="NOT_REQUESTED",e[e.REQUESTED=202]="REQUESTED",e[e.ISSUED=200]="ISSUED",e[e.ISSUED_EXPIRY_APPROACHING=205]="ISSUED_EXPIRY_APPROACHING",e[e.ISSUED_EXPIRED=426]="ISSUED_EXPIRED",e[e.LOCATION_NOT_SUPPORTED=401]="LOCATION_NOT_SUPPORTED",e[e.REJECTED=403]="REJECTED",e[e.VPN_NOT_SUPPORTED=421]="VPN_NOT_SUPPORTED",e[e.ISSUED_LOCATION_NOT_SUPPORTED=412]="ISSUED_LOCATION_NOT_SUPPORTED",e[e.ISSUED_VPN_NOT_SUPPORTED=451]="ISSUED_VPN_NOT_SUPPORTED",e[e.SERVER_FAILURE=500]="SERVER_FAILURE",e[e.REQUESTED_RETRIES_EXHAUSTED=408]="REQUESTED_RETRIES_EXHAUSTED"}(E||(E={}));var C,x,M,P,L={local:"http://localhost:3001/local",test:"https://dev-gatekeeper-api.civic.com",dev:"https://dev-gatekeeper-api.civic.com",preprod:"https://preprod-gatekeeper-api.civic.com",prod:"https://gatekeeper-api.civic.com"},D=k("GatekeeperClient").debug,U=k("GatekeeperClient").warn,j=k("GatekeeperClient").error,G=function(e,t){var n=L[e];return n||(U("No Gatekeeper endpoint for stage ".concat(e," . Using dev endpoint.")),n=L.dev),"".concat(n,"/v1/token/").concat(t)},F=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==e[1]})))},B=function(){function e(e,t){var n=this;this.initConfig=e,this.abortController=e.abortController,this.baseUrl=e.baseUrl||G(e.stage,e.chainType),this.queryParams=e.queryParams,this.headers=v(u(u({},e.headers),{"x-civic-flowid":t})),this.fetchImplementation=e.fetchImplementation;var r=e.numRetries;this.defaultRetryParams={retries:r,retryOn:function(e,t,i){return c(n,void 0,void 0,(function(){var n,o,a;return l(this,(function(s){switch(s.label){case 0:return i?[4,i.clone().json()]:[3,2];case 1:return o=s.sent(),[3,3];case 2:o={},s.label=3;case 3:if(n=o,i&&i.status>=500){if(null===(a=null===n||void 0===n?void 0:n.message)||void 0===a?void 0:a.includes("NO_AUTO_RETRY"))return[2,!1];if(e>=r)throw j("retryOn error run out of retries",{error:t,attempt:e,retries:r,response:i,body:n}),t;return D("retrying on 5xx error",{error:t,attempt:e,retries:r,response:i,body:n}),[2,!0]}return D("retryOn returning false as error was not a 5xx error"),[2,!1]}}))}))},retryDelay:function(e){var t=10+1e3*Math.pow(2,e);return D("retryDelay",{attempt:e+1,retryDelay:t}),t}},this.fetchWithRetry=g(this.fetchImplementation,this.defaultRetryParams)}return e.prototype.setFlowId=function(e){this.headers=v(u(u({},this.headers||{}),{"x-civic-flowid":e}))},e.prototype.instanceName=function(){var e,t;return null===(t=null===(e=this.queryParams)||void 0===e?void 0:e.gatekeeperNetworkAddress)||void 0===t?void 0:t.substring(0,6)},e.prototype.abort=function(){var e,t;D("abort ".concat(null===(t=null===(e=this.queryParams)||void 0===e?void 0:e.gatekeeperNetworkAddress)||void 0===t?void 0:t.substring(0,6))),this.abortController.abort()},e.prototype.addQueryParams=function(e){this.queryParams&&Object.entries(this.queryParams).forEach((function(t){var n=t[0],r=t[1];e.searchParams.append(n,r)}))},e.prototype.continueIfNotAborted=function(e){return D("continueIfNotAborted ".concat(this.instanceName()," this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),this.queryParams),this.abortController.signal.aborted?null:e()},e.prototype.urlForWallet=function(e){void 0===e&&(e=this.initConfig.walletAddress);var t=new URL("".concat(this.baseUrl,"/").concat(e));return this.addQueryParams(t),t.toString()},e.prototype.getGatekeeperRecordWithPayload=function(){return c(this,arguments,void 0,(function(e){var t=this;return void 0===e&&(e=this.initConfig.walletAddress),l(this,(function(n){return D("url: ".concat(this.urlForWallet(e)," getGatekeeperRecordWithPayload: ").concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),[2,this.fetchWithRetry(this.urlForWallet(e),{method:"GET",headers:this.headers,signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return c(t,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t={state:E[E[e.status]]},[4,e.json()];case 1:return[2,(t.payload=n.sent(),t)]}}))}))}}))).catch((function(e){if("AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.getGatekeeperStatus=function(){return c(this,arguments,void 0,(function(e){return void 0===e&&(e=this.initConfig.walletAddress),l(this,(function(t){return D("getGatekeeperStatus: ".concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),[2,this.fetchWithRetry(this.urlForWallet(e),{method:"HEAD",headers:this.headers,signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return e.status}}))).catch((function(e){if(j("getGatekeeperStatus",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),E.SERVER_FAILURE;throw e}))]}))}))},e.prototype.requestGatewayTokenFromGatekeeper=function(e){return c(this,arguments,void 0,(function(e){var t,n,r=this,i=e.payload,o=e.proof,a=e.payer;return l(this,(function(e){return D("requestGatewayTokenFromGatekeeper: ".concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),u(u({},i),{proof:o})),t=F(u(u({},i),{proof:o,address:this.initConfig.walletAddress,payer:a})),D("requestGatewayTokenFromGatekeeper Requesting a new gatekeeper token...",t),n=new URL(this.baseUrl),this.addQueryParams(n),[2,this.fetchWithRetry(n.toString(),{method:"POST",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t),signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return c(r,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))}}))).catch((function(e){if(j("requestGatewayTokenFromGatekeeper",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.refreshToken=function(e){return c(this,arguments,void 0,(function(e){var t,n,r,i=this,o=e.payload,a=e.proof,s=e.payer;return l(this,(function(e){return D("refreshToken: ".concat(this.urlForWallet(this.initConfig.walletAddress)).concat(null===(r=null===(n=this.queryParams)||void 0===n?void 0:n.gatekeeperNetworkAddress)||void 0===r?void 0:r.substring(0,6),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),{payload:o}),t=F(u(u({},o),{proof:a,request:"refresh",payer:s})),[2,this.fetchWithRetry(this.urlForWallet(this.initConfig.walletAddress),{method:"PATCH",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t),signal:this.abortController.signal}).then((function(e){return c(i,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))})).catch((function(e){if(j("refreshToken",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.fetchFreshTransaction=function(e){return c(this,arguments,void 0,(function(e){var t,n,r,i,o=this,a=e.payer;return l(this,(function(e){return t=new URL("".concat(this.baseUrl,"/").concat(this.initConfig.walletAddress,"/transaction")),this.addQueryParams(t),D("fetchFreshTransaction: ".concat(t.toString()).concat(null===(i=null===(r=this.queryParams)||void 0===r?void 0:r.gatekeeperNetworkAddress)||void 0===i?void 0:i.substring(0,6),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),n=F({payer:a}),[2,this.fetchWithRetry("".concat(t.toString()),{method:"POST",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(n),signal:this.abortController.signal}).then((function(e){return c(o,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))})).catch((function(e){if(j("fetchFreshTransaction",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.updateTransactionStatus=function(e){return c(this,arguments,void 0,(function(e,t){var n,r,i=this;return void 0===t&&(t="sent"),l(this,(function(o){return n=new URL("".concat(this.baseUrl,"/").concat(this.initConfig.walletAddress,"/transaction/").concat(e)),this.addQueryParams(n),r={status:t},[2,this.fetchWithRetry(n.toString(),{method:"PATCH",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(r),signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(){return c(i,void 0,void 0,(function(){return l(this,(function(t){return D("updateTransactionStatus successful",{txId:e,url:n,wallet:this.initConfig.walletAddress}),[2]}))}))}}))).catch((function(e){if("AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw j("updateTransactionStatus",e),e}))]}))}))},e}();t.State=void 0,(P=t.State||(t.State={})).ACTIVE="ACTIVE",P.REVOKED="REVOKED",P.FROZEN="FROZEN",t.TokenState=void 0,(M=t.TokenState||(t.TokenState={})).REQUESTED="REQUESTED",M.ACTIVE="ACTIVE",M.REVOKED="REVOKED",M.FROZEN="FROZEN",M.REJECTED="REJECTED",t.ChainType=void 0,(x=t.ChainType||(t.ChainType={})).SOLANA="solana",x.ETHEREUM="ethereum",x.CASPER="casper",x.ICP="icp",t.SignatureMethod=void 0,(C=t.SignatureMethod||(t.SignatureMethod={}))[C.TRANSACTION=0]="TRANSACTION",C[C.MESSAGE=1]="MESSAGE";var z,W,H={INSUFFICIENT_FUNDS:"0x1",SIGN_TRANSACTION_ERROR:"0x2",SIGN_TRANSACTION_USER_REJECTED_ERROR:"0x21",SIGN_TRANSACTION_UNKNOWN_ERROR:"0x22",SEND_TRANSACTION_ERROR:"0x3",CUSTOM_HANDLE_TRANSACTION_ERROR:"0x4",POWO_ERROR:"0x5",CHAIN_CONFIRMATION_TIMEOUT_ERROR:"0x6",TRANSACTION_FAILED_ON_CHAIN_ERROR:"0x61",TRANSACTION_DROPPED_ERROR:"0x62",TRANSACTION_CONFIRMATION_UNKNOWN_ERROR:"0x63",BROWSER_CLOSED_WHILE_TRANSACTION_PENDING:"0x64",EXPECTED_GATEKEEPER_RECORD:"0x7"},K=function(e){function t(n,r,i){void 0===i&&(i=I);var o=e.call(this,n)||this;return o.errorCode=r,null===i||void 0===i||i.error("ChainError: ".concat(n," throwing code ").concat(r)),Object.setPrototypeOf(o,t.prototype),o}return s(t,e),t}(Error),V=function(e){function t(n,r){void 0===r&&(r=H.CHAIN_CONFIRMATION_TIMEOUT_ERROR);var i=e.call(this,n)||this;return i.errorCode=r,I.error("ChainConfirmationTimeout: ".concat(n," throwing code ").concat(r)),Object.setPrototypeOf(i,t.prototype),i}return s(t,e),t}(Error);t.GatewayStatus=void 0,(W=t.GatewayStatus||(t.GatewayStatus={})).UNKNOWN="UNKNOWN",W.CHECKING="CHECKING",W.NOT_REQUESTED="NOT_REQUESTED",W.COLLECTING_USER_INFORMATION="COLLECTING_USER_INFORMATION",W.IN_REVIEW="IN_REVIEW",W.REJECTED="REJECTED",W.REVOKED="REVOKED",W.FROZEN="FROZEN",W.ACTIVE="ACTIVE",W.ERROR="ERROR",W.LOCATION_NOT_SUPPORTED="LOCATION_NOT_SUPPORTED",W.VPN_NOT_SUPPORTED="VPN_NOT_SUPPORTED",W.REFRESH_TOKEN_REQUIRED="REFRESH_TOKEN_REQUIRED",W.VALIDATING_USER_INFORMATION="VALIDATING_USER_INFORMATION",W.USER_INFORMATION_VALIDATED="USER_INFORMATION_VALIDATED",W.USER_INFORMATION_REJECTED="USER_INFORMATION_REJECTED",t.ExtendedGatewayStatus=void 0,(z=t.ExtendedGatewayStatus||(t.ExtendedGatewayStatus={})).AWAITING_OWNER_TRANSACTION="AWAITING_OWNER_TRANSACTION",z.CHAIN_TIMEOUT_ERROR="CHAIN_TIMEOUT_ERROR",z.CONFIRM_OWNER_TRANSACTION="CONFIRM_OWNER_TRANSACTION",z.CHAIN_TRANSACTION_ERROR="CHAIN_TRANSACTION_ERROR",z.TOKEN_IN_PARTNER_REVIEW="TOKEN_IN_PARTNER_REVIEW",z.TOKEN_REFRESH_IN_REVIEW="TOKEN_REFRESH_IN_REVIEW",z.USER_VALIDATION_FAILED="USER_VALIDATION_FAILED",z.RESTART="RESTART",z.CHAIN_SIGN_MESSAGE_ERROR="CHAIN_SIGN_MESSAGE_ERROR",z.ISSUANCE_CLIENT_PAYER_REQUESTED="ISSUANCE_CLIENT_PAYER_REQUESTED",z.ISSUANCE_AWAITING_TRANSACTION_SEND="ISSUANCE_AWAITING_TRANSACTION_SEND",z.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND="ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND",z.ISSUANCE_AWAITING_ON_CHAIN_TOKEN="ISSUANCE_AWAITING_ON_CHAIN_TOKEN",z.ISSUANCE_RESTART_DATA_COLLECTION="ISSUANCE_RESTART_DATA_COLLECTION",z.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX="ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX",z.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX="ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX",z.ISSUANCE_CLIENT_SENDS_START_NEW_TX="ISSUANCE_CLIENT_SENDS_START_NEW_TX",z.REFRESH_USER_INFORMATION_VALIDATED="REFRESH_USER_INFORMATION_VALIDATED",z.REFRESH_CLIENT_PAYER_REQUESTED="REFRESH_CLIENT_PAYER_REQUESTED",z.REFRESH_IN_REVIEW="REFRESH_IN_REVIEW",z.REFRESH_AWAITING_TRANSACTION_SEND="REFRESH_AWAITING_TRANSACTION_SEND",z.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND="REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND",z.REFRESH_AWAITING_ON_CHAIN_TOKEN="REFRESH_AWAITING_ON_CHAIN_TOKEN",z.RESTART_REFRESH="RESTART_REFRESH",z.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX="REFRESH_CLIENT_SENDS_REQUEST_NEW_TX",z.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX="REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX",z.REFRESH_CLIENT_SENDS_START_NEW_TX="REFRESH_CLIENT_SENDS_START_NEW_TX";var q={local:"https://dev.api.civic.com/gkn-dev",test:"https://dev.api.civic.com/gkn-dev",dev:"https://dev.api.civic.com/gkn-dev",preprod:"https://dev.api.civic.com/gkn-preprod",prod:"https://api.civic.com/gkn"},Y=function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:if(!q[e])throw new Error("No Gatekeeper Network Service endpoint found for stage ".concat(e));return[4,fetch("".concat(q[e],"/public/gatekeeperNetwork/").concat(t))];case 1:return[4,r.sent().json()];case 2:if((null===(n=r.sent())||void 0===n?void 0:n.id)!==t)throw new Error("Could not fetch data from Gatekeeper Network Service for ".concat(t));return[2,n]}}))}))};let Q;var Z,X;t.FlowType=void 0,(X=t.FlowType||(t.FlowType={})).ISSUANCE="issuance",X.REFRESH="refresh",X.STATUS="status",X.REVOCATION="revocation",X.UNFREEZE="unfreeze",t.FlowStatus=void 0,(Z=t.FlowStatus||(t.FlowStatus={})).IN_PROGRESS="in-progress",Z.RESULT="result",Z.FINISHED="finished";const J=new Uint8Array(16);function $(){if(!Q&&(Q="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(J)}const ee=[];for(let e=0;e<256;++e)ee.push((e+256).toString(16).slice(1));function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]}var ne,re,ie,oe,ae,se={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ue(e,t,n){if(se.randomUUID&&!t&&!e)return se.randomUUID();const r=(e=e||{}).random||(e.rng||$)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return te(r)}(function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCELLED="cancelled",e.IN_PROGRESS="inProgress",e.ERROR="error"})(ne||(ne={})),function(e){e.ISSUANCE="issuance",e.CONFIRM_TRANSACTION="confirmTransaction",e.TOKEN_FROZEN="tokenFrozen",e.TOKEN_ACTIVE="tokenActive",e.TOKEN_REVOKED="tokenRevoked",e.TOKEN_REJECTED="tokenRejected",e.TOKEN_IN_REVIEW="tokenInReview",e.TOKEN_REFRESH_IN_REVIEW="tokenRefreshInReview",e.TOKEN_IN_PARTNER_REVIEW="tokenInPartnerReview",e.FAILED_IP_CHECK="failedIpCheck",e.FAILED_VPN_CHECK="failedVpnCheck",e.REFRESH="refresh",e.STATUS="status",e.ERROR="error",e.CHAIN_ERROR="chainError",e.SIGN_TRANSACTION="signTransaction",e.AWAITING_TRANSACTION_CONFIRMATION="awaitingTransactionConfirmation",e.START_PRE_APPROVED_TRANSACTION="startPreApprovedTransaction"}(re||(re={})),function(e){e.COLLECTING="COLLECTING",e.PROCESSING="PROCESSING",e.IN_REVIEW="IN_REVIEW",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.NOT_FOUND="NOT_FOUND"}(ie||(ie={})),function(e){e.RESPONSE_PUBLIC_KEY="RESPONSE_PUBLIC_KEY",e.RESPONSE_DID="RESPONSE_DID",e.RESPONSE_SIGNED_PROOF="RESPONSE_SIGNED_PROOF",e.RESPONSE_SIGNED_MESSAGE="RESPONSE_SIGNED_MESSAGE",e.RESPONSE_ERROR="RESPONSE_ERROR"}(oe||(oe={})),function(e){e.REQUEST_PUBLIC_KEY="REQUEST_PUBLIC_KEY",e.REQUEST_DID="REQUEST_DID",e.REQUEST_SIGNED_PROOF="REQUEST_SIGNED_PROOF",e.REQUEST_SIGNED_MESSAGE="REQUEST_SIGNED_MESSAGE"}(ae||(ae={}));var ce,le=function(){function e(e,t,n,r){void 0===r&&(r=k("ListenerManager")),this.messageEventInterface=e,this.chainImplementation=t,this.instanceId=n,this.log=r,this.messageListeners={}}return e.prototype.registerCivicPassListener=function(e){var t=this,n=function(n){var r,i;n.data?(null===(r=n.data)||void 0===r?void 0:r.instanceId)===t.instanceId?Object.values(re).includes(n.data.action)&&(t.log.debug("received CivicPassListener postMessage",n.data),e(n.data)):(null===(i=n.data)||void 0===i?void 0:i.instanceId)&&"@devtools-page"!==n.data.source&&t.log.debug("instanceId for different instance",{event:n.data,instanceId:t.instanceId}):t.log.error("No data in response")};this.log.debug("Adding event listener for civic-pass events"),this.messageEventInterface.addMessageEventListener(n),this.messageListeners.civicPass=n},e.prototype.registerCivicSignListener=function(e){var t=this,n=function(n){var r,i;n.data?(null===(r=n.data)||void 0===r?void 0:r.instanceId)===t.instanceId?Object.values(ae).includes(n.data.request)&&(t.log.debug("received CivicSignListener postMessage",n.data),e(n.data)):(null===(i=n.data)||void 0===i?void 0:i.instanceId)&&"@devtools-page"!==n.data.source&&t.log.debug("instanceId for different instance",{event:n.data,instanceId:t.instanceId}):t.log.error("No data in response")};this.log.debug("Adding event listener for civic-sign events"),this.messageEventInterface.addMessageEventListener(n),this.messageListeners.civicSign=n},e.prototype.registerOnChainListeners=function(e){this.chainImplementation.on("TOKEN_CREATED",e),this.chainImplementation.on("TOKEN_CHANGED",e)},e.prototype.unregisterAllListeners=function(){var e=this;Object.entries(this.messageListeners).forEach((function(t){var n=t[0],r=t[1];e.log.debug("Removing message event listener",n),e.messageEventInterface.removeMessageEventListener(r),delete e.messageListeners[n]}))},e}();!function(e){e.IN_PROGRESS="IN_PROGRESS",e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.RECEIVED="RECEIVED",e.RESPONDED="RESPONDED"}(ce||(ce={}));var de,fe=function(e){var t=e.gatekeeperSendsTransaction,n=e.payer,r=e.wallet;if(!t)return n||(null===r||void 0===r?void 0:r.address)},he=k("remoteSign").debug,pe=k("remoteSign").error,ye=function(e){return{postMessage:function(t,n){e.postMessage(t,n)}}},ge=function(){function e(e,t){this.instanceId=t,this.postMessageTarget=e}return e.prototype.sendPublicKey=function(e,t){this.emit({event:oe.RESPONSE_PUBLIC_KEY,data:t,requestId:e})},e.prototype.sendDid=function(e,t){this.emit({event:oe.RESPONSE_DID,data:t,requestId:e})},e.prototype.sendSignedProof=function(e,t,n){this.emit({event:oe.RESPONSE_SIGNED_PROOF,data:{proof:t,signatureMethod:n},requestId:e})},e.prototype.sendSignedMessage=function(e,t){this.emit({event:oe.RESPONSE_SIGNED_MESSAGE,data:t,requestId:e})},e.prototype.sendError=function(e,t,n){this.emit({event:oe.RESPONSE_ERROR,requestId:e,data:{request:t,error:{message:n.message,code:null===n||void 0===n?void 0:n.errorCode}}})},e.prototype.emit=function(e){this.postMessageTarget.postMessage(u(u({},e),{instanceId:this.instanceId}),"*")},e}(),ve=function(t,n,r){return c(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:i=r.wallet,o=r.chainImplementation,l.label=1;case 1:return l.trys.push([1,8,,9]),(s=r.ownerDids)?[3,3]:[4,o.ownerDids()];case 2:s=l.sent(),l.label=3;case 3:return a=s,he("handleRemoteSignEvent ".concat(t.request),{remoteSignerInst:n,wallet:i,chainImplDids:a}),Object.values(ae).includes(t.request)?t.request===ae.REQUEST_PUBLIC_KEY?(null===n||void 0===n||n.sendPublicKey(t.requestId,i.address),[2,i.address]):t.request===ae.REQUEST_DID?(null===n||void 0===n||n.sendDid(t.requestId,null===a||void 0===a?void 0:a[0]),[2,null===a||void 0===a?void 0:a[0]]):t.request!==ae.REQUEST_SIGNED_PROOF?[3,5]:[4,o.proveWalletOwnership(t.payload)]:(pe("No result from remote sign event"),[2]);case 4:return u=l.sent(),null===n||void 0===n||n.sendSignedProof(t.requestId,u.proof,u.signatureMethod),[2,{proof:u.proof,signatureMethod:u.signatureMethod}];case 5:if(t.request!==ae.REQUEST_SIGNED_MESSAGE)return[3,7];if(!t.payload)return[3,7];if(!o.signMessage)throw new Error("Chain implementation does not support signMessage");return[4,null===(p=o.signMessage)||void 0===p?void 0:p.call(o,e.from(t.payload))];case 6:return c=l.sent(),null===n||void 0===n||n.sendSignedMessage(t.requestId,c),[2,c];case 7:return[3,9];case 8:return d=l.sent(),f=d.errorCode||d.code||H.POWO_ERROR,h=new K(d.message,"".concat(f)),pe("Error handling remote sign event, sending back an error response with code ".concat(f),h),null===n||void 0===n||n.sendError(t.requestId,t.request,h),[2,{request:t.request,error:h}];case 9:return[2]}}))}))},Ee=function(){function e(e,t,n){this.gatewayCoreStore=e,this.gatekeeperClient=t,this.abortController=n,this.log=k("OrchestratorFlow")}return e.prototype.setGatekeeperClientFlowId=function(){var e,t,n,r,i=this.gatewayCoreStore.getState();if(!(null===(t=null===(e=i.output)||void 0===e?void 0:e.flowParameters)||void 0===t?void 0:t.flowId))throw this.log.error("Missing flowId",i),new Error("Missing flowId");this.gatekeeperClient.setFlowId(null===(r=null===(n=i.output)||void 0===n?void 0:n.flowParameters)||void 0===r?void 0:r.flowId)},e}(),me=120,we=3,Se=function(e,t){return e-Math.floor(Date.now()/1e3)<=t},be=function(e){return!!e&&Math.floor(Date.now()/1e3)>=e},_e=function(e){var n=e.gatewayToken,r=e.tokenExpirationMarginSeconds,i=e.forceRequireRefresh,o=n||{},a=o.expiryTime,s=o.state===t.State.ACTIVE;return!(!a||!s)&&(!!i||be(a)||Se(a,r))},Te=2147483647,Ie=function(){return Math.floor(Date.now()/1e3)},Re=function(e,t){var n=e-Ie()-t,r=n>0?1e3*n:0;return r>=Te?Te-1:r},Ne=function(e){function t(t,n,r,i,o){void 0===o&&(o=me);var a=e.call(this,t,r,i)||this;return a.gatewayCoreStore=t,a.chainImplementation=n,a.gatekeeperClient=r,a.abortController=i,a.expectTokenTimeoutSeconds=o,a.timers={},a.log=k("Issuance instance with expectTokenTimeoutSeconds ".concat(o)),a}return s(t,e),t.prototype.sendTransaction=function(){return c(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s=this;return l(this,(function(u){if(e=this.gatewayCoreStore.getState(),!(null===(r=e.inputs.gatekeeperRecord.received)||void 0===r?void 0:r.transaction))throw this.log.error("Missing gatekeeperRecord payload"),new Error("Missing gatekeeperRecord payload");if(this.gatewayCoreStore.setState((function(e){e.internal.chainTransaction||(e.internal.chainTransaction={attempts:0}),void 0!==e.internal.chainTransaction.attempts&&(e.internal.chainTransaction.attempts+=1),e.internal.chainTransaction.sentTxId=void 0,e.internal.errors.expectedOnChainToken=null,e.inputs.gatewayToken.status=ce.COMPLETE,e.internal.chainTransaction.error=void 0,e.inputs.civicPass.received=null})),this.abortExpectedTokenTimer(),!this.chainImplementation.handleTransaction)throw this.log.error("No handleTransaction defined on chainImplementation."),new Error("No handleTransaction defined on chainImplementation");return t=null===(i=e.internal.chainDetails)||void 0===i?void 0:i.chainType,n=t?null===(a=null===(o=e.inputs.gatekeeperNetworkData.received)||void 0===o?void 0:o.chains[t])||void 0===a?void 0:a.frontendPollingTimeoutSeconds:void 0,this.chainImplementation.handleTransaction(e.inputs.gatekeeperRecord.received.transaction,n).then((function(e){s.abortController.signal.aborted||s.gatewayCoreStore.setState((function(t){t.internal.chainTransaction||(t.internal.chainTransaction={}),s.gatekeeperClient.updateTransactionStatus(e),t.internal.chainTransaction.sentTxId=e}))})).catch((function(e){s.gatewayCoreStore.setState((function(t){t.internal.chainTransaction||(t.internal.chainTransaction={}),t.internal.chainTransaction.error=e}))})),[2]}))}))},t.prototype.gatekeeperRequest=function(e,t){return c(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){if(!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.currentPayload=null===(r=t.inputs.civicPass.received)||void 0===r?void 0:r.payload,[2,this.gatekeeperClient.requestGatewayTokenFromGatekeeper({payload:null===(i=t.inputs.civicPass.received)||void 0===i?void 0:i.payload,payer:e})]}))}))},t.prototype.freshTransactionGatekeeperRequest=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.gatekeeperClient.fetchFreshTransaction({payer:e})]}))}))},t.prototype.clearStateBeforeGatekeeperRequest=function(e){void 0===e&&(e=!1),this.gatewayCoreStore.setState((function(t){t.internal.errors.expectedOnChainToken=null,t.inputs.gatewayToken.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=null,t.inputs.gatekeeperRecord.status=ce.IN_PROGRESS,e&&(t.internal.chainTransaction=void 0)}))},t.prototype.makeGatekeeperRequest=function(e){return c(this,arguments,void 0,(function(e){var t,n=this,r=e.payer,i=e.isFreshTransactionRequest;return l(this,(function(e){return t=this.gatewayCoreStore.getState(),this.setGatekeeperClientFlowId(),this.log.debug("makeGatekeeperRequest",t),this.abortExpectedTokenTimer(),this.clearStateBeforeGatekeeperRequest(i),(i?this.freshTransactionGatekeeperRequest(r):this.gatekeeperRequest(r,t)).then((function(e){n.abortController.signal.aborted||n.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e}))})).catch((function(e){n.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.ERROR,t.inputs.gatekeeperRecord.error=e}))})),[2]}))}))},t.prototype.retrieveFreshTransaction=function(e){return c(this,void 0,void 0,(function(){var t,n,r=this;return l(this,(function(i){if(t=this.gatewayCoreStore.getState(),!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.setGatekeeperClientFlowId(),this.log.debug("retrieveFreshTransaction",t),this.abortExpectedTokenTimer(),this.clearStateBeforeGatekeeperRequest(),this.gatekeeperRequest(e,t).then((function(e){r.abortController.signal.aborted||r.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e}))})).catch((function(e){r.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.ERROR,t.inputs.gatekeeperRecord.error=e}))})),[2]}))}))},t.prototype.statusHasValidToken=function(){return!!this.gatewayCoreStore.getState().inputs.gatewayToken.received},t.prototype.expectOnChainToken=function(){var e=this;this.gatewayCoreStore.getState().inputs.gatewayToken.received||this.timers.expectOnChainToken||(this.timers.expectOnChainToken=setTimeout((function(){e.gatewayCoreStore.setState((function(t){e.statusHasValidToken()||(t.internal.errors.expectedOnChainToken=new V("No on-chain token found within interval"))}))}),1e3*this.expectTokenTimeoutSeconds),this.log.debug("Started expected token timer",this.timers.expectOnChainToken))},t.prototype.abort=function(){this.abortExpectedTokenTimer(),this.abortRefreshCountdownTimer()},t.prototype.abortExpectedTokenTimer=function(){this.timers.expectOnChainToken&&(this.log.debug("Aborting expected token timer",this.timers.expectOnChainToken),clearTimeout(this.timers.expectOnChainToken))},t.prototype.onActiveTokenFound=function(){this.abortExpectedTokenTimer(),this.gatewayCoreStore.setState((function(e){var t;void 0!==(null===(t=e.inputs.dynamicParameters)||void 0===t?void 0:t.forceRequireRefresh)&&(e.inputs.gatekeeperRecord.received=null,e.internal.chainTransaction=void 0,e.inputs.dynamicParameters.forceRequireRefresh=!1)})),this.startRefreshCountdownTimer()},t.prototype.startRefreshCountdownTimer=function(){var e=this,t=this.gatewayCoreStore.getState().inputs.gatewayToken.received;if(null===t||void 0===t?void 0:t.expiryTime){this.abortRefreshCountdownTimer();var n=Re(t.expiryTime,0);this.timers.refreshCountdownTimer=setTimeout((function(){e.abortRefreshCountdownTimer()}),n),this.log.debug("Started refresh countdown timer",{gatewayToken:t,refreshCountdownTimer:this.timers.refreshCountdownTimer})}},t.prototype.abortRefreshCountdownTimer=function(){this.log.debug("abortRefreshCountdownTimer",{refreshCountdownTimer:this.timers.refreshCountdownTimer}),this.timers.refreshCountdownTimer&&(clearTimeout(this.timers.refreshCountdownTimer),this.timers.refreshCountdownTimer=void 0)},t.prototype.restartDataCollection=function(){this.gatewayCoreStore.setState((function(e){e.inputs.civicPass.received=null}))},t}(Ee),Ae=function(e){function t(t,n,r,i,o){void 0===o&&(o=me);var a=e.call(this,t,n,r,i,o)||this;return a.gatewayCoreStore=t,a.chainImplementation=n,a.gatekeeperClient=r,a.abortController=i,a.expectTokenTimeoutSeconds=o,a}return s(t,e),t.prototype.clearStateBeforeGatekeeperRequest=function(){this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.received=null,e.internal.chainTransaction=void 0,e.inputs.gatekeeperRecord.status=ce.IN_PROGRESS}))},t.prototype.gatekeeperRequest=function(e,t){return c(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){if(!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.currentPayload=null===(r=t.inputs.civicPass.received)||void 0===r?void 0:r.payload,[2,this.gatekeeperClient.refreshToken({payload:null===(i=t.inputs.civicPass.received)||void 0===i?void 0:i.payload,payer:e})]}))}))},t.prototype.statusHasValidToken=function(){var e=this.gatewayCoreStore.getState().inputs.gatewayToken.received;return!!(null===e||void 0===e?void 0:e.expiryTime)&&!(!e||_e({gatewayToken:e,tokenExpirationMarginSeconds:0}))},t}(Ne);!function(e){e.STARTED="started",e.FINISHED="finished"}(de||(de={}));var Oe,ke=function(e,t){var n,r;return[re.TOKEN_ACTIVE,re.TOKEN_REVOKED,re.TOKEN_FROZEN,re.TOKEN_REJECTED,re.FAILED_IP_CHECK,re.FAILED_VPN_CHECK,re.ERROR].includes(t)?de.FINISHED:null===(r=null===(n=e.internal)||void 0===n?void 0:n.userInteraction)||void 0===r?void 0:r.status},Ce=function(e){function t(t,n,r,i){void 0===i&&(i=2);var o=e.call(this,t,n,r)||this;return o.gatewayCoreStore=t,o.gatekeeperClient=n,o.abortController=r,o.pollingIntervalSeconds=i,o.timers={},o.log=k("PartnerReview instance"),o}return s(t,e),t.prototype.pollForReviewFinished=function(){return c(this,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){return this.setGatekeeperClientFlowId(),e=function(){return c(t,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){return(null===(e=this.abortController)||void 0===e?void 0:e.signal.aborted)?(clearInterval(this.timers.pollForReviewFinishedTimer),[2]):(this.gatekeeperClient.getGatekeeperRecordWithPayload().then((function(e){if(!e||void 0===(null===e||void 0===e?void 0:e.state)||(null===e||void 0===e?void 0:e.state)===E.SERVER_FAILURE)throw t.log.error("Error polling gatekeeper, no state returned",e),clearInterval(t.timers.pollForReviewFinishedTimer),new Error("Error polling gatekeeper, no state returned");t.log.debug("pollUntilNotRequested record.state",e.state),e.state!==E.REQUESTED&&(t.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e})),clearInterval(t.timers.pollForReviewFinishedTimer))})),[2])}))}))},e(),this.timers.pollForReviewFinishedTimer=setInterval(e,1e3*this.pollingIntervalSeconds),[2]}))}))},t.prototype.abort=function(){clearInterval(this.timers.pollForReviewFinishedTimer)},t}(Ee),xe=k("common").error,Me=((Oe={})[ie.COLLECTING]=t.GatewayStatus.COLLECTING_USER_INFORMATION,Oe[ie.PROCESSING]=t.GatewayStatus.VALIDATING_USER_INFORMATION,Oe[ie.IN_REVIEW]=t.GatewayStatus.VALIDATING_USER_INFORMATION,Oe[ie.FAILED]=t.GatewayStatus.USER_INFORMATION_REJECTED,Oe[ie.COMPLETED]=t.GatewayStatus.USER_INFORMATION_VALIDATED,Oe),Pe=function(e){var t,n,r;return!((null===(t=e.inputs.parameters)||void 0===t?void 0:t.payer)!==(null===(r=null===(n=e.inputs.parameters)||void 0===n?void 0:n.wallet)||void 0===r?void 0:r.address))},Le=function(e){var t,n,r;return!(!(null===(t=e.inputs.gatewayToken)||void 0===t?void 0:t.received)||(null===(r=null===(n=e.inputs.gatekeeperRecord)||void 0===n?void 0:n.received)||void 0===r?void 0:r.state)!==E.NOT_REQUESTED)},De=function(e){var n,r,i=null===(n=e.inputs.gatewayToken)||void 0===n?void 0:n.received;if(Le(e))return t.GatewayStatus.ERROR;if(i){var o=_e({gatewayToken:i,tokenExpirationMarginSeconds:0,forceRequireRefresh:null===(r=e.inputs.dynamicParameters)||void 0===r?void 0:r.forceRequireRefresh});switch(i.state){case"ACTIVE":return o?t.GatewayStatus.REFRESH_TOKEN_REQUIRED:t.GatewayStatus.ACTIVE;case"FROZEN":return t.GatewayStatus.FROZEN;case"REVOKED":return t.GatewayStatus.REVOKED;default:return xe("Unexpected token state: ".concat(i.state)),t.GatewayStatus.ERROR}}},Ue=function(e){var n=De(e);return n||(xe("The gateway status indicated an existing token but no status could be derived"),t.GatewayStatus.ERROR)},je=function(e){var n,r=e.inputs.gatekeeperRecord,i=e.inputs.gatewayToken;switch(null===(n=null===r||void 0===r?void 0:r.received)||void 0===n?void 0:n.state){case E.ISSUED_EXPIRED:return(null===i||void 0===i?void 0:i.received)?void 0:t.GatewayStatus.ERROR;case E.REJECTED:return t.GatewayStatus.REJECTED;case E.ISSUED_LOCATION_NOT_SUPPORTED:case E.LOCATION_NOT_SUPPORTED:return t.GatewayStatus.LOCATION_NOT_SUPPORTED;case E.ISSUED_VPN_NOT_SUPPORTED:case E.VPN_NOT_SUPPORTED:return t.GatewayStatus.VPN_NOT_SUPPORTED;case E.REQUESTED_RETRIES_EXHAUSTED:return t.GatewayStatus.ERROR;default:return}},Ge=function(){function e(e,t,n,r,i,o,a){var s,c,l,d,f,h,p,y;if(this.gatewayCoreStore=e,this.messageEventInterface=t,this.instanceId=n,this.inputs=r,this.postMessageTargetCallback=o,this.chainImplementation=a,this.abortController=new AbortController,!this.chainImplementation||!(null===(s=r.wallet)||void 0===s?void 0:s.address)||!r.stage)throw new Error("chainImplementation wallet and stage are required");this.wallet=r.wallet,this.payer=fe(r),this.log=k("Orchestrator[".concat(this.instanceId,"]")),this.listenerManager=new le(this.messageEventInterface,this.chainImplementation,this.instanceId);var g=null===(l=null===(c=this.chainImplementation)||void 0===c?void 0:c.chainDetails)||void 0===l?void 0:l.chainNetwork;this.gatekeeperClient=new B({abortController:this.abortController,baseUrl:null===(d=r.gatekeeperConfig)||void 0===d?void 0:d.baseUrl,queryParams:r.gatekeeperNetwork?{network:g,gatekeeperNetworkAddress:r.gatekeeperNetwork}:void 0,headers:u(u({},(null===(f=r.gatekeeperConfig)||void 0===f?void 0:f.headers)||{}),r.xCivicClientHeader?{"x-civic-client":r.xCivicClientHeader}:{}),stage:r.stage,fetchImplementation:i.fetchImplementation,numRetries:i.numRetries,walletAddress:null===(h=r.wallet)||void 0===h?void 0:h.address,chainType:null===(y=null===(p=this.chainImplementation)||void 0===p?void 0:p.chainDetails)||void 0===y?void 0:y.chainType}),this.log.debug("Orchestrator created")}return Object.defineProperty(e.prototype,"issuance",{get:function(){return this._issuance||(this._issuance=new Ne(this.gatewayCoreStore,this.chainImplementation,this.gatekeeperClient,this.abortController,this.inputs.expectTokenTimeoutSeconds)),this._issuance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refresh",{get:function(){return this._refresh||(this._refresh=new Ae(this.gatewayCoreStore,this.chainImplementation,this.gatekeeperClient,this.abortController,this.inputs.expectTokenTimeoutSeconds)),this._refresh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"partnerReview",{get:function(){return this._partnerReview||(this._partnerReview=new Ce(this.gatewayCoreStore,this.gatekeeperClient,this.abortController,this.inputs.gatekeeperPollingIntervalSeconds)),this._partnerReview},enumerable:!1,configurable:!0}),e.prototype.getRemoteSignInstance=function(){return this.remoteSignInstance||(this.remoteSignInstance=new ge(ye(this.postMessageTargetCallback(this.instanceId)),this.instanceId)),this.remoteSignInstance},e.prototype.getOwnerDids=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.chainImplementation.ownerDids()];case 1:return e=t.sent(),this.gatewayCoreStore.setState((function(t){t.internal.ownerDids=e})),[2]}}))}))},e.prototype.fetchGatekeeperNetworkData=function(){return c(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.IN_PROGRESS})),[2,Y(this.inputs.stage||"prod",this.inputs.gatekeeperNetwork||"").then((function(t){e.log.debug("getGatekeeperNetworkData",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.COMPLETE,e.inputs.gatekeeperNetworkData.received=t}))})).catch((function(t){e.log.error("Error retrieving gatekeeper network data",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.ERROR,e.inputs.gatekeeperNetworkData.error=t}))}))]}))}))},e.prototype.lookupTokenState=function(){return c(this,void 0,void 0,(function(){var e,t,n,r=this;return l(this,(function(i){switch(i.label){case 0:return e=function(){return c(r,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.IN_PROGRESS})),[2,this.gatekeeperClient.getGatekeeperRecordWithPayload().then((function(t){e.log.debug("getGatekeeperRecordWithPayload record",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.COMPLETE,e.inputs.gatekeeperRecord.received=t}))})).catch((function(t){e.log.error("Error retrieving gatekeeper record",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.ERROR,e.inputs.gatekeeperRecord.error=t}))}))]}))}))},t=function(){return c(r,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.IN_PROGRESS})),[2,this.chainImplementation.findGatewayToken().then((function(t){e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.COMPLETE,t&&(e.inputs.gatewayToken.received=t)}))})).catch((function(t){e.abortController.signal.aborted||(e.log.error("Error retrieving gateway token",t),e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.ERROR,e.inputs.gatewayToken.error=t})))}))]}))}))},n=[t()],this.inputs.disableInitialGatekeeperLookup||n.push(e()),[4,Promise.allSettled(n)];case 1:return i.sent(),[2]}}))}))},e.prototype.initialise=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.log.debug("Initialising orchestrator"),this.abortController=new AbortController,this.remoteSignInstance=void 0,this.gatewayCoreStore.getState().functions.reset(),[4,Promise.allSettled([this.getOwnerDids(),this.lookupTokenState(),this.fetchGatekeeperNetworkData()])];case 1:return e.sent(),[2]}}))}))},e.prototype.reset=function(){this.log.debug("resetting orchestrator"),this.initialise()},e.prototype.onInternalStatusChange=function(e,n){var r,i;if(e!==t.GatewayStatus.ERROR){if(e!==t.GatewayStatus.ACTIVE)return e===t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION?this.issuance.restartDataCollection():e===t.GatewayStatus.USER_INFORMATION_VALIDATED?this.issuance.makeGatekeeperRequest({payer:this.payer}):[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX].includes(e)?this.issuance.makeGatekeeperRequest({payer:this.payer,isFreshTransactionRequest:!0}):[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND].includes(e)?this.issuance.sendTransaction():e===t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN?this.issuance.expectOnChainToken():e===t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED?this.refresh.makeGatekeeperRequest({payer:this.payer}):[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX].includes(e)?this.refresh.makeGatekeeperRequest({payer:this.payer,isFreshTransactionRequest:!0}):e===t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND?this.refresh.sendTransaction():e===t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN?this.refresh.expectOnChainToken():e===t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW?this.partnerReview.pollForReviewFinished():[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH].includes(e)?this.reset():void 0;n!==t.GatewayStatus.ACTIVE&&(null===(r=this._refresh)||void 0===r||r.onActiveTokenFound(),this._refresh||null===(i=this._issuance)||void 0===i||i.onActiveTokenFound())}else{var o=this.gatewayCoreStore.getState();Le(o)&&this.gatewayCoreStore.setState((function(e){e.internal.errors||(e.internal.errors={}),e.internal.errors.expectedTokenGatekeeperRecord=new K("Token has no gatekeeper record",H.EXPECTED_GATEKEEPER_RECORD)}))}},e.prototype.orchestrate=function(){var e=this;this.log.debug("running orchestrate()"),this.gatewayCoreStore.subscribe((function(e){return e.internal.status}),(function(t,n){return e.onInternalStatusChange(t,n)})),this.gatewayCoreStore.subscribe((function(e){var t;return null===(t=e.inputs.gatewayToken.received)||void 0===t?void 0:t.expiryTime}),(function(t,n){t&&n&&t>n&&e.gatewayCoreStore.setState((function(e){var t;void 0!==(null===(t=e.inputs.dynamicParameters)||void 0===t?void 0:t.forceRequireRefresh)&&(e.inputs.dynamicParameters.forceRequireRefresh=!1)}))})),this.gatewayCoreStore.subscribe((function(e){return e.inputs.civicPass.received}),(function(t){return e.gatewayCoreStore.setState((function(e){var n=ke(e,null===t||void 0===t?void 0:t.action);e.internal.userInteraction.status=n}))})),this.listenerManager.registerCivicPassListener((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.civicPass.status=ce.COMPLETE,e.inputs.civicPass.received=t}))})),this.listenerManager.registerCivicSignListener((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.civicSign.status=ce.RECEIVED,e.inputs.civicSign.received=t}));var n=e.gatewayCoreStore.getState().internal.ownerDids;ve(t,e.getRemoteSignInstance(),{chainImplementation:e.chainImplementation,wallet:e.wallet,ownerDids:n}).then((function(t){t||e.log.warn("No result from remote sign event"),e.gatewayCoreStore.setState((function(e){e.inputs.civicSign.received=null,e.inputs.civicSign.sent=t,e.inputs.civicSign.error=null,e.inputs.civicSign.status=ce.RESPONDED}))})).catch((function(t){e.gatewayCoreStore.setState((function(e){var n=t.errorCode?t:new K("handleRemoteSignEvent failed",H.POWO_ERROR);e.inputs.civicSign.error=n,e.inputs.civicSign.status=ce.ERROR}))}))})),this.listenerManager.registerOnChainListeners((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.received=t}))}))},e.prototype.abort=function(){var e,t,n;this.log.info("Aborting orchestration"),this.chainImplementation.onDestroy(),null===(e=this._issuance)||void 0===e||e.abort(),null===(t=this._refresh)||void 0===t||t.abort(),null===(n=this._partnerReview)||void 0===n||n.abort(),this.abortController.abort(),this.gatekeeperClient.abort(),this.listenerManager.unregisterAllListeners()},e}();const Fe=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,o);return o},Be=e=>e?Fe(e):Fe;var ze=Symbol.for("immer-nothing"),We=Symbol.for("immer-draftable"),He=Symbol.for("immer-state");function Ke(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Ve=Object.getPrototypeOf;function qe(e){return!!e&&!!e[He]}function Ye(e){var t;return!!e&&(Ze(e)||Array.isArray(e)||!!e[We]||!(null===(t=e.constructor)||void 0===t||!t[We])||nt(e)||rt(e))}var Qe=Object.prototype.constructor.toString();function Ze(e){if(!e||"object"!==typeof e)return!1;const t=Ve(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qe}function Xe(e,t){0===Je(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Je(e){const t=e[He];return t?t.type_:Array.isArray(e)?1:nt(e)?2:rt(e)?3:0}function $e(e,t){return 2===Je(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function et(e,t,n){const r=Je(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function tt(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function nt(e){return e instanceof Map}function rt(e){return e instanceof Set}function it(e){return e.copy_||e.base_}function ot(e,t){if(nt(e))return new Map(e);if(rt(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Ze(e)){if(!Ve(e)){const t=Object.create(null);return Object.assign(t,e)}return i({},e)}const n=Object.getOwnPropertyDescriptors(e);delete n[He];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],o=n[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(Ve(e),n)}function at(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ut(e)||qe(e)||!Ye(e)||(Je(e)>1&&(e.set=e.add=e.clear=e.delete=st),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return at(n,!0)}))),e}function st(){Ke(2)}function ut(e){return Object.isFrozen(e)}var ct,lt={};function dt(e){const t=lt[e];return t||Ke(0,e),t}function ft(){return ct}function ht(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pt(e,t){t&&(dt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yt(e){gt(e),e.drafts_.forEach(Et),e.drafts_=null}function gt(e){e===ct&&(ct=e.parent_)}function vt(e){return ct=ht(ct,e)}function Et(e){const t=e[He];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function mt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[He].modified_&&(yt(t),Ke(4)),Ye(e)&&(e=wt(t,e),t.parent_||bt(t,e)),t.patches_&&dt("Patches").generateReplacementPatches_(n[He].base_,e,t.patches_,t.inversePatches_)):e=wt(t,n,[]),yt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ze?e:void 0}function wt(e,t,n){if(ut(t))return t;const r=t[He];if(!r)return Xe(t,((i,o)=>St(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return bt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),Xe(i,((i,a)=>St(e,r,t,i,a,n,o))),bt(e,t,!1),n&&e.patches_&&dt("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function St(e,t,n,r,i,o,a){if(qe(i)){const a=wt(e,i,o&&t&&3!==t.type_&&!$e(t.assigned_,r)?o.concat(r):void 0);if(et(n,r,a),!qe(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Ye(i)&&!ut(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wt(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||bt(e,i)}}function bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&at(t,n)}function _t(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ft(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Tt;n&&(i=[r],o=It);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var Tt={get(e,t){if(t===He)return e;const n=it(e);if(!$e(n,t))return Nt(e,n,t);const r=n[t];return e.finalized_||!Ye(r)?r:r===Rt(e.base_,t)?(kt(e),e.copy_[t]=xt(r,e)):r},has:(e,t)=>t in it(e),ownKeys:e=>Reflect.ownKeys(it(e)),set(e,t,n){const r=At(it(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Rt(it(e),t),i=null===r||void 0===r?void 0:r[He];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tt(n,r)&&(void 0!==n||$e(e.base_,t)))return!0;kt(e),Ot(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Rt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,kt(e),Ot(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=it(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ke(11)},getPrototypeOf:e=>Ve(e.base_),setPrototypeOf(){Ke(12)}},It={};function Rt(e,t){const n=e[He];return(n?it(n):e)[t]}function Nt(e,t,n){var r;const i=At(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}function At(e,t){if(!(t in e))return;let n=Ve(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ve(n)}}function Ot(e){e.modified_||(e.modified_=!0,e.parent_&&Ot(e.parent_))}function kt(e){e.copy_||(e.copy_=ot(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Xe(Tt,((e,t)=>{It[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),It.deleteProperty=function(e,t){return It.set.call(this,e,t,void 0)},It.set=function(e,t,n){return Tt.set.call(this,e[0],t,n,e[0])};var Ct=class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&Ke(6),void 0!==n&&"function"!==typeof n&&Ke(7),Ye(e)){const i=vt(this),o=xt(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?yt(i):gt(i)}return pt(i,n),mt(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===ze&&(r=void 0),this.autoFreeze_&&at(r,!0),n){const t=[],i=[];dt("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Ke(1,e)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ye(e)||Ke(8),qe(e)&&(e=Mt(e));const t=vt(this),n=xt(e,void 0);return n[He].isManual_=!0,gt(t),n}finishDraft(e,t){const n=e&&e[He];n&&n.isManual_||Ke(9);const{scope_:r}=n;return pt(r,t),mt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=dt("Patches").applyPatches_;return qe(e)?r(e,t):this.produce(e,(e=>r(e,t)))}};function xt(e,t){const n=nt(e)?dt("MapSet").proxyMap_(e,t):rt(e)?dt("MapSet").proxySet_(e,t):_t(e,t);return(t?t.scope_:ft()).drafts_.push(n),n}function Mt(e){return qe(e)||Ke(10,e),Pt(e)}function Pt(e){if(!Ye(e)||ut(e))return e;const t=e[He];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ot(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ot(e,!0);return Xe(n,((e,t)=>{et(n,e,Pt(t))})),t&&(t.finalized_=!1),n}var Lt=new Ct,Dt=Lt.produce;Lt.produceWithPatches.bind(Lt),Lt.setAutoFreeze.bind(Lt),Lt.setUseStrictShallowCopy.bind(Lt),Lt.applyPatches.bind(Lt),Lt.createDraft.bind(Lt),Lt.finishDraft.bind(Lt);const Ut=e=>(t,n,r)=>(r.setState=function(e,n){const r="function"===typeof e?Dt(e):e;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return t(r,n,...o)},e(r.setState,n,r)),jt=Ut,Gt=new Map,Ft=e=>{const t=Gt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((e=>{let[t,n]=e;return[t,n.getState()]}))):{}},Bt=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=Gt.get(n.name);if(r)return i({type:"tracked",store:e},r);const o={connection:t.connect(n),stores:{}};return Gt.set(n.name,o),i({type:"tracked",store:e},o)},zt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,s,u)=>{const{enabled:c,anonymousActionType:l,store:d}=t,f=r(t,o);let h;try{h=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(w){}if(!h)return c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,s,u);const p=Bt(d,h,f),{connection:y}=p,g=r(p,a);let v=!0;u.setState=(e,t,r)=>{const o=n(e,t);if(!v)return o;const a=void 0===r?{type:l||"anonymous"}:"string"===typeof r?{type:r}:r;return void 0===d?(null==y||y.send(a,s()),o):(null==y||y.send(i(i({},a),{},{type:"".concat(d,"/").concat(a.type)}),i(i({},Ft(f.name)),{},{[d]:u.getState()})),o)};const E=function(){const e=v;v=!1,n(...arguments),v=e},m=e(u.setState,s,u);if("untracked"===g.type?null==y||y.init(m):(g.stores[g.store]=u,null==y||y.init(Object.fromEntries(Object.entries(g.stores).map((e=>{let[t,n]=e;return[t,t===g.store?m:n.getState()]}))))),u.dispatchFromDevtools&&"function"===typeof u.dispatch){let e=!1;const t=u.dispatch;u.dispatch=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];"__setState"!==r[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return y.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Ht(e.payload,(e=>{if("__setState"!==e.type)u.dispatchFromDevtools&&"function"===typeof u.dispatch&&u.dispatch(e);else{if(void 0===d)return void E(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[d];if(void 0===t||null===t)return;JSON.stringify(u.getState())!==JSON.stringify(t)&&E(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return E(m),void 0===d?null==y?void 0:y.init(u.getState()):null==y?void 0:y.init(Ft(f.name));case"COMMIT":return void 0===d?void(null==y||y.init(u.getState())):null==y?void 0:y.init(Ft(f.name));case"ROLLBACK":return Ht(e.state,(e=>{if(void 0===d)return E(e),void(null==y||y.init(u.getState()));E(e[d]),null==y||y.init(Ft(f.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ht(e.state,(e=>{void 0!==d?JSON.stringify(u.getState())!==JSON.stringify(e[d])&&E(e[d]):E(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return E(void 0===d?r:r[d]),void(null==y||y.send(null,n))}case"PAUSE_RECORDING":return v=!v}return}})),m}},Wt=zt,Ht=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},Kt=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(e,t,n)=>{let o=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());o=n=>{const r=e(n);if(!i(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return i(o)},e(t,n,r)};function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}var qt="$$_computed_";function Yt(e){return function(t,n,r){var i,o=function(e,n){t((function(t){var n,r="object"===typeof e?e:e(t);return Vt({},t,r,null==(n=t[qt])?void 0:n.call(t,r))}),n)};r.setState=o;var a=e(o,n,r),s=null==(i=a[qt])?void 0:i.call(a,a);return Object.assign({},a,s)}}function Qt(e,t){var n;return(n={})[qt]=t,n}var Zt,Xt,Jt=function(e){return Yt(e)},$t=((Zt={})[t.GatewayStatus.IN_REVIEW]=re.TOKEN_IN_REVIEW,Zt[t.GatewayStatus.ERROR]=re.ERROR,Zt[t.GatewayStatus.ACTIVE]=re.TOKEN_ACTIVE,Zt[t.GatewayStatus.REVOKED]=re.TOKEN_REVOKED,Zt[t.GatewayStatus.FROZEN]=re.TOKEN_FROZEN,Zt[t.GatewayStatus.REJECTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.LOCATION_NOT_SUPPORTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.VPN_NOT_SUPPORTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.REFRESH_TOKEN_REQUIRED]=re.REFRESH,Zt[t.GatewayStatus.CHECKING]=re.STATUS,Zt[t.GatewayStatus.UNKNOWN]=re.ISSUANCE,Zt[t.GatewayStatus.NOT_REQUESTED]=re.ISSUANCE,Zt[t.GatewayStatus.COLLECTING_USER_INFORMATION]=re.ISSUANCE,Zt[t.GatewayStatus.VALIDATING_USER_INFORMATION]=re.ISSUANCE,Zt[t.GatewayStatus.USER_INFORMATION_VALIDATED]=re.ISSUANCE,Zt[t.GatewayStatus.USER_INFORMATION_REJECTED]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.USER_VALIDATION_FAILED]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=re.TOKEN_IN_REVIEW,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW]=re.TOKEN_IN_PARTNER_REVIEW,Zt[t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW]=re.TOKEN_REFRESH_IN_REVIEW,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED]=re.REFRESH,Zt[t.ExtendedGatewayStatus.RESTART]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.REFRESH_IN_REVIEW]=re.REFRESH,Zt[t.ExtendedGatewayStatus.RESTART_REFRESH]=re.REFRESH,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=re.TOKEN_REFRESH_IN_REVIEW,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX]=re.START_PRE_APPROVED_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX]=re.START_PRE_APPROVED_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=re.TOKEN_IN_REVIEW,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=re.TOKEN_REFRESH_IN_REVIEW,Zt),en=function(e){switch(e){case t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION:case t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR:case t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:return t.GatewayStatus.ERROR;case t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW:case t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.RESTART:return t.GatewayStatus.NOT_REQUESTED;case t.ExtendedGatewayStatus.RESTART_REFRESH:return t.GatewayStatus.REFRESH_TOKEN_REQUIRED;case t.ExtendedGatewayStatus.USER_VALIDATION_FAILED:return t.GatewayStatus.USER_INFORMATION_REJECTED;case t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR:return t.GatewayStatus.ERROR;case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION:return t.GatewayStatus.NOT_REQUESTED;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED:return t.GatewayStatus.USER_INFORMATION_VALIDATED;case t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED:case t.ExtendedGatewayStatus.REFRESH_IN_REVIEW:case t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:case t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN:case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:case t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX:return t.GatewayStatus.USER_INFORMATION_VALIDATED;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:return t.GatewayStatus.IN_REVIEW;default:return e}},tn="GWC",nn=function(e,n){var r,i,o,a,s,u,c,l,d;return(null===(r=e.inputs.gatewayToken)||void 0===r?void 0:r.received)?_e({gatewayToken:null===(i=e.inputs.gatewayToken)||void 0===i?void 0:i.received,tokenExpirationMarginSeconds:0,forceRequireRefresh:null===(a=null===(o=e.inputs)||void 0===o?void 0:o.dynamicParameters)||void 0===a?void 0:a.forceRequireRefresh})||(null===(s=e.internal.status)||void 0===s?void 0:s.toLowerCase().includes("refresh"))||n.toLowerCase().includes("refresh")||(null===(c=null===(u=e.output)||void 0===u?void 0:u.flowParameters)||void 0===c?void 0:c.flowId.toLowerCase().includes(t.FlowType.REFRESH.toLowerCase()))?t.FlowType.REFRESH:(null===(d=null===(l=e.output)||void 0===l?void 0:l.flowParameters)||void 0===d?void 0:d.flowId.toLowerCase().includes(t.FlowType.ISSUANCE.toLowerCase()))?t.FlowType.ISSUANCE:t.FlowType.STATUS:[t.GatewayStatus.CHECKING,t.GatewayStatus.UNKNOWN].includes(n)?t.FlowType.STATUS:t.FlowType.ISSUANCE},rn=function(e,t){var n,r,i,o=null===(r=null===(n=e.output)||void 0===n?void 0:n.flowParameters)||void 0===r?void 0:r.flowId,a=nn(e,t),s="".concat(a,"_");return o&&""!==o&&o.includes(s)?o:"".concat((null===(i=e.inputs.parameters)||void 0===i?void 0:i.flowIdPrefix)||tn,"_").concat(s).concat(ue())},on=[t.GatewayStatus.REFRESH_TOKEN_REQUIRED,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.ERROR],an=[t.GatewayStatus.ACTIVE,t.GatewayStatus.REFRESH_TOKEN_REQUIRED,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.ERROR],sn=function(e,n){var r,i,o,a,s,u,c,l,d,f,h,p,y,g,v;if(null===(r=e.internal)||void 0===r?void 0:r.userInteraction){var E=e.internal.status;return E===t.GatewayStatus.CHECKING&&on.includes(n)||E!==t.GatewayStatus.CHECKING&&an.includes(n)&&!an.includes(E)||E===t.GatewayStatus.ACTIVE&&(null===(o=null===(i=e.inputs)||void 0===i?void 0:i.dynamicParameters)||void 0===o?void 0:o.forceRequireRefresh)?"hidden"===(null===(u=null===(s=null===(a=e.inputs.gatekeeperNetworkData)||void 0===a?void 0:a.received)||void 0===s?void 0:s.client)||void 0===u?void 0:u.tokenActiveDisplay)?t.FlowStatus.FINISHED:t.FlowStatus.RESULT:(null===(c=e.internal)||void 0===c?void 0:c.userInteraction.status)===de.FINISHED||E===t.GatewayStatus.ACTIVE&&"hidden"===(null===(f=null===(d=null===(l=e.inputs.gatekeeperNetworkData)||void 0===l?void 0:l.received)||void 0===d?void 0:d.client)||void 0===f?void 0:f.tokenActiveDisplay)&&null===(null===(p=null===(h=e.internal)||void 0===h?void 0:h.userInteraction)||void 0===p?void 0:p.status)||n===t.ExtendedGatewayStatus.USER_VALIDATION_FAILED?t.FlowStatus.FINISHED:(null===(y=e.internal)||void 0===y?void 0:y.userInteraction.status)===de.STARTED?t.FlowStatus.IN_PROGRESS:null===(v=null===(g=e.output)||void 0===g?void 0:g.flowState)||void 0===v?void 0:v.status}},un=function(e){var n,r,i,o,a,s,u;if((null===(n=e.inputs.civicPass.received)||void 0===n?void 0:n.event)===ne.FAILURE&&(null===(r=e.inputs.civicPass.received)||void 0===r?void 0:r.action)===re.CHAIN_ERROR){var c=!!(null===(i=e.inputs.gatewayToken)||void 0===i?void 0:i.received);return(null===(o=e.internal.chainTransaction)||void 0===o?void 0:o.error)&&(e.internal.chainTransaction.attempts||0)<=((null===(s=null===(a=e.inputs.parameters)||void 0===a?void 0:a.options)||void 0===s?void 0:s.clientSendsMaxRetries)||we)?c?Pe(e)?t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:c?Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX}return null===(u=e.internal)||void 0===u?void 0:u.status},cn=function(e){var n,r,i,o=!!e.inputs.gatewayToken.received;return(null===(n=e.inputs.civicPass.received)||void 0===n?void 0:n.event)===ne.FAILURE&&(null===(r=e.inputs.civicPass.received)||void 0===r?void 0:r.action)===re.ERROR?o?t.ExtendedGatewayStatus.RESTART_REFRESH:t.ExtendedGatewayStatus.RESTART:null===(i=e.internal)||void 0===i?void 0:i.status},ln=function(e){var n,r;return(null===(r=null===(n=e.inputs.parameters)||void 0===n?void 0:n.options)||void 0===r?void 0:r.disableAutoRestartOnValidationFailure)?t.ExtendedGatewayStatus.USER_VALIDATION_FAILED:t.ExtendedGatewayStatus.RESTART},dn=function(e){var t,n,r;return(null===(n=null===(t=null===e||void 0===e?void 0:e.received)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.pending)||(null===(r=null===e||void 0===e?void 0:e.received)||void 0===r?void 0:r.pending)},fn=function(e){var n,r=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===r||void 0===r?void 0:r.action)===re.START_PRE_APPROVED_TRANSACTION&&(null===r||void 0===r?void 0:r.event)===ne.SUCCESS&&void 0!==(null===r||void 0===r?void 0:r.payload))return Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX},hn=function(e){var t;return(null===e||void 0===e?void 0:e.action)===re.STATUS&&(null===e||void 0===e?void 0:e.event)===ne.SUCCESS&&(null===(t=e.payload)||void 0===t?void 0:t.status)!==ie.NOT_FOUND||(null===e||void 0===e?void 0:e.action)===re.ISSUANCE&&(null===e||void 0===e?void 0:e.event)===ne.IN_PROGRESS},pn=function(e){return!!dn(e)},yn=function(e){var t,n;return!!(null===(n=null===(t=null===e||void 0===e?void 0:e.received)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.preApprovedTxAvailable)},gn=function(e){var n,r;if((null===(r=null===(n=e.internal.errors)||void 0===n?void 0:n.expectedOnChainToken)||void 0===r?void 0:r.errorCode)===H.CHAIN_CONFIRMATION_TIMEOUT_ERROR)return t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR},vn=function(e){var n,r,i,o,a,s,u,c,l=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,d=e.inputs.gatekeeperRecord;return(null===d||void 0===d?void 0:d.status)===ce.IN_PROGRESS?e.internal.status:pn(d)?t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW:(null===(r=e.inputs.parameters)||void 0===r?void 0:r.payer)?(null===d||void 0===d?void 0:d.status)!==ce.COMPLETE||(null===l||void 0===l?void 0:l.action)===re.ISSUANCE||(null===(i=d.received)||void 0===i?void 0:i.transaction)?(null===(a=null===(o=e.internal)||void 0===o?void 0:o.chainTransaction)||void 0===a?void 0:a.sentTxId)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN:(null===(u=null===(s=e.internal)||void 0===s?void 0:s.chainTransaction)||void 0===u?void 0:u.error)?t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:(null===(c=d.received)||void 0===c?void 0:c.transaction)?Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:void 0:t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN},En=function(e){var n,r,i,o=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,a=e.inputs.gatekeeperRecord;if(o&&((null===(r=null===a||void 0===a?void 0:a.received)||void 0===r?void 0:r.state)===E.REQUESTED||(null===a||void 0===a?void 0:a.status)===ce.IN_PROGRESS))return(null===(i=e.inputs.parameters)||void 0===i?void 0:i.payer)&&Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED:t.GatewayStatus.IN_REVIEW},mn=function(e){var n,r,i=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===i||void 0===i?void 0:i.event)===ne.FAILURE)return t.ExtendedGatewayStatus.USER_VALIDATION_FAILED;var o=Me[null===(r=null===i||void 0===i?void 0:i.payload)||void 0===r?void 0:r.status];return(null===i||void 0===i?void 0:i.action)===re.STATUS&&(null===i||void 0===i?void 0:i.event)===ne.SUCCESS&&o?o===t.GatewayStatus.USER_INFORMATION_VALIDATED?i.payload?t.GatewayStatus.USER_INFORMATION_VALIDATED:t.GatewayStatus.NOT_REQUESTED:o:(null===i||void 0===i?void 0:i.action)===re.ISSUANCE&&(null===i||void 0===i?void 0:i.event)===ne.SUCCESS?t.GatewayStatus.USER_INFORMATION_VALIDATED:hn(i)?o||t.GatewayStatus.COLLECTING_USER_INFORMATION:void 0},wn=function(e){var t;return De(e)||mn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Sn=function(e){var t;return De(e)||En(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},bn=function(e){var t;return De(e)||gn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},_n=function(e){var t;return De(e)||je(e)||vn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Tn=function(e){var n,r,i,o,a,s,u=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,c=e.inputs.gatekeeperRecord;if((null===u||void 0===u?void 0:u.event)===ne.FAILURE)return t.ExtendedGatewayStatus.USER_VALIDATION_FAILED;if((null===u||void 0===u?void 0:u.action)===re.ISSUANCE&&(null===u||void 0===u?void 0:u.event)===ne.SUCCESS)return t.GatewayStatus.USER_INFORMATION_VALIDATED;if(!(null===c||void 0===c?void 0:c.received)||(null===(r=null===c||void 0===c?void 0:c.received)||void 0===r?void 0:r.state)===E.NOT_REQUESTED){if(hn(u)){var l=Me[null===(i=null===u||void 0===u?void 0:u.payload)||void 0===i?void 0:i.status];return l===t.GatewayStatus.USER_INFORMATION_VALIDATED?t.GatewayStatus.NOT_REQUESTED:l||t.GatewayStatus.COLLECTING_USER_INFORMATION}return t.GatewayStatus.NOT_REQUESTED}if((null===(o=null===c||void 0===c?void 0:c.received)||void 0===o?void 0:o.state)===E.REQUESTED){if(yn(c))return Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX;if(pn(c))return t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW;if(!(null===(a=e.inputs.parameters)||void 0===a?void 0:a.payer))return t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN;if((null===c||void 0===c?void 0:c.status)===ce.COMPLETE&&(null===u||void 0===u?void 0:u.action)!==re.ISSUANCE&&!(null===(s=c.received)||void 0===s?void 0:s.transaction))return t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION}},In=function(e){var t;return De(e)||Tn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Rn=function(e){var t;return De(e)||fn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Nn=function(e){var t,n,r;return(null===(t=e.inputs.civicPass.received)||void 0===t?void 0:t.action)===re.STATUS&&(!e.inputs.gatewayToken.status||e.inputs.gatewayToken.status===ce.IN_PROGRESS||!(null===(n=e.inputs.parameters)||void 0===n?void 0:n.disableInitialGatekeeperLookup)&&(!e.inputs.gatekeeperRecord.status||(null===(r=e.inputs.gatekeeperRecord)||void 0===r?void 0:r.status)===ce.IN_PROGRESS))},An=function(e){if(!e.inputs.civicPass.status||Nn(e)){if(e.inputs.gatekeeperRecord.status===ce.ERROR||e.inputs.gatewayToken.status===ce.ERROR)return t.GatewayStatus.ERROR;if(e.inputs.gatekeeperRecord.status===ce.IN_PROGRESS||e.inputs.gatewayToken.status===ce.IN_PROGRESS)return t.GatewayStatus.CHECKING}},On=function(e){var t;return De(e)||An(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},kn=function(e){var t;return An(e)||je(e)||De(e)||In(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Cn=function(e){var n,r=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===r||void 0===r?void 0:r.action)===re.START_PRE_APPROVED_TRANSACTION&&(null===r||void 0===r?void 0:r.event)===ne.SUCCESS&&void 0!==(null===r||void 0===r?void 0:r.payload))return Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX},xn=function(e){var n,r,i,o,a,s,u=e.inputs.gatekeeperRecord;return(null===(n=e.inputs.parameters)||void 0===n?void 0:n.payer)?(null===(i=null===(r=e.internal)||void 0===r?void 0:r.chainTransaction)||void 0===i?void 0:i.sentTxId)?t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN:(null===(a=null===(o=e.internal)||void 0===o?void 0:o.chainTransaction)||void 0===a?void 0:a.error)?t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:(null===(s=u.received)||void 0===s?void 0:s.transaction)?Pe(e)?t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:void 0:t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN},Mn=function(e){var n,r,i=e.inputs.gatekeeperRecord;if((null===(n=null===i||void 0===i?void 0:i.received)||void 0===n?void 0:n.state)===E.REQUESTED||(null===i||void 0===i?void 0:i.status)===ce.IN_PROGRESS)return(null===(r=e.inputs.parameters)||void 0===r?void 0:r.payer)&&Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED:t.ExtendedGatewayStatus.REFRESH_IN_REVIEW},Pn=function(e){var n=De(e);return n&&![t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.REFRESH_TOKEN_REQUIRED].includes(n)?n:void 0},Ln=function(e){var t;return Pn(e)||Mn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Dn=function(e){var t;return Pn(e)||je(e)||xn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Un=function(e){var n,r=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;return yn(e.inputs.gatekeeperRecord)?Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:(null===r||void 0===r?void 0:r.action)===re.REFRESH&&(null===r||void 0===r?void 0:r.event)===ne.SUCCESS?t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED:void 0},jn=function(e){var t;return Pn(e)||je(e)||Un(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Gn=function(e){var n,r;if((null===(r=null===(n=e.internal.errors)||void 0===n?void 0:n.expectedOnChainToken)||void 0===r?void 0:r.errorCode)===H.CHAIN_CONFIRMATION_TIMEOUT_ERROR)return t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR},Fn=function(e){var t;return Pn(e)||je(e)||Gn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Bn=function(e){var t;return Pn(e)||Cn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},zn=k("gatewayStatus").debug,Wn=k("gatewayStatus").error,Hn=[t.GatewayStatus.ACTIVE,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.REFRESH_TOKEN_REQUIRED],Kn=[t.GatewayStatus.COLLECTING_USER_INFORMATION,t.GatewayStatus.VALIDATING_USER_INFORMATION,t.GatewayStatus.USER_INFORMATION_REJECTED,t.GatewayStatus.USER_INFORMATION_VALIDATED],Vn=[t.GatewayStatus.REJECTED,t.GatewayStatus.ERROR,t.GatewayStatus.LOCATION_NOT_SUPPORTED,t.GatewayStatus.VPN_NOT_SUPPORTED];function qn(e,t){return{nextState:e,compute:t}}var Yn=((Xt={})[t.GatewayStatus.UNKNOWN]=qn(d(d([],Hn,!0),[t.GatewayStatus.CHECKING],!1),On),Xt[t.GatewayStatus.CHECKING]=qn(d(d(d(d([],Hn,!0),Vn,!0),Kn,!0),[t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),kn),Xt[t.GatewayStatus.NOT_REQUESTED]=qn(d(d(d([],Hn,!0),Kn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION],!1),In),Xt[t.GatewayStatus.COLLECTING_USER_INFORMATION]=qn(d(d(d([],Hn,!0),Kn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.USER_VALIDATION_FAILED],!1),In),Xt[t.GatewayStatus.USER_INFORMATION_VALIDATED]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED,t.GatewayStatus.IN_REVIEW],!1),Sn),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW],!1),_n),Xt[t.GatewayStatus.IN_REVIEW]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW],!1),_n),Xt[t.GatewayStatus.REJECTED]=qn([],(function(){return t.GatewayStatus.REJECTED})),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),_n),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),_n),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR],!1),bn),Xt[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION]=qn(d(d(d([],Hn,!0),Kn,!0),[t.GatewayStatus.USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED,t.GatewayStatus.NOT_REQUESTED],!1),wn),Xt[t.GatewayStatus.REVOKED]=qn([],Ue),Xt[t.GatewayStatus.FROZEN]=qn(d([],Hn,!0),Ue),Xt[t.GatewayStatus.ACTIVE]=qn(d([],Hn,!0),Ue),Xt[t.GatewayStatus.ERROR]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH],!1),cn),Xt[t.GatewayStatus.LOCATION_NOT_SUPPORTED]=qn([],(function(){return t.GatewayStatus.LOCATION_NOT_SUPPORTED})),Xt[t.GatewayStatus.VPN_NOT_SUPPORTED]=qn([],(function(){return t.GatewayStatus.VPN_NOT_SUPPORTED})),Xt[t.ExtendedGatewayStatus.USER_VALIDATION_FAILED]=qn([t.ExtendedGatewayStatus.USER_VALIDATION_FAILED,t.ExtendedGatewayStatus.RESTART],ln),Xt[t.GatewayStatus.REFRESH_TOKEN_REQUIRED]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX],!1),jn),Xt[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED,t.ExtendedGatewayStatus.REFRESH_IN_REVIEW],!1),Ln),Xt[t.ExtendedGatewayStatus.REFRESH_IN_REVIEW]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Dn),Xt[t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR],!1),Fn),Xt[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR]=qn(d(d([],Hn,!0),[t.GatewayStatus.USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),un),Xt[t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND],!1),un),Xt[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN],!1),_n),Xt[t.ExtendedGatewayStatus.RESTART]=qn([t.ExtendedGatewayStatus.RESTART],(function(){return t.ExtendedGatewayStatus.RESTART})),Xt[t.ExtendedGatewayStatus.RESTART_REFRESH]=qn([t.ExtendedGatewayStatus.RESTART_REFRESH],(function(){return t.ExtendedGatewayStatus.RESTART_REFRESH})),Xt[t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR]=qn([t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],un),Xt[t.GatewayStatus.VALIDATING_USER_INFORMATION]=qn(d(d(d([],Hn,!0),Kn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.GatewayStatus.NOT_REQUESTED],!1),In),Xt[t.GatewayStatus.USER_INFORMATION_REJECTED]=qn(d(d(d([],Hn,!0),Kn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.GatewayStatus.NOT_REQUESTED],!1),In),Xt[t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION]=qn([],(function(){return t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION})),Xt[t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION]=qn([],(function(){return t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION})),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),Rn),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),_n),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),_n),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX]=qn(d(d([],Hn,!0),[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),Bn),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=qn(d(d(d([],Hn,!0),Vn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Dn),Xt),Qn=function(e,t){var n;return null===(n=Yn[e])||void 0===n?void 0:n.nextState.includes(t)},Zn=function(e){var t,n,r=null===(t=e.internal)||void 0===t?void 0:t.status,i=null===(n=Yn[r])||void 0===n?void 0:n.compute;if(!i)throw new Error("No transition function defined for ".concat(r," status"));var o=i(e);if(o===r)return r;if(!Qn(r,o))throw Wn("Invalid transition, throwing an error...",{currentStatus:r,computedStatus:o}),new Error("Invalid transition, returning currentStatus currentStatus: ".concat(r," computedStatus: ").concat(o));return zn("Transitioning to new status",{currentStatus:r,computedStatus:o}),o},Xn=function(e){return Zn(e)},Jn=function(e){return null===e||void 0===e||0===Object.keys(e).length},$n="@civic/gateway-client-core:1.1.1-beta.1",er=function(e,n){var r,i,o,a,s,c,l,d,f,h,p,y,g,v,E,m,w,S,b,_,T,I,R,N,A,O,k,C,x,M;if(!((null===(r=e.inputs.parameters)||void 0===r?void 0:r.wallet)&&(null===(i=e.internal.chainDetails)||void 0===i?void 0:i.chainType)&&(null===(o=e.internal)||void 0===o?void 0:o.instanceId))||[t.GatewayStatus.UNKNOWN,t.GatewayStatus.CHECKING].includes(n))return null;var P=(null===(s=null===(a=e.internal.errors)||void 0===a?void 0:a.expectedTokenGatekeeperRecord)||void 0===s?void 0:s.errorCode)||(null===(l=null===(c=e.internal.chainTransaction)||void 0===c?void 0:c.error)||void 0===l?void 0:l.errorCode)||(null===(f=null===(d=e.inputs.gatekeeperRecord)||void 0===d?void 0:d.received)||void 0===f?void 0:f.errorCode)||(null===(y=null===(p=null===(h=e.inputs.gatekeeperRecord)||void 0===h?void 0:h.received)||void 0===p?void 0:p.payload)||void 0===y?void 0:y.errorCode)||(null===(v=null===(g=e.inputs.civicSign)||void 0===g?void 0:g.error)||void 0===v?void 0:v.errorCode),L=$t[n],D=rn(e,n),U=Jn(null===(m=null===(E=e.inputs.gatekeeperRecord)||void 0===E?void 0:E.received)||void 0===m?void 0:m.payload)?void 0:JSON.stringify(null===(S=null===(w=e.inputs.gatekeeperRecord)||void 0===w?void 0:w.received)||void 0===S?void 0:S.payload),j=!e.inputs.parameters.gatekeeperSendsTransaction&&Pe(e);return u(u({action:L,flowId:D,ownerSigns:j,errorCode:P,flowType:nn(e,n)},U?{payload:U}:{}),{redirectUrl:null===(b=e.inputs.parameters)||void 0===b?void 0:b.redirectUrl,networkAddress:null===(_=e.inputs.parameters)||void 0===_?void 0:_.gatekeeperNetwork,wallet:e.inputs.parameters.wallet.address,chain:null===(T=e.internal.chainDetails)||void 0===T?void 0:T.chainType,chainNetwork:null===(I=e.internal.chainDetails)||void 0===I?void 0:I.chainNetwork,did:null===(R=e.internal.ownerDids)||void 0===R?void 0:R[0],gatekeeperSendsTransaction:e.inputs.parameters.gatekeeperSendsTransaction,partnerAppId:e.inputs.parameters.partnerAppId,referrer:e.inputs.parameters.referrer,domain:e.inputs.parameters.domain,instanceId:e.internal.instanceId,hideWalletPrompts:e.inputs.parameters.payer&&e.inputs.parameters.payer!==e.inputs.parameters.wallet.address?null===(N=e.inputs.parameters.options)||void 0===N?void 0:N.hideWalletPrompts:void 0,signedTx:null===(O=null===(A=e.internal)||void 0===A?void 0:A.chainTransaction)||void 0===O?void 0:O.sentTxId,civicClient:(null===(C=null===(k=e.inputs)||void 0===k?void 0:k.parameters)||void 0===C?void 0:C.xCivicClientHeader)||$n,stage:null===(M=null===(x=e.inputs)||void 0===x?void 0:x.parameters)||void 0===M?void 0:M.stage})},tr={local:"http://localhost:3004",test:"http://localhost:3004",dev:"https://passv2-dev.civic.com",preprod:"https://passv2-preprod.civic.com",prod:"https://passv2.civic.com"},nr=function(e){var t=tr[e];if(!t)throw new Error("Invalid stage ".concat(e));return t},rr=function(e,t){var n,r;if(t&&(null===(r=null===(n=e.inputs)||void 0===n?void 0:n.parameters)||void 0===r?void 0:r.stage)){var i=new URL(nr(e.inputs.parameters.stage)),o=v(t||{}),a=new URLSearchParams(o);return"".concat(i.href,"?").concat(a.toString())}},ir=function(e,n,r){var i,o,a,s,c,l,d,f,h,p,y=null===(i=e.inputs.parameters)||void 0===i?void 0:i.options,g=!!(null===(a=null===(o=e.output)||void 0===o?void 0:o.ui)||void 0===a?void 0:a.isVisible);n===t.FlowStatus.FINISHED||(null===(c=null===(s=e.internal)||void 0===s?void 0:s.userInteraction)||void 0===c?void 0:c.status)===de.FINISHED?g=!1:(null===(d=null===(l=e.internal)||void 0===l?void 0:l.userInteraction)||void 0===d?void 0:d.status)!==de.STARTED&&n!==t.FlowStatus.IN_PROGRESS||(g=!0),n===t.FlowStatus.RESULT&&(null===y||void 0===y?void 0:y.autoShowModal)&&(g=!0);var v=rr(e,r),E=(null===(h=null===(f=e.output)||void 0===f?void 0:f.ui)||void 0===h?void 0:h.url)!==v;return u(u({},null===(p=e.output)||void 0===p?void 0:p.ui),{isLoading:E,url:v,isVisible:!!g})},or={status:t.GatewayStatus.UNKNOWN,userInteraction:{status:null},errors:{},ownerDids:[],chainDetails:void 0},ar={flowParameters:void 0,flowState:{status:void 0,userInteraction:{status:null,count:0}},gatewayStatus:t.GatewayStatus.UNKNOWN,gatewayToken:void 0,gatewayTokenTransaction:void 0,pendingRequests:void 0,ui:void 0},sr={civicSign:{status:null,received:null},civicPass:{status:null,received:null},gatewayToken:{status:null,received:null},gatekeeperRecord:{status:null,received:null},parameters:null,dynamicParameters:{forceRequireRefresh:!1},gatekeeperNetworkData:{status:null,received:null}},ur={inputs:sr,internal:or,output:ar},cr=function(e){var n,r,i,o,a,s,c=Xn(e),l=er(e,c)||void 0,d=sn(e,c),f=u(u({},null===(n=e.output)||void 0===n?void 0:n.ui),ir(e,d,l)),h=[t.FlowStatus.RESULT,t.FlowStatus.FINISHED].includes(d)&&"hidden"===(null===(o=null===(i=null===(r=e.inputs.gatekeeperNetworkData)||void 0===r?void 0:r.received)||void 0===i?void 0:i.client)||void 0===o?void 0:o.tokenActiveDisplay)?null:e.internal.userInteraction.status;return{internal:u(u({},e.internal),{status:c,userInteraction:u(u({},e.internal.userInteraction),{status:h})}),output:u(u({},e.output),{ui:f,flowParameters:l,flowState:{status:d,userInteraction:u(u({},e.internal.userInteraction),{status:h})},gatewayStatus:en(c),gatewayToken:e.inputs.gatewayToken.received||void 0,gatewayTokenTransaction:null===(s=null===(a=e.inputs.gatekeeperRecord)||void 0===a?void 0:a.received)||void 0===s?void 0:s.transaction,pendingRequests:dn(e.inputs.gatekeeperRecord)})}},lr=function(e){return function(t){return Kt(Jt(jt(Wt(t,e))))}},dr=function(e){return Be(lr(e)((function(e,t){return u(u(u({},ur),{functions:{reset:function(){return e(Dt((function(e){var t;e.inputs=u(u({},sr),{dynamicParameters:e.inputs.dynamicParameters,parameters:e.inputs.parameters}),e.internal=u(u({},or),{userInteraction:{status:e.internal.userInteraction.status},instanceId:e.internal.instanceId,ownerDids:[],chainDetails:e.internal.chainDetails}),e.output=u(u({},ar),{ui:null===(t=e.output)||void 0===t?void 0:t.ui})})))}}}),Qt(t,cr))})))},fr={isVisible:!1,isLoading:!1,url:void 0,isLoaded:!1},hr=function(){function e(e){this.gatewayCoreStore=e,this.log=k("UIManager")}return e.prototype.onShow=function(){this.log.debug("onShow"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},fr),e.output.ui.isVisible=!0,e.internal.userInteraction.status=de.STARTED}))},e.prototype.onHide=function(){this.log.debug("onHide"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},fr),e.output.ui.isVisible=!1,e.internal.userInteraction.status=de.FINISHED}))},e.prototype.onLoad=function(){this.log.debug("onLoad"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},fr),e.output.ui.isLoading=!1,e.output.ui.isLoaded=!0}))},e}(),pr={"@@functional/placeholder":!0};function yr(e){return e===pr}function gr(e){return function t(n){return 0===arguments.length||yr(n)?t:e.apply(this,arguments)}}function vr(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return yr(n)?t:gr((function(t){return e(n,t)}));default:return yr(n)&&yr(r)?t:yr(n)?gr((function(t){return e(t,r)})):yr(r)?gr((function(t){return e(n,t)})):e(n,r)}}}function Er(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function mr(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function wr(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}function Sr(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function br(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var _r="function"===typeof Object.is?Object.is:br,Tr=Object.prototype.toString,Ir=function(){return"[object Arguments]"===Tr.call(arguments)?function(e){return"[object Arguments]"===Tr.call(e)}:function(e){return Sr("callee",e)}}(),Rr=!{toString:null}.propertyIsEnumerable("toString"),Nr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ar=function(){return arguments.propertyIsEnumerable("length")}(),Or=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},kr="function"!==typeof Object.keys||Ar?gr((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=Ar&&Ir(e);for(t in e)!Sr(t,e)||i&&"length"===t||(r[r.length]=t);if(Rr)for(n=Nr.length-1;n>=0;)Sr(t=Nr[n],e)&&!Or(r,t)&&(r[r.length]=t),n-=1;return r})):gr((function(e){return Object(e)!==e?[]:Object.keys(e)})),Cr=gr((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function xr(e,t,n,r){var i=Er(e);function o(e,t){return Mr(e,t,n.slice(),r.slice())}return!mr((function(e,t){return!mr(o,t,e)}),Er(t),i)}function Mr(e,t,n,r){if(_r(e,t))return!0;var i=Cr(e);if(i!==Cr(t))return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===wr(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!_r(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!_r(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&xr(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&xr(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=kr(e);if(a.length!==kr(t).length)return!1;var s=n.concat([e]),u=r.concat([t]);for(o=a.length-1;o>=0;){var c=a[o];if(!Sr(c,t)||!Mr(t[c],e[c],s,u))return!1;o-=1}return!0}var Pr=vr((function(e,t){return Mr(e,t,[],[])}));function Lr(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}function Dr(e,t,n){if(n||(n=new jr),Ur(e))return e;var r=function(r){var i=n.get(e);if(i)return i;for(var o in n.set(e,r),e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t?Dr(e[o],!0,n):e[o]);return r};switch(Cr(e)){case"Object":return r(Object.create(Object.getPrototypeOf(e)));case"Array":return r(Array(e.length));case"Date":return new Date(e.valueOf());case"RegExp":return Lr(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}function Ur(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}var jr=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var n=this.hash(e),r=this.map[n];r||(this.map[n]=r=[]),r.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var n in e)t.push(Object.prototype.toString.call(e[n]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(var t in this.map)for(var n=this.map[t],r=0;r<n.length;r+=1)if((o=n[r])[0]===e)return o[1]}else{var i=this.hash(e);if(n=this.map[i])for(r=0;r<n.length;r+=1){var o;if((o=n[r])[0]===e)return o[1]}}},e}(),Gr=gr((function(e){return null!=e&&"function"===typeof e.clone?e.clone():Dr(e,!0)})),Fr=function(e){var t;return e?u(u({},e.parameters),null===(t=e.chainImplementation)||void 0===t?void 0:t.chainDetails):{}},Br=function(e,t){return!t||!Pr(Fr(t.inputs),Fr(e))},zr=function(e){var t;return!(!(null===(t=e.parameters.wallet)||void 0===t?void 0:t.address)||!e.chainImplementation)},Wr=function(e,t){var n,r,i,o,a,s,u,c;return"gcc_".concat(null===(r=null===(n=e.parameters.wallet)||void 0===n?void 0:n.address)||void 0===r?void 0:r.substring(0,4),"_").concat(null===(o=null===(i=e.parameters)||void 0===i?void 0:i.gatekeeperNetwork)||void 0===o?void 0:o.substring(0,4),"_").concat(null===(s=null===(a=e.chainImplementation)||void 0===a?void 0:a.chainDetails)||void 0===s?void 0:s.chainType,"_").concat(null===(c=null===(u=e.chainImplementation)||void 0===u?void 0:u.chainDetails)||void 0===c?void 0:c.chainNetwork,"_").concat(t.substring(0,4))},Hr=function(){function e(e){var t,n,r,i,o=this;this.inputs=e,this.instanceId=ue(),this.log=k("Core instance: ".concat(this.instanceId)),null===(n=null===(t=this.log)||void 0===t?void 0:t.setLogLevel)||void 0===n||n.call(t,(null===(i=null===(r=e.parameters)||void 0===r?void 0:r.options)||void 0===i?void 0:i.logLevel)||S),this.log.info("GatewayClientCore created",{inputs:e}),this.gatewayCoreStore=dr({name:Wr(e,this.instanceId),store:"gateway-client-core"}),this.log.info("GatewayClientCore gatewayCoreStore created",this.gatewayCoreStore),this.gatewayCoreStore.subscribe((function(e){return e.output}),(function(t){o.log.debug("GatewayClientCore output changed",t),e.onOutputChange(Gr(t))})),this.orchestratorInst=new Ge(this.gatewayCoreStore,e.messageEventInterface,this.instanceId,e.parameters,e.fetchConfig,e.postMessageTargetCallback,e.chainImplementation),this.gatewayCoreStore.setState((function(t){t.inputs.parameters=Gr(u(u({},e.parameters),{payer:fe(e.parameters)})),t.internal.chainDetails=Gr(e.chainImplementation.chainDetails),t.inputs.dynamicParameters=Gr(e.dynamicParameters),t.internal.instanceId=o.instanceId})),this.orchestratorInst.orchestrate(),this.orchestratorInst.initialise(),this.uiInst=new hr(this.gatewayCoreStore)}return e.getSingleInstance=function(t){var n,r,i=k("GatewayClientCore.getSingleInstance");return zr(t)?(Br(t,e.currentInstance)&&(i.debug("Inputs have changed, aborting previous and creating a new instance",t),null===(r=e.currentInstance)||void 0===r||r.abort(),e.currentInstance=new e(t)),e.currentInstance):(i.debug("Missing wallet address or chain implementation, aborting previous and setting to undefined",t),null===(n=e.currentInstance)||void 0===n||n.abort(),void(e.currentInstance=void 0))},e.prototype.updateDynamicParameters=function(e){this.gatewayCoreStore.setState((function(t){t.internal.userInteraction.status=null,t.inputs.dynamicParameters=Gr(e)}))},e.prototype.updateGatekeeperNetworkServiceData=function(e){this.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperNetworkData=Gr(e)}))},e.prototype.startOrResumeFlow=function(){this.gatewayCoreStore.setState((function(e){e.internal.userInteraction.status=de.STARTED}))},e.prototype.abort=function(){this.log.info("GatewayClientCore aborting"),this.orchestratorInst.abort()},Object.defineProperty(e.prototype,"ui",{get:function(){var e=this;return{onShow:function(){return e.uiInst.onShow()},onHide:function(){return e.uiInst.onHide()},onLoad:function(){return e.uiInst.onLoad()}}},enumerable:!1,configurable:!0}),e}(),Kr={local:null,test:null,dev:"https://dev.api.civic.com/analytics-dev/events",preprod:"https://dev.api.civic.com/analytics-preprod/events",prod:"https://api.civic.com/analytics/events"},Vr=function(e,t,n){return c(void 0,void 0,void 0,(function(){var r,i,o;return l(this,(function(a){switch(a.label){case 0:return(r=Kr[e])?(i=t.civicClient||$n,o=u(u({},t),{source:"passApi_".concat(e),civicClient:i}),n?(I.debug("Beacon API supported. Using it to send analytics event.",{event:t}),n(r,JSON.stringify(o)),I.debug("Analytics event sent.",{eventWithSource:o}),[3,3]):[3,1]):(I.warn("No analytics endpoint configured for stage ".concat(e,".")),[2]);case 1:return I.debug("Beacon API not supported. Falling back to fetch.",{eventWithSource:o}),[4,fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify(o)})];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},qr=function(e,t,n){return c(void 0,void 0,void 0,(function(){var r;return l(this,(function(i){switch(i.label){case 0:return t?(I.debug("Abort received while tx is still pending on the chainImplementation. Sending analytics event."),r={did:e.did||"",networkAddress:e.networkAddress||"",chain:e.chain||"",chainNetwork:e.chainNetwork||"",ownerSigns:e.ownerSigns?"true":"false",wallet:e.wallet||"",domain:e.domain||"",referrer:e.referrer||"",action:"CHAIN_ERROR",errorCode:H.BROWSER_CLOSED_WHILE_TRANSACTION_PENDING,flowId:e.flowId||"",flowType:e.flowType||"",signedTx:t,civicClient:e.civicClient},e.stage?[4,Vr(e.stage,r,n)]:(I.error("Unknown stage. Cannot send analytics event"),[2])):[3,2];case 1:return i.sent(),[3,3];case 2:I.debug("No pending tx in abort analytics handler. Not sending event."),i.label=3;case 3:return[2]}}))}))};t.ChainError=K,t.ErrorCode=H,t.GKN_SERVICE_ENDPOINTS=q,t.GatekeeperClient=B,t.default=Hr,t.getGatekeeperEndpoint=G,t.getGatekeeperNetworkData=Y,t.getInstanceInputObject=Fr,t.hasRequiredInputs=zr,t.logger=I,t.prefixLogger=k,t.sendAnalyticsEvent=Vr,t.sendOnCloseAnalyticsEvent=qr,t.shouldUpdateInstance=Br,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(4).Buffer)},function(e,t,n){(function(e){var r=n(72).default,i=n(19).default;const o=["enabled","anonymousActionType","store"],a=["connection"];!function(t){"use strict";var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)};function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)};function c(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function l(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(u){s=[6,u],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function f(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h(e){return Number.isInteger(e)&&e>=0}function p(e){this.name="ArgumentError",this.message=e}"function"===typeof SuppressedError&&SuppressedError;var y,g=f((function(e,t){if(t=t||{},"function"!==typeof e)throw new p("fetch must be a function");if("object"!==typeof t)throw new p("defaults must be an object");if(void 0!==t.retries&&!h(t.retries))throw new p("retries must be a positive integer");if(void 0!==t.retryDelay&&!h(t.retryDelay)&&"function"!==typeof t.retryDelay)throw new p("retryDelay must be a positive integer or a function returning a positive integer");if(void 0!==t.retryOn&&!Array.isArray(t.retryOn)&&"function"!==typeof t.retryOn)throw new p("retryOn property expects an array or function");var n={retries:3,retryDelay:1e3,retryOn:[]};return t=Object.assign(n,t),function(n,r){var i=t.retries,o=t.retryDelay,a=t.retryOn;if(r&&void 0!==r.retries){if(!h(r.retries))throw new p("retries must be a positive integer");i=r.retries}if(r&&void 0!==r.retryDelay){if(!h(r.retryDelay)&&"function"!==typeof r.retryDelay)throw new p("retryDelay must be a positive integer or a function returning a positive integer");o=r.retryDelay}if(r&&r.retryOn){if(!Array.isArray(r.retryOn)&&"function"!==typeof r.retryOn)throw new p("retryOn property expects an array or function");a=r.retryOn}return new Promise((function(t,s){var u=function(o){var u="undefined"!==typeof Request&&n instanceof Request?n.clone():n;e(u,r).then((function(e){if(Array.isArray(a)&&-1===a.indexOf(e.status))t(e);else if("function"===typeof a)try{return Promise.resolve(a(o,null,e)).then((function(n){n?c(o,null,e):t(e)})).catch(s)}catch(n){s(n)}else o<i?c(o,null,e):t(e)})).catch((function(e){if("function"===typeof a)try{Promise.resolve(a(o,e,null)).then((function(t){t?c(o,e,null):s(e)})).catch((function(e){s(e)}))}catch(e){s(e)}else o<i?c(o,e,null):s(e)}))};function c(e,t,n){var r="function"===typeof o?o(e,t,n):o;setTimeout((function(){u(++e)}),r)}u(0)}))}})),v=function(e){return e?Object.entries(e).reduce((function(e,t){var n,r=t[0],i=t[1];return void 0===i||null===i||i instanceof Array&&0===i.length||i instanceof Object&&0===Object.keys(i).length||""===i?e:u(u({},e),((n={})[r]=i.toString(),n))}),{}):{}};!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(y||(y={}));var E,m=[y.DEBUG,y.INFO,y.WARN,y.ERROR],w=function(e,t){return m.indexOf(t)>=m.indexOf(e)},S=y.INFO,b=function(){function e(e,t){void 0===t&&(t=S),this.logger=e,this.logLevel=t}return e.prototype.setLogLevel=function(e){this.logLevel=e},e.prototype.debug=function(e,t){w(this.logLevel,y.DEBUG)&&this.logger.debug(e,t)},e.prototype.info=function(e,t){w(this.logLevel,y.INFO)&&this.logger.info(e,t)},e.prototype.warn=function(e,t){w(this.logLevel,y.WARN)&&this.logger.warn(e,t)},e.prototype.error=function(e,t){w(this.logLevel,y.ERROR)&&this.logger.error(e,t)},e}(),_=function(e,t,n){n?e(t,n):e(t)},T=function(e){function t(t){return void 0===t&&(t=S),e.call(this,console,t)||this}return s(t,e),t.prototype.setLogLevel=function(e){this.logLevel=e},t.prototype.debug=function(e,t){_(this.logger.debug,e,t)},t.prototype.info=function(e,t){_(this.logger.info,e,t)},t.prototype.warn=function(e,t){_(this.logger.warn,e,t)},t.prototype.error=function(e,t){_(this.logger.error,e,t)},t}(b),I=new b(new T),R=function(e,t){return function(n,r){return void 0===r&&(r=null),I.debug("[".concat(t,"][").concat(e,"] ").concat(n),r)}},N=function(e,t){return function(n,r){return void 0===r&&(r=null),I.error("[".concat(t,"][").concat(e,"] ").concat(n),r)}},A=function(e,t){return function(n,r){return void 0===r&&(r=null),I.warn("[".concat(t,"][").concat(e,"] ").concat(n),r)}},O=function(e,t){return function(n,r){return void 0===r&&(r=null),I.info("[".concat(t,"][").concat(e,"] ").concat(n),r)}},k=function(e,t){return void 0===t&&(t="GatewayClientCore"),{setLogLevel:function(e){var t;return null===(t=null===I||void 0===I?void 0:I.setLogLevel)||void 0===t?void 0:t.call(I,e)},debug:R(e,t),error:N(e,t),warn:A(e,t),info:O(e,t)}};!function(e){e[e.REQUESTING=0]="REQUESTING",e[e.NOT_REQUESTED=404]="NOT_REQUESTED",e[e.REQUESTED=202]="REQUESTED",e[e.ISSUED=200]="ISSUED",e[e.ISSUED_EXPIRY_APPROACHING=205]="ISSUED_EXPIRY_APPROACHING",e[e.ISSUED_EXPIRED=426]="ISSUED_EXPIRED",e[e.LOCATION_NOT_SUPPORTED=401]="LOCATION_NOT_SUPPORTED",e[e.REJECTED=403]="REJECTED",e[e.VPN_NOT_SUPPORTED=421]="VPN_NOT_SUPPORTED",e[e.ISSUED_LOCATION_NOT_SUPPORTED=412]="ISSUED_LOCATION_NOT_SUPPORTED",e[e.ISSUED_VPN_NOT_SUPPORTED=451]="ISSUED_VPN_NOT_SUPPORTED",e[e.SERVER_FAILURE=500]="SERVER_FAILURE",e[e.REQUESTED_RETRIES_EXHAUSTED=408]="REQUESTED_RETRIES_EXHAUSTED"}(E||(E={}));var C,x,M,P,L={local:"http://localhost:3001/local",test:"https://dev-gatekeeper-api.civic.com",dev:"https://dev-gatekeeper-api.civic.com",preprod:"https://preprod-gatekeeper-api.civic.com",prod:"https://gatekeeper-api.civic.com"},D=k("GatekeeperClient").debug,U=k("GatekeeperClient").warn,j=k("GatekeeperClient").error,G=function(e,t){var n=L[e];return n||(U("No Gatekeeper endpoint for stage ".concat(e," . Using dev endpoint.")),n=L.dev),"".concat(n,"/v1/token/").concat(t)},F=function(e){return Object.fromEntries(Object.entries(e).filter((function(e){return void 0!==e[1]})))},B=function(){function e(e,t){var n=this;this.initConfig=e,this.abortController=e.abortController,this.baseUrl=e.baseUrl||G(e.stage,e.chainType),this.queryParams=e.queryParams,this.headers=v(u(u({},e.headers),{"x-civic-flowid":t})),this.fetchImplementation=e.fetchImplementation;var r=e.numRetries;this.defaultRetryParams={retries:r,retryOn:function(e,t,i){return c(n,void 0,void 0,(function(){var n,o,a;return l(this,(function(s){switch(s.label){case 0:return i?[4,i.clone().json()]:[3,2];case 1:return o=s.sent(),[3,3];case 2:o={},s.label=3;case 3:if(n=o,i&&i.status>=500){if(null===(a=null===n||void 0===n?void 0:n.message)||void 0===a?void 0:a.includes("NO_AUTO_RETRY"))return[2,!1];if(e>=r)throw j("retryOn error run out of retries",{error:t,attempt:e,retries:r,response:i,body:n}),t;return D("retrying on 5xx error",{error:t,attempt:e,retries:r,response:i,body:n}),[2,!0]}return D("retryOn returning false as error was not a 5xx error"),[2,!1]}}))}))},retryDelay:function(e){var t=10+1e3*Math.pow(2,e);return D("retryDelay",{attempt:e+1,retryDelay:t}),t}},this.fetchWithRetry=g(this.fetchImplementation,this.defaultRetryParams)}return e.prototype.setFlowId=function(e){this.headers=v(u(u({},this.headers||{}),{"x-civic-flowid":e}))},e.prototype.instanceName=function(){var e,t;return null===(t=null===(e=this.queryParams)||void 0===e?void 0:e.gatekeeperNetworkAddress)||void 0===t?void 0:t.substring(0,6)},e.prototype.abort=function(){var e,t;D("abort ".concat(null===(t=null===(e=this.queryParams)||void 0===e?void 0:e.gatekeeperNetworkAddress)||void 0===t?void 0:t.substring(0,6))),this.abortController.abort()},e.prototype.addQueryParams=function(e){this.queryParams&&Object.entries(this.queryParams).forEach((function(t){var n=t[0],r=t[1];e.searchParams.append(n,r)}))},e.prototype.continueIfNotAborted=function(e){return D("continueIfNotAborted ".concat(this.instanceName()," this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),this.queryParams),this.abortController.signal.aborted?null:e()},e.prototype.urlForWallet=function(e){void 0===e&&(e=this.initConfig.walletAddress);var t=new URL("".concat(this.baseUrl,"/").concat(e));return this.addQueryParams(t),t.toString()},e.prototype.getGatekeeperRecordWithPayload=function(){return c(this,arguments,void 0,(function(e){var t=this;return void 0===e&&(e=this.initConfig.walletAddress),l(this,(function(n){return D("url: ".concat(this.urlForWallet(e)," getGatekeeperRecordWithPayload: ").concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),[2,this.fetchWithRetry(this.urlForWallet(e),{method:"GET",headers:this.headers,signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return c(t,void 0,void 0,(function(){var t;return l(this,(function(n){switch(n.label){case 0:return t={state:E[E[e.status]]},[4,e.json()];case 1:return[2,(t.payload=n.sent(),t)]}}))}))}}))).catch((function(e){if("AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.getGatekeeperStatus=function(){return c(this,arguments,void 0,(function(e){return void 0===e&&(e=this.initConfig.walletAddress),l(this,(function(t){return D("getGatekeeperStatus: ".concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),[2,this.fetchWithRetry(this.urlForWallet(e),{method:"HEAD",headers:this.headers,signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return e.status}}))).catch((function(e){if(j("getGatekeeperStatus",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),E.SERVER_FAILURE;throw e}))]}))}))},e.prototype.requestGatewayTokenFromGatekeeper=function(e){return c(this,arguments,void 0,(function(e){var t,n,r=this,i=e.payload,o=e.proof,a=e.payer;return l(this,(function(e){return D("requestGatewayTokenFromGatekeeper: ".concat(this.instanceName(),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),u(u({},i),{proof:o})),t=F(u(u({},i),{proof:o,address:this.initConfig.walletAddress,payer:a})),D("requestGatewayTokenFromGatekeeper Requesting a new gatekeeper token...",t),n=new URL(this.baseUrl),this.addQueryParams(n),[2,this.fetchWithRetry(n.toString(),{method:"POST",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t),signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(e){return c(r,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))}}))).catch((function(e){if(j("requestGatewayTokenFromGatekeeper",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.refreshToken=function(e){return c(this,arguments,void 0,(function(e){var t,n,r,i=this,o=e.payload,a=e.proof,s=e.payer;return l(this,(function(e){return D("refreshToken: ".concat(this.urlForWallet(this.initConfig.walletAddress)).concat(null===(r=null===(n=this.queryParams)||void 0===n?void 0:n.gatekeeperNetworkAddress)||void 0===r?void 0:r.substring(0,6),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted),{payload:o}),t=F(u(u({},o),{proof:a,request:"refresh",payer:s})),[2,this.fetchWithRetry(this.urlForWallet(this.initConfig.walletAddress),{method:"PATCH",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(t),signal:this.abortController.signal}).then((function(e){return c(i,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))})).catch((function(e){if(j("refreshToken",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.fetchFreshTransaction=function(e){return c(this,arguments,void 0,(function(e){var t,n,r,i,o=this,a=e.payer;return l(this,(function(e){return t=new URL("".concat(this.baseUrl,"/").concat(this.initConfig.walletAddress,"/transaction")),this.addQueryParams(t),D("fetchFreshTransaction: ".concat(t.toString()).concat(null===(i=null===(r=this.queryParams)||void 0===r?void 0:r.gatekeeperNetworkAddress)||void 0===i?void 0:i.substring(0,6),"  this.abortController.signal.aborted: ").concat(this.abortController.signal.aborted)),n=F({payer:a}),[2,this.fetchWithRetry("".concat(t.toString()),{method:"POST",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(n),signal:this.abortController.signal}).then((function(e){return c(o,void 0,void 0,(function(){var t,n;return l(this,(function(r){switch(r.label){case 0:return t=e.status,[4,e.json()];case 1:return n=r.sent(),[2,u(u({},n),{state:E[E[t]],status:t})]}}))}))})).catch((function(e){if(j("fetchFreshTransaction",e),"AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw e}))]}))}))},e.prototype.updateTransactionStatus=function(e){return c(this,arguments,void 0,(function(e,t){var n,r,i=this;return void 0===t&&(t="sent"),l(this,(function(o){return n=new URL("".concat(this.baseUrl,"/").concat(this.initConfig.walletAddress,"/transaction/").concat(e)),this.addQueryParams(n),r={status:t},[2,this.fetchWithRetry(n.toString(),{method:"PATCH",headers:u(u({},this.headers),{"Content-Type":"application/json"}),body:JSON.stringify(r),signal:this.abortController.signal}).then(this.continueIfNotAborted((function(){return function(){return c(i,void 0,void 0,(function(){return l(this,(function(t){return D("updateTransactionStatus successful",{txId:e,url:n,wallet:this.initConfig.walletAddress}),[2]}))}))}}))).catch((function(e){if("AbortError"===e.name)return D("error due to abort controller signal aborted"),null;throw j("updateTransactionStatus",e),e}))]}))}))},e}();t.State=void 0,(P=t.State||(t.State={})).ACTIVE="ACTIVE",P.REVOKED="REVOKED",P.FROZEN="FROZEN",t.TokenState=void 0,(M=t.TokenState||(t.TokenState={})).REQUESTED="REQUESTED",M.ACTIVE="ACTIVE",M.REVOKED="REVOKED",M.FROZEN="FROZEN",M.REJECTED="REJECTED",t.ChainType=void 0,(x=t.ChainType||(t.ChainType={})).SOLANA="solana",x.ETHEREUM="ethereum",x.CASPER="casper",x.ICP="icp",t.SignatureMethod=void 0,(C=t.SignatureMethod||(t.SignatureMethod={}))[C.TRANSACTION=0]="TRANSACTION",C[C.MESSAGE=1]="MESSAGE";var z,W,H={INSUFFICIENT_FUNDS:"0x1",SIGN_TRANSACTION_ERROR:"0x2",SIGN_TRANSACTION_USER_REJECTED_ERROR:"0x21",SIGN_TRANSACTION_UNKNOWN_ERROR:"0x22",SEND_TRANSACTION_ERROR:"0x3",CUSTOM_HANDLE_TRANSACTION_ERROR:"0x4",POWO_ERROR:"0x5",CHAIN_CONFIRMATION_TIMEOUT_ERROR:"0x6",TRANSACTION_FAILED_ON_CHAIN_ERROR:"0x61",TRANSACTION_DROPPED_ERROR:"0x62",TRANSACTION_CONFIRMATION_UNKNOWN_ERROR:"0x63",BROWSER_CLOSED_WHILE_TRANSACTION_PENDING:"0x64",EXPECTED_GATEKEEPER_RECORD:"0x7"},K=function(e){function t(n,r,i){void 0===i&&(i=I);var o=e.call(this,n)||this;return o.errorCode=r,null===i||void 0===i||i.error("ChainError: ".concat(n," throwing code ").concat(r)),Object.setPrototypeOf(o,t.prototype),o}return s(t,e),t}(Error),V=function(e){function t(n,r){void 0===r&&(r=H.CHAIN_CONFIRMATION_TIMEOUT_ERROR);var i=e.call(this,n)||this;return i.errorCode=r,I.error("ChainConfirmationTimeout: ".concat(n," throwing code ").concat(r)),Object.setPrototypeOf(i,t.prototype),i}return s(t,e),t}(Error);t.GatewayStatus=void 0,(W=t.GatewayStatus||(t.GatewayStatus={})).UNKNOWN="UNKNOWN",W.CHECKING="CHECKING",W.NOT_REQUESTED="NOT_REQUESTED",W.COLLECTING_USER_INFORMATION="COLLECTING_USER_INFORMATION",W.IN_REVIEW="IN_REVIEW",W.REJECTED="REJECTED",W.REVOKED="REVOKED",W.FROZEN="FROZEN",W.ACTIVE="ACTIVE",W.ERROR="ERROR",W.LOCATION_NOT_SUPPORTED="LOCATION_NOT_SUPPORTED",W.VPN_NOT_SUPPORTED="VPN_NOT_SUPPORTED",W.REFRESH_TOKEN_REQUIRED="REFRESH_TOKEN_REQUIRED",W.VALIDATING_USER_INFORMATION="VALIDATING_USER_INFORMATION",W.USER_INFORMATION_VALIDATED="USER_INFORMATION_VALIDATED",W.USER_INFORMATION_REJECTED="USER_INFORMATION_REJECTED",t.ExtendedGatewayStatus=void 0,(z=t.ExtendedGatewayStatus||(t.ExtendedGatewayStatus={})).AWAITING_OWNER_TRANSACTION="AWAITING_OWNER_TRANSACTION",z.CHAIN_TIMEOUT_ERROR="CHAIN_TIMEOUT_ERROR",z.CONFIRM_OWNER_TRANSACTION="CONFIRM_OWNER_TRANSACTION",z.CHAIN_TRANSACTION_ERROR="CHAIN_TRANSACTION_ERROR",z.TOKEN_IN_PARTNER_REVIEW="TOKEN_IN_PARTNER_REVIEW",z.TOKEN_REFRESH_IN_REVIEW="TOKEN_REFRESH_IN_REVIEW",z.USER_VALIDATION_FAILED="USER_VALIDATION_FAILED",z.RESTART="RESTART",z.CHAIN_SIGN_MESSAGE_ERROR="CHAIN_SIGN_MESSAGE_ERROR",z.ISSUANCE_CLIENT_PAYER_REQUESTED="ISSUANCE_CLIENT_PAYER_REQUESTED",z.ISSUANCE_AWAITING_TRANSACTION_SEND="ISSUANCE_AWAITING_TRANSACTION_SEND",z.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND="ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND",z.ISSUANCE_AWAITING_ON_CHAIN_TOKEN="ISSUANCE_AWAITING_ON_CHAIN_TOKEN",z.ISSUANCE_RESTART_DATA_COLLECTION="ISSUANCE_RESTART_DATA_COLLECTION",z.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX="ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX",z.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX="ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX",z.ISSUANCE_CLIENT_SENDS_START_NEW_TX="ISSUANCE_CLIENT_SENDS_START_NEW_TX",z.REFRESH_USER_INFORMATION_VALIDATED="REFRESH_USER_INFORMATION_VALIDATED",z.REFRESH_CLIENT_PAYER_REQUESTED="REFRESH_CLIENT_PAYER_REQUESTED",z.REFRESH_IN_REVIEW="REFRESH_IN_REVIEW",z.REFRESH_AWAITING_TRANSACTION_SEND="REFRESH_AWAITING_TRANSACTION_SEND",z.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND="REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND",z.REFRESH_AWAITING_ON_CHAIN_TOKEN="REFRESH_AWAITING_ON_CHAIN_TOKEN",z.REFRESH_CREDENTIAL_EXPIRED="REFRESH_CREDENTIAL_EXPIRED",z.REFRESH_CREDENTIAL_EXPIRED_START="REFRESH_CREDENTIAL_EXPIRED_START",z.RESTART_REFRESH="RESTART_REFRESH",z.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX="REFRESH_CLIENT_SENDS_REQUEST_NEW_TX",z.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX="REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX",z.REFRESH_CLIENT_SENDS_START_NEW_TX="REFRESH_CLIENT_SENDS_START_NEW_TX";var q={local:"https://dev.api.civic.com/gkn-dev",test:"https://dev.api.civic.com/gkn-dev",dev:"https://dev.api.civic.com/gkn-dev",preprod:"https://dev.api.civic.com/gkn-preprod",prod:"https://api.civic.com/gkn"},Y=function(e,t){return c(void 0,void 0,void 0,(function(){var n;return l(this,(function(r){switch(r.label){case 0:if(!q[e])throw new Error("No Gatekeeper Network Service endpoint found for stage ".concat(e));return[4,fetch("".concat(q[e],"/public/gatekeeperNetwork/").concat(t))];case 1:return[4,r.sent().json()];case 2:if((null===(n=r.sent())||void 0===n?void 0:n.id)!==t)throw new Error("Could not fetch data from Gatekeeper Network Service for ".concat(t));return[2,n]}}))}))};let Q;var Z,X;t.FlowType=void 0,(X=t.FlowType||(t.FlowType={})).ISSUANCE="issuance",X.REFRESH="refresh",X.REFRESH_EXPIRED_CREDENTIAL="refreshExpiredCredential",X.STATUS="status",X.REVOCATION="revocation",X.UNFREEZE="unfreeze",t.FlowStatus=void 0,(Z=t.FlowStatus||(t.FlowStatus={})).IN_PROGRESS="in-progress",Z.RESULT="result",Z.FINISHED="finished";const J=new Uint8Array(16);function $(){if(!Q&&(Q="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(J)}const ee=[];for(let e=0;e<256;++e)ee.push((e+256).toString(16).slice(1));function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ee[e[t+0]]+ee[e[t+1]]+ee[e[t+2]]+ee[e[t+3]]+"-"+ee[e[t+4]]+ee[e[t+5]]+"-"+ee[e[t+6]]+ee[e[t+7]]+"-"+ee[e[t+8]]+ee[e[t+9]]+"-"+ee[e[t+10]]+ee[e[t+11]]+ee[e[t+12]]+ee[e[t+13]]+ee[e[t+14]]+ee[e[t+15]]}var ne,re,ie,oe,ae,se={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function ue(e,t,n){if(se.randomUUID&&!t&&!e)return se.randomUUID();const r=(e=e||{}).random||(e.rng||$)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return te(r)}(function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCELLED="cancelled",e.IN_PROGRESS="inProgress",e.ERROR="error"})(ne||(ne={})),function(e){e.ISSUANCE="issuance",e.CONFIRM_TRANSACTION="confirmTransaction",e.TOKEN_FROZEN="tokenFrozen",e.TOKEN_ACTIVE="tokenActive",e.TOKEN_REVOKED="tokenRevoked",e.TOKEN_REJECTED="tokenRejected",e.TOKEN_IN_REVIEW="tokenInReview",e.TOKEN_REFRESH_IN_REVIEW="tokenRefreshInReview",e.TOKEN_IN_PARTNER_REVIEW="tokenInPartnerReview",e.FAILED_IP_CHECK="failedIpCheck",e.FAILED_VPN_CHECK="failedVpnCheck",e.REFRESH="refresh",e.STATUS="status",e.ERROR="error",e.CHAIN_ERROR="chainError",e.CREDENTIAL_EXPIRED="credentialExpired",e.SIGN_TRANSACTION="signTransaction",e.AWAITING_TRANSACTION_CONFIRMATION="awaitingTransactionConfirmation",e.START_PRE_APPROVED_TRANSACTION="startPreApprovedTransaction"}(re||(re={})),function(e){e.COLLECTING="COLLECTING",e.PROCESSING="PROCESSING",e.IN_REVIEW="IN_REVIEW",e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.NOT_FOUND="NOT_FOUND"}(ie||(ie={})),function(e){e.RESPONSE_PUBLIC_KEY="RESPONSE_PUBLIC_KEY",e.RESPONSE_DID="RESPONSE_DID",e.RESPONSE_SIGNED_PROOF="RESPONSE_SIGNED_PROOF",e.RESPONSE_SIGNED_MESSAGE="RESPONSE_SIGNED_MESSAGE",e.RESPONSE_ERROR="RESPONSE_ERROR"}(oe||(oe={})),function(e){e.REQUEST_PUBLIC_KEY="REQUEST_PUBLIC_KEY",e.REQUEST_DID="REQUEST_DID",e.REQUEST_SIGNED_PROOF="REQUEST_SIGNED_PROOF",e.REQUEST_SIGNED_MESSAGE="REQUEST_SIGNED_MESSAGE"}(ae||(ae={}));var ce,le=function(){function e(e,t,n,r){void 0===r&&(r=k("ListenerManager")),this.messageEventInterface=e,this.chainImplementation=t,this.instanceId=n,this.log=r,this.messageListeners={}}return e.prototype.registerCivicPassListener=function(e){var t=this,n=function(n){var r,i;n.data?(null===(r=n.data)||void 0===r?void 0:r.instanceId)===t.instanceId?Object.values(re).includes(n.data.action)&&(t.log.debug("received CivicPassListener postMessage",n.data),e(n.data)):(null===(i=n.data)||void 0===i?void 0:i.instanceId)&&"@devtools-page"!==n.data.source&&t.log.debug("instanceId for different instance",{event:n.data,instanceId:t.instanceId}):t.log.error("No data in response")};this.log.debug("Adding event listener for civic-pass events"),this.messageEventInterface.addMessageEventListener(n),this.messageListeners.civicPass=n},e.prototype.registerCivicSignListener=function(e){var t=this,n=function(n){var r,i;n.data?(null===(r=n.data)||void 0===r?void 0:r.instanceId)===t.instanceId?Object.values(ae).includes(n.data.request)&&(t.log.debug("received CivicSignListener postMessage",n.data),e(n.data)):(null===(i=n.data)||void 0===i?void 0:i.instanceId)&&"@devtools-page"!==n.data.source&&t.log.debug("instanceId for different instance",{event:n.data,instanceId:t.instanceId}):t.log.error("No data in response")};this.log.debug("Adding event listener for civic-sign events"),this.messageEventInterface.addMessageEventListener(n),this.messageListeners.civicSign=n},e.prototype.registerOnChainListeners=function(e){this.chainImplementation.on("TOKEN_CREATED",e),this.chainImplementation.on("TOKEN_CHANGED",e)},e.prototype.unregisterAllListeners=function(){var e=this;Object.entries(this.messageListeners).forEach((function(t){var n=t[0],r=t[1];e.log.debug("Removing message event listener",n),e.messageEventInterface.removeMessageEventListener(r),delete e.messageListeners[n]}))},e}();!function(e){e.IN_PROGRESS="IN_PROGRESS",e.COMPLETE="COMPLETE",e.ERROR="ERROR",e.RECEIVED="RECEIVED",e.RESPONDED="RESPONDED"}(ce||(ce={}));var de,fe=function(e){var t=e.gatekeeperSendsTransaction,n=e.payer,r=e.wallet;if(!t)return n||(null===r||void 0===r?void 0:r.address)},he=k("remoteSign").debug,pe=k("remoteSign").error,ye=function(e){return{postMessage:function(t,n){e.postMessage(t,n)}}},ge=function(){function e(e,t){this.instanceId=t,this.postMessageTarget=e}return e.prototype.sendPublicKey=function(e,t){this.emit({event:oe.RESPONSE_PUBLIC_KEY,data:t,requestId:e})},e.prototype.sendDid=function(e,t){this.emit({event:oe.RESPONSE_DID,data:t,requestId:e})},e.prototype.sendSignedProof=function(e,t,n){this.emit({event:oe.RESPONSE_SIGNED_PROOF,data:{proof:t,signatureMethod:n},requestId:e})},e.prototype.sendSignedMessage=function(e,t){this.emit({event:oe.RESPONSE_SIGNED_MESSAGE,data:t,requestId:e})},e.prototype.sendError=function(e,t,n){this.emit({event:oe.RESPONSE_ERROR,requestId:e,data:{request:t,error:{message:n.message,code:null===n||void 0===n?void 0:n.errorCode}}})},e.prototype.emit=function(e){this.postMessageTarget.postMessage(u(u({},e),{instanceId:this.instanceId}),"*")},e}(),ve=function(t,n,r){return c(void 0,void 0,void 0,(function(){var i,o,a,s,u,c,d,f,h,p;return l(this,(function(l){switch(l.label){case 0:i=r.wallet,o=r.chainImplementation,l.label=1;case 1:return l.trys.push([1,8,,9]),(s=r.ownerDids)?[3,3]:[4,o.ownerDids()];case 2:s=l.sent(),l.label=3;case 3:return a=s,he("handleRemoteSignEvent ".concat(t.request),{remoteSignerInst:n,wallet:i,chainImplDids:a}),Object.values(ae).includes(t.request)?t.request===ae.REQUEST_PUBLIC_KEY?(null===n||void 0===n||n.sendPublicKey(t.requestId,i.address),[2,i.address]):t.request===ae.REQUEST_DID?(null===n||void 0===n||n.sendDid(t.requestId,null===a||void 0===a?void 0:a[0]),[2,null===a||void 0===a?void 0:a[0]]):t.request!==ae.REQUEST_SIGNED_PROOF?[3,5]:[4,o.proveWalletOwnership(t.payload)]:(pe("No result from remote sign event"),[2]);case 4:return u=l.sent(),null===n||void 0===n||n.sendSignedProof(t.requestId,u.proof,u.signatureMethod),[2,{proof:u.proof,signatureMethod:u.signatureMethod}];case 5:if(t.request!==ae.REQUEST_SIGNED_MESSAGE)return[3,7];if(!t.payload)return[3,7];if(!o.signMessage)throw new Error("Chain implementation does not support signMessage");return[4,null===(p=o.signMessage)||void 0===p?void 0:p.call(o,e.from(t.payload))];case 6:return c=l.sent(),null===n||void 0===n||n.sendSignedMessage(t.requestId,c),[2,c];case 7:return[3,9];case 8:return d=l.sent(),f=d.errorCode||d.code||H.POWO_ERROR,h=new K(d.message,"".concat(f)),pe("Error handling remote sign event, sending back an error response with code ".concat(f),h),null===n||void 0===n||n.sendError(t.requestId,t.request,h),[2,{request:t.request,error:h}];case 9:return[2]}}))}))},Ee=function(){function e(e,t,n){this.gatewayCoreStore=e,this.gatekeeperClient=t,this.abortController=n,this.log=k("OrchestratorFlow")}return e.prototype.setGatekeeperClientFlowId=function(){var e,t,n,r,i=this.gatewayCoreStore.getState();if(!(null===(t=null===(e=i.output)||void 0===e?void 0:e.flowParameters)||void 0===t?void 0:t.flowId))throw this.log.error("Missing flowId",i),new Error("Missing flowId");this.gatekeeperClient.setFlowId(null===(r=null===(n=i.output)||void 0===n?void 0:n.flowParameters)||void 0===r?void 0:r.flowId)},e}(),me=120,we=3,Se=function(e,t){return e-Math.floor(Date.now()/1e3)<=t},be=function(e){return!!e&&Math.floor(Date.now()/1e3)>=e},_e=function(e){var n=e.gatewayToken,r=e.tokenExpirationMarginSeconds,i=e.forceRequireRefresh,o=n||{},a=o.expiryTime,s=o.state===t.State.ACTIVE;return!(!a||!s)&&(!!i||be(a)||Se(a,r))},Te=2147483647,Ie=function(){return Math.floor(Date.now()/1e3)},Re=function(e,t){var n=e-Ie()-t,r=n>0?1e3*n:0;return r>=Te?Te-1:r},Ne=function(e){function t(t,n,r,i,o){void 0===o&&(o=me);var a=e.call(this,t,r,i)||this;return a.gatewayCoreStore=t,a.chainImplementation=n,a.gatekeeperClient=r,a.abortController=i,a.expectTokenTimeoutSeconds=o,a.timers={},a.log=k("Issuance instance with expectTokenTimeoutSeconds ".concat(o)),a}return s(t,e),t.prototype.sendTransaction=function(){return c(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s=this;return l(this,(function(u){if(e=this.gatewayCoreStore.getState(),!(null===(r=e.inputs.gatekeeperRecord.received)||void 0===r?void 0:r.transaction))throw this.log.error("Missing gatekeeperRecord payload"),new Error("Missing gatekeeperRecord payload");if(this.gatewayCoreStore.setState((function(e){e.internal.chainTransaction||(e.internal.chainTransaction={attempts:0}),void 0!==e.internal.chainTransaction.attempts&&(e.internal.chainTransaction.attempts+=1),e.internal.chainTransaction.sentTxId=void 0,e.internal.errors.expectedOnChainToken=null,e.inputs.gatewayToken.status=ce.COMPLETE,e.internal.chainTransaction.error=void 0,e.inputs.civicPass.received=null})),this.abortExpectedTokenTimer(),!this.chainImplementation.handleTransaction)throw this.log.error("No handleTransaction defined on chainImplementation."),new Error("No handleTransaction defined on chainImplementation");return t=null===(i=e.internal.chainDetails)||void 0===i?void 0:i.chainType,n=t?null===(a=null===(o=e.inputs.gatekeeperNetworkData.received)||void 0===o?void 0:o.chains[t])||void 0===a?void 0:a.frontendPollingTimeoutSeconds:void 0,this.chainImplementation.handleTransaction(e.inputs.gatekeeperRecord.received.transaction,n).then((function(e){s.abortController.signal.aborted||s.gatewayCoreStore.setState((function(t){t.internal.chainTransaction||(t.internal.chainTransaction={}),s.gatekeeperClient.updateTransactionStatus(e),t.internal.chainTransaction.sentTxId=e}))})).catch((function(e){s.gatewayCoreStore.setState((function(t){t.internal.chainTransaction||(t.internal.chainTransaction={}),t.internal.chainTransaction.error=e}))})),[2]}))}))},t.prototype.gatekeeperRequest=function(e,t){return c(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){if(!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.currentPayload=null===(r=t.inputs.civicPass.received)||void 0===r?void 0:r.payload,[2,this.gatekeeperClient.requestGatewayTokenFromGatekeeper({payload:null===(i=t.inputs.civicPass.received)||void 0===i?void 0:i.payload,payer:e})]}))}))},t.prototype.freshTransactionGatekeeperRequest=function(e){return c(this,void 0,void 0,(function(){return l(this,(function(t){return[2,this.gatekeeperClient.fetchFreshTransaction({payer:e})]}))}))},t.prototype.clearStateBeforeGatekeeperRequest=function(e){void 0===e&&(e=!1),this.gatewayCoreStore.setState((function(t){t.internal.errors.expectedOnChainToken=null,t.inputs.gatewayToken.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=null,t.inputs.gatekeeperRecord.status=ce.IN_PROGRESS,e&&(t.internal.chainTransaction=void 0)}))},t.prototype.makeGatekeeperRequest=function(e){return c(this,arguments,void 0,(function(e){var t,n=this,r=e.payer,i=e.isFreshTransactionRequest;return l(this,(function(e){return t=this.gatewayCoreStore.getState(),this.setGatekeeperClientFlowId(),this.log.debug("makeGatekeeperRequest",t),this.abortExpectedTokenTimer(),this.clearStateBeforeGatekeeperRequest(i),(i?this.freshTransactionGatekeeperRequest(r):this.gatekeeperRequest(r,t)).then((function(e){n.abortController.signal.aborted||n.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e}))})).catch((function(e){n.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.ERROR,t.inputs.gatekeeperRecord.error=e}))})),[2]}))}))},t.prototype.retrieveFreshTransaction=function(e){return c(this,void 0,void 0,(function(){var t,n,r=this;return l(this,(function(i){if(t=this.gatewayCoreStore.getState(),!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.setGatekeeperClientFlowId(),this.log.debug("retrieveFreshTransaction",t),this.abortExpectedTokenTimer(),this.clearStateBeforeGatekeeperRequest(),this.gatekeeperRequest(e,t).then((function(e){r.abortController.signal.aborted||r.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e}))})).catch((function(e){r.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.ERROR,t.inputs.gatekeeperRecord.error=e}))})),[2]}))}))},t.prototype.statusHasValidToken=function(){return!!this.gatewayCoreStore.getState().inputs.gatewayToken.received},t.prototype.expectOnChainToken=function(){var e=this;this.gatewayCoreStore.getState().inputs.gatewayToken.received||this.timers.expectOnChainToken||(this.timers.expectOnChainToken=setTimeout((function(){e.gatewayCoreStore.setState((function(t){e.statusHasValidToken()||(t.internal.errors.expectedOnChainToken=new V("No on-chain token found within interval"))}))}),1e3*this.expectTokenTimeoutSeconds),this.log.debug("Started expected token timer",this.timers.expectOnChainToken))},t.prototype.abort=function(){this.abortExpectedTokenTimer(),this.abortRefreshCountdownTimer()},t.prototype.abortExpectedTokenTimer=function(){this.timers.expectOnChainToken&&(this.log.debug("Aborting expected token timer",this.timers.expectOnChainToken),clearTimeout(this.timers.expectOnChainToken))},t.prototype.onActiveTokenFound=function(){this.abortExpectedTokenTimer(),this.gatewayCoreStore.setState((function(e){var t;void 0!==(null===(t=e.inputs.dynamicParameters)||void 0===t?void 0:t.forceRequireRefresh)&&(e.internal.chainTransaction=void 0,e.inputs.dynamicParameters.forceRequireRefresh=!1)})),this.startRefreshCountdownTimer()},t.prototype.startRefreshCountdownTimer=function(){var e=this,t=this.gatewayCoreStore.getState().inputs.gatewayToken.received;if(null===t||void 0===t?void 0:t.expiryTime){this.abortRefreshCountdownTimer();var n=Re(t.expiryTime,0);this.timers.refreshCountdownTimer=setTimeout((function(){e.abortRefreshCountdownTimer()}),n),this.log.debug("Started refresh countdown timer",{gatewayToken:t,refreshCountdownTimer:this.timers.refreshCountdownTimer})}},t.prototype.abortRefreshCountdownTimer=function(){this.log.debug("abortRefreshCountdownTimer",{refreshCountdownTimer:this.timers.refreshCountdownTimer}),this.timers.refreshCountdownTimer&&(clearTimeout(this.timers.refreshCountdownTimer),this.timers.refreshCountdownTimer=void 0)},t.prototype.restartDataCollection=function(){this.gatewayCoreStore.setState((function(e){e.inputs.civicPass.received=null}))},t}(Ee),Ae=function(e){function t(t,n,r,i,o){void 0===o&&(o=me);var a=e.call(this,t,n,r,i,o)||this;return a.gatewayCoreStore=t,a.chainImplementation=n,a.gatekeeperClient=r,a.abortController=i,a.expectTokenTimeoutSeconds=o,a}return s(t,e),t.prototype.clearStateBeforeGatekeeperRequest=function(){this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.received=null,e.internal.chainTransaction=void 0,e.inputs.gatekeeperRecord.status=ce.IN_PROGRESS}))},t.prototype.gatekeeperRequest=function(e,t){return c(this,void 0,void 0,(function(){var n,r,i;return l(this,(function(o){if(!(null===(n=t.inputs.civicPass.received)||void 0===n?void 0:n.payload))throw this.log.error("Missing civicPass payload",t),new Error("Missing civicPass payload");return this.currentPayload=null===(r=t.inputs.civicPass.received)||void 0===r?void 0:r.payload,[2,this.gatekeeperClient.refreshToken({payload:null===(i=t.inputs.civicPass.received)||void 0===i?void 0:i.payload,payer:e})]}))}))},t.prototype.statusHasValidToken=function(){var e=this.gatewayCoreStore.getState().inputs.gatewayToken.received;return!!(null===e||void 0===e?void 0:e.expiryTime)&&!(!e||_e({gatewayToken:e,tokenExpirationMarginSeconds:0}))},t}(Ne);!function(e){e.STARTED="started",e.FINISHED="finished"}(de||(de={}));var Oe,ke=function(e,t){var n,r;return[re.TOKEN_ACTIVE,re.TOKEN_REVOKED,re.TOKEN_FROZEN,re.TOKEN_REJECTED,re.FAILED_IP_CHECK,re.FAILED_VPN_CHECK,re.ERROR].includes(t)?de.FINISHED:null===(r=null===(n=e.internal)||void 0===n?void 0:n.userInteraction)||void 0===r?void 0:r.status},Ce=function(e){function t(t,n,r,i){void 0===i&&(i=2);var o=e.call(this,t,n,r)||this;return o.gatewayCoreStore=t,o.gatekeeperClient=n,o.abortController=r,o.pollingIntervalSeconds=i,o.timers={},o.log=k("PartnerReview instance"),o}return s(t,e),t.prototype.pollForReviewFinished=function(){return c(this,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){return this.setGatekeeperClientFlowId(),e=function(){return c(t,void 0,void 0,(function(){var e,t=this;return l(this,(function(n){return(null===(e=this.abortController)||void 0===e?void 0:e.signal.aborted)?(clearInterval(this.timers.pollForReviewFinishedTimer),[2]):(this.gatekeeperClient.getGatekeeperRecordWithPayload().then((function(e){if(!e||void 0===(null===e||void 0===e?void 0:e.state)||(null===e||void 0===e?void 0:e.state)===E.SERVER_FAILURE)throw t.log.error("Error polling gatekeeper, no state returned",e),clearInterval(t.timers.pollForReviewFinishedTimer),new Error("Error polling gatekeeper, no state returned");t.log.debug("pollUntilNotRequested record.state",e.state),e.state!==E.REQUESTED&&(t.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperRecord.status=ce.COMPLETE,t.inputs.gatekeeperRecord.received=e})),clearInterval(t.timers.pollForReviewFinishedTimer))})),[2])}))}))},e(),this.timers.pollForReviewFinishedTimer=setInterval(e,1e3*this.pollingIntervalSeconds),[2]}))}))},t.prototype.abort=function(){clearInterval(this.timers.pollForReviewFinishedTimer)},t}(Ee),xe=k("common").error,Me=((Oe={})[ie.COLLECTING]=t.GatewayStatus.COLLECTING_USER_INFORMATION,Oe[ie.PROCESSING]=t.GatewayStatus.VALIDATING_USER_INFORMATION,Oe[ie.IN_REVIEW]=t.GatewayStatus.VALIDATING_USER_INFORMATION,Oe[ie.FAILED]=t.GatewayStatus.USER_INFORMATION_REJECTED,Oe[ie.COMPLETED]=t.GatewayStatus.USER_INFORMATION_VALIDATED,Oe),Pe=function(e){var t,n,r;return!((null===(t=e.inputs.parameters)||void 0===t?void 0:t.payer)!==(null===(r=null===(n=e.inputs.parameters)||void 0===n?void 0:n.wallet)||void 0===r?void 0:r.address))},Le=function(e){var t,n,r;return!(!(null===(t=e.inputs.gatewayToken)||void 0===t?void 0:t.received)||(null===(r=null===(n=e.inputs.gatekeeperRecord)||void 0===n?void 0:n.received)||void 0===r?void 0:r.state)!==E.NOT_REQUESTED)},De=function(e){var n,r,i=null===(n=e.inputs.gatewayToken)||void 0===n?void 0:n.received;if(Le(e))return t.GatewayStatus.ERROR;if(i){var o=_e({gatewayToken:i,tokenExpirationMarginSeconds:0,forceRequireRefresh:null===(r=e.inputs.dynamicParameters)||void 0===r?void 0:r.forceRequireRefresh});switch(i.state){case"ACTIVE":return o?t.GatewayStatus.REFRESH_TOKEN_REQUIRED:t.GatewayStatus.ACTIVE;case"FROZEN":return t.GatewayStatus.FROZEN;case"REVOKED":return t.GatewayStatus.REVOKED;default:return xe("Unexpected token state: ".concat(i.state)),t.GatewayStatus.ERROR}}},Ue=function(e){var n=De(e);return n||(xe("The gateway status indicated an existing token but no status could be derived"),t.GatewayStatus.ERROR)},je=function(e){var n,r=e.inputs.gatekeeperRecord,i=e.inputs.gatewayToken;switch(null===(n=null===r||void 0===r?void 0:r.received)||void 0===n?void 0:n.state){case E.ISSUED_EXPIRED:return(null===i||void 0===i?void 0:i.received)?void 0:t.GatewayStatus.ERROR;case E.REJECTED:return t.GatewayStatus.REJECTED;case E.ISSUED_LOCATION_NOT_SUPPORTED:case E.LOCATION_NOT_SUPPORTED:return t.GatewayStatus.LOCATION_NOT_SUPPORTED;case E.ISSUED_VPN_NOT_SUPPORTED:case E.VPN_NOT_SUPPORTED:return t.GatewayStatus.VPN_NOT_SUPPORTED;case E.REQUESTED_RETRIES_EXHAUSTED:return t.GatewayStatus.ERROR;default:return}},Ge=function(){function e(e,t,n,r,i,o,a){var s,c,l,d,f,h,p,y;if(this.gatewayCoreStore=e,this.messageEventInterface=t,this.instanceId=n,this.inputs=r,this.postMessageTargetCallback=o,this.chainImplementation=a,this.abortController=new AbortController,!this.chainImplementation||!(null===(s=r.wallet)||void 0===s?void 0:s.address)||!r.stage)throw new Error("chainImplementation wallet and stage are required");this.wallet=r.wallet,this.payer=fe(r),this.log=k("Orchestrator[".concat(this.instanceId,"]")),this.listenerManager=new le(this.messageEventInterface,this.chainImplementation,this.instanceId);var g=null===(l=null===(c=this.chainImplementation)||void 0===c?void 0:c.chainDetails)||void 0===l?void 0:l.chainNetwork;this.gatekeeperClient=new B({abortController:this.abortController,baseUrl:null===(d=r.gatekeeperConfig)||void 0===d?void 0:d.baseUrl,queryParams:r.gatekeeperNetwork?{network:g,gatekeeperNetworkAddress:r.gatekeeperNetwork}:void 0,headers:u(u({},(null===(f=r.gatekeeperConfig)||void 0===f?void 0:f.headers)||{}),r.xCivicClientHeader?{"x-civic-client":r.xCivicClientHeader}:{}),stage:r.stage,fetchImplementation:i.fetchImplementation,numRetries:i.numRetries,walletAddress:null===(h=r.wallet)||void 0===h?void 0:h.address,chainType:null===(y=null===(p=this.chainImplementation)||void 0===p?void 0:p.chainDetails)||void 0===y?void 0:y.chainType}),this.log.debug("Orchestrator created")}return Object.defineProperty(e.prototype,"issuance",{get:function(){return this._issuance||(this._issuance=new Ne(this.gatewayCoreStore,this.chainImplementation,this.gatekeeperClient,this.abortController,this.inputs.expectTokenTimeoutSeconds)),this._issuance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refresh",{get:function(){return this._refresh||(this._refresh=new Ae(this.gatewayCoreStore,this.chainImplementation,this.gatekeeperClient,this.abortController,this.inputs.expectTokenTimeoutSeconds)),this._refresh},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"partnerReview",{get:function(){return this._partnerReview||(this._partnerReview=new Ce(this.gatewayCoreStore,this.gatekeeperClient,this.abortController,this.inputs.gatekeeperPollingIntervalSeconds)),this._partnerReview},enumerable:!1,configurable:!0}),e.prototype.getRemoteSignInstance=function(){return this.remoteSignInstance||(this.remoteSignInstance=new ge(ye(this.postMessageTargetCallback(this.instanceId)),this.instanceId)),this.remoteSignInstance},e.prototype.getOwnerDids=function(){return c(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:return[4,this.chainImplementation.ownerDids()];case 1:return e=t.sent(),this.gatewayCoreStore.setState((function(t){t.internal.ownerDids=e})),[2]}}))}))},e.prototype.fetchGatekeeperNetworkData=function(){return c(this,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.IN_PROGRESS})),[2,Y(this.inputs.stage||"prod",this.inputs.gatekeeperNetwork||"").then((function(t){e.log.debug("getGatekeeperNetworkData",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.COMPLETE,e.inputs.gatekeeperNetworkData.received=t}))})).catch((function(t){e.log.error("Error retrieving gatekeeper network data",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperNetworkData.status=ce.ERROR,e.inputs.gatekeeperNetworkData.error=t}))}))]}))}))},e.prototype.lookupTokenState=function(){return c(this,void 0,void 0,(function(){var e,t,n,r=this;return l(this,(function(i){switch(i.label){case 0:return e=function(){return c(r,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.IN_PROGRESS})),[2,this.gatekeeperClient.getGatekeeperRecordWithPayload().then((function(t){e.log.debug("getGatekeeperRecordWithPayload record",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.COMPLETE,e.inputs.gatekeeperRecord.received=t}))})).catch((function(t){e.log.error("Error retrieving gatekeeper record",t),e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatekeeperRecord.status=ce.ERROR,e.inputs.gatekeeperRecord.error=t}))}))]}))}))},t=function(){return c(r,void 0,void 0,(function(){var e=this;return l(this,(function(t){return this.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.IN_PROGRESS})),[2,this.chainImplementation.findGatewayToken().then((function(t){e.abortController.signal.aborted||e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.COMPLETE,t&&(e.inputs.gatewayToken.received=t)}))})).catch((function(t){e.abortController.signal.aborted||(e.log.error("Error retrieving gateway token",t),e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.status=ce.ERROR,e.inputs.gatewayToken.error=t})))}))]}))}))},n=[t()],this.inputs.disableInitialGatekeeperLookup||n.push(e()),[4,Promise.allSettled(n)];case 1:return i.sent(),[2]}}))}))},e.prototype.initialise=function(){return c(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.log.debug("Initialising orchestrator"),this.abortController=new AbortController,this.remoteSignInstance=void 0,this.gatewayCoreStore.getState().functions.reset(),[4,Promise.allSettled([this.getOwnerDids(),this.lookupTokenState(),this.fetchGatekeeperNetworkData()])];case 1:return e.sent(),[2]}}))}))},e.prototype.reset=function(){this.log.debug("resetting orchestrator"),this.initialise()},e.prototype.onInternalStatusChange=function(e,n){var r,i;if(e!==t.GatewayStatus.ERROR){if(e!==t.GatewayStatus.ACTIVE)return e===t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION?this.issuance.restartDataCollection():e===t.GatewayStatus.USER_INFORMATION_VALIDATED?this.issuance.makeGatekeeperRequest({payer:this.payer}):[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX].includes(e)?this.issuance.makeGatekeeperRequest({payer:this.payer,isFreshTransactionRequest:!0}):[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND].includes(e)?this.issuance.sendTransaction():e===t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN?this.issuance.expectOnChainToken():e===t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED?this.refresh.makeGatekeeperRequest({payer:this.payer}):[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX].includes(e)?this.refresh.makeGatekeeperRequest({payer:this.payer,isFreshTransactionRequest:!0}):e===t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND?this.refresh.sendTransaction():e===t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN?this.refresh.expectOnChainToken():e===t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW?this.partnerReview.pollForReviewFinished():[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH].includes(e)?this.reset():void 0;n!==t.GatewayStatus.ACTIVE&&(null===(r=this._refresh)||void 0===r||r.onActiveTokenFound(),this._refresh||null===(i=this._issuance)||void 0===i||i.onActiveTokenFound())}else{var o=this.gatewayCoreStore.getState();Le(o)&&this.gatewayCoreStore.setState((function(e){e.internal.errors||(e.internal.errors={}),e.internal.errors.expectedTokenGatekeeperRecord=new K("Token has no gatekeeper record",H.EXPECTED_GATEKEEPER_RECORD)}))}},e.prototype.orchestrate=function(){var e=this;this.log.debug("running orchestrate()"),this.gatewayCoreStore.subscribe((function(e){return e.internal.status}),(function(t,n){return e.onInternalStatusChange(t,n)})),this.gatewayCoreStore.subscribe((function(e){var t;return null===(t=e.inputs.gatewayToken.received)||void 0===t?void 0:t.expiryTime}),(function(t,n){t&&n&&t>n&&e.gatewayCoreStore.setState((function(e){var t;void 0!==(null===(t=e.inputs.dynamicParameters)||void 0===t?void 0:t.forceRequireRefresh)&&(e.inputs.dynamicParameters.forceRequireRefresh=!1)}))})),this.gatewayCoreStore.subscribe((function(e){return e.inputs.civicPass.received}),(function(t){return e.gatewayCoreStore.setState((function(e){var n=ke(e,null===t||void 0===t?void 0:t.action);e.internal.userInteraction.status=n}))})),this.listenerManager.registerCivicPassListener((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.civicPass.status=ce.COMPLETE,e.inputs.civicPass.received=t}))})),this.listenerManager.registerCivicSignListener((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.civicSign.status=ce.RECEIVED,e.inputs.civicSign.received=t}));var n=e.gatewayCoreStore.getState().internal.ownerDids;ve(t,e.getRemoteSignInstance(),{chainImplementation:e.chainImplementation,wallet:e.wallet,ownerDids:n}).then((function(t){t||e.log.warn("No result from remote sign event"),e.gatewayCoreStore.setState((function(e){e.inputs.civicSign.received=null,e.inputs.civicSign.sent=t,e.inputs.civicSign.error=null,e.inputs.civicSign.status=ce.RESPONDED}))})).catch((function(t){e.gatewayCoreStore.setState((function(e){var n=t.errorCode?t:new K("handleRemoteSignEvent failed",H.POWO_ERROR);e.inputs.civicSign.error=n,e.inputs.civicSign.status=ce.ERROR}))}))})),this.listenerManager.registerOnChainListeners((function(t){e.gatewayCoreStore.setState((function(e){e.inputs.gatewayToken.received=t}))}))},e.prototype.abort=function(){var e,t,n;this.log.info("Aborting orchestration"),this.chainImplementation.onDestroy(),null===(e=this._issuance)||void 0===e||e.abort(),null===(t=this._refresh)||void 0===t||t.abort(),null===(n=this._partnerReview)||void 0===n||n.abort(),this.abortController.abort(),this.gatekeeperClient.abort(),this.listenerManager.unregisterAllListeners()},e}();const Fe=e=>{let t;const n=new Set,r=(e,r)=>{const i="function"===typeof e?e(t):e;if(!Object.is(i,t)){const e=t;t=(null!=r?r:"object"!==typeof i||null===i)?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,i,o);return o},Be=e=>e?Fe(e):Fe;var ze=Symbol.for("immer-nothing"),We=Symbol.for("immer-draftable"),He=Symbol.for("immer-state");function Ke(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Ve=Object.getPrototypeOf;function qe(e){return!!e&&!!e[He]}function Ye(e){var t;return!!e&&(Ze(e)||Array.isArray(e)||!!e[We]||!(null===(t=e.constructor)||void 0===t||!t[We])||nt(e)||rt(e))}var Qe=Object.prototype.constructor.toString();function Ze(e){if(!e||"object"!==typeof e)return!1;const t=Ve(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Qe}function Xe(e,t){0===Je(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function Je(e){const t=e[He];return t?t.type_:Array.isArray(e)?1:nt(e)?2:rt(e)?3:0}function $e(e,t){return 2===Je(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function et(e,t,n){const r=Je(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function tt(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function nt(e){return e instanceof Map}function rt(e){return e instanceof Set}function it(e){return e.copy_||e.base_}function ot(e,t){if(nt(e))return new Map(e);if(rt(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&Ze(e)){if(!Ve(e)){const t=Object.create(null);return Object.assign(t,e)}return i({},e)}const n=Object.getOwnPropertyDescriptors(e);delete n[He];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],o=n[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(Ve(e),n)}function at(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ut(e)||qe(e)||!Ye(e)||(Je(e)>1&&(e.set=e.add=e.clear=e.delete=st),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return at(n,!0)}))),e}function st(){Ke(2)}function ut(e){return Object.isFrozen(e)}var ct,lt={};function dt(e){const t=lt[e];return t||Ke(0,e),t}function ft(){return ct}function ht(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function pt(e,t){t&&(dt("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function yt(e){gt(e),e.drafts_.forEach(Et),e.drafts_=null}function gt(e){e===ct&&(ct=e.parent_)}function vt(e){return ct=ht(ct,e)}function Et(e){const t=e[He];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function mt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[He].modified_&&(yt(t),Ke(4)),Ye(e)&&(e=wt(t,e),t.parent_||bt(t,e)),t.patches_&&dt("Patches").generateReplacementPatches_(n[He].base_,e,t.patches_,t.inversePatches_)):e=wt(t,n,[]),yt(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==ze?e:void 0}function wt(e,t,n){if(ut(t))return t;const r=t[He];if(!r)return Xe(t,((i,o)=>St(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return bt(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),Xe(i,((i,a)=>St(e,r,t,i,a,n,o))),bt(e,t,!1),n&&e.patches_&&dt("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function St(e,t,n,r,i,o,a){if(qe(i)){const a=wt(e,i,o&&t&&3!==t.type_&&!$e(t.assigned_,r)?o.concat(r):void 0);if(et(n,r,a),!qe(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Ye(i)&&!ut(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wt(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||bt(e,i)}}function bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&at(t,n)}function _t(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ft(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Tt;n&&(i=[r],o=It);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}var Tt={get(e,t){if(t===He)return e;const n=it(e);if(!$e(n,t))return Nt(e,n,t);const r=n[t];return e.finalized_||!Ye(r)?r:r===Rt(e.base_,t)?(kt(e),e.copy_[t]=xt(r,e)):r},has:(e,t)=>t in it(e),ownKeys:e=>Reflect.ownKeys(it(e)),set(e,t,n){const r=At(it(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=Rt(it(e),t),i=null===r||void 0===r?void 0:r[He];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(tt(n,r)&&(void 0!==n||$e(e.base_,t)))return!0;kt(e),Ot(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==Rt(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,kt(e),Ot(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=it(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ke(11)},getPrototypeOf:e=>Ve(e.base_),setPrototypeOf(){Ke(12)}},It={};function Rt(e,t){const n=e[He];return(n?it(n):e)[t]}function Nt(e,t,n){var r;const i=At(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}function At(e,t){if(!(t in e))return;let n=Ve(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ve(n)}}function Ot(e){e.modified_||(e.modified_=!0,e.parent_&&Ot(e.parent_))}function kt(e){e.copy_||(e.copy_=ot(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Xe(Tt,((e,t)=>{It[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),It.deleteProperty=function(e,t){return It.set.call(this,e,t,void 0)},It.set=function(e,t,n){return Tt.set.call(this,e[0],t,n,e[0])};var Ct=class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&Ke(6),void 0!==n&&"function"!==typeof n&&Ke(7),Ye(e)){const i=vt(this),o=xt(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?yt(i):gt(i)}return pt(i,n),mt(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===ze&&(r=void 0),this.autoFreeze_&&at(r,!0),n){const t=[],i=[];dt("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Ke(1,e)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ye(e)||Ke(8),qe(e)&&(e=Mt(e));const t=vt(this),n=xt(e,void 0);return n[He].isManual_=!0,gt(t),n}finishDraft(e,t){const n=e&&e[He];n&&n.isManual_||Ke(9);const{scope_:r}=n;return pt(r,t),mt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=dt("Patches").applyPatches_;return qe(e)?r(e,t):this.produce(e,(e=>r(e,t)))}};function xt(e,t){const n=nt(e)?dt("MapSet").proxyMap_(e,t):rt(e)?dt("MapSet").proxySet_(e,t):_t(e,t);return(t?t.scope_:ft()).drafts_.push(n),n}function Mt(e){return qe(e)||Ke(10,e),Pt(e)}function Pt(e){if(!Ye(e)||ut(e))return e;const t=e[He];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ot(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ot(e,!0);return Xe(n,((e,t)=>{et(n,e,Pt(t))})),t&&(t.finalized_=!1),n}var Lt=new Ct,Dt=Lt.produce;Lt.produceWithPatches.bind(Lt),Lt.setAutoFreeze.bind(Lt),Lt.setUseStrictShallowCopy.bind(Lt),Lt.applyPatches.bind(Lt),Lt.createDraft.bind(Lt),Lt.finishDraft.bind(Lt);const Ut=e=>(t,n,r)=>(r.setState=function(e,n){const r="function"===typeof e?Dt(e):e;for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];return t(r,n,...o)},e(r.setState,n,r)),jt=Ut,Gt=new Map,Ft=e=>{const t=Gt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((e=>{let[t,n]=e;return[t,n.getState()]}))):{}},Bt=(e,t,n)=>{if(void 0===e)return{type:"untracked",connection:t.connect(n)};const r=Gt.get(n.name);if(r)return i({type:"tracked",store:e},r);const o={connection:t.connect(n),stores:{}};return Gt.set(n.name,o),i({type:"tracked",store:e},o)},zt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,s,u)=>{const{enabled:c,anonymousActionType:l,store:d}=t,f=r(t,o);let h;try{h=(null==c||c)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(w){}if(!h)return c&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(n,s,u);const p=Bt(d,h,f),{connection:y}=p,g=r(p,a);let v=!0;u.setState=(e,t,r)=>{const o=n(e,t);if(!v)return o;const a=void 0===r?{type:l||"anonymous"}:"string"===typeof r?{type:r}:r;return void 0===d?(null==y||y.send(a,s()),o):(null==y||y.send(i(i({},a),{},{type:"".concat(d,"/").concat(a.type)}),i(i({},Ft(f.name)),{},{[d]:u.getState()})),o)};const E=function(){const e=v;v=!1,n(...arguments),v=e},m=e(u.setState,s,u);if("untracked"===g.type?null==y||y.init(m):(g.stores[g.store]=u,null==y||y.init(Object.fromEntries(Object.entries(g.stores).map((e=>{let[t,n]=e;return[t,t===g.store?m:n.getState()]}))))),u.dispatchFromDevtools&&"function"===typeof u.dispatch){let e=!1;const t=u.dispatch;u.dispatch=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];"__setState"!==r[0].type||e||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),e=!0),t(...r)}}return y.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!==typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):Ht(e.payload,(e=>{if("__setState"!==e.type)u.dispatchFromDevtools&&"function"===typeof u.dispatch&&u.dispatch(e);else{if(void 0===d)return void E(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[d];if(void 0===t||null===t)return;JSON.stringify(u.getState())!==JSON.stringify(t)&&E(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return E(m),void 0===d?null==y?void 0:y.init(u.getState()):null==y?void 0:y.init(Ft(f.name));case"COMMIT":return void 0===d?void(null==y||y.init(u.getState())):null==y?void 0:y.init(Ft(f.name));case"ROLLBACK":return Ht(e.state,(e=>{if(void 0===d)return E(e),void(null==y||y.init(u.getState()));E(e[d]),null==y||y.init(Ft(f.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Ht(e.state,(e=>{void 0!==d?JSON.stringify(u.getState())!==JSON.stringify(e[d])&&E(e[d]):E(e)}));case"IMPORT_STATE":{const{nextLiftedState:n}=e.payload,r=null==(t=n.computedStates.slice(-1)[0])?void 0:t.state;if(!r)return;return E(void 0===d?r:r[d]),void(null==y||y.send(null,n))}case"PAUSE_RECORDING":return v=!v}return}})),m}},Wt=zt,Ht=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}void 0!==n&&t(n)},Kt=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(e,t,n)=>{let o=e;if(t){const i=(null==n?void 0:n.equalityFn)||Object.is;let a=e(r.getState());o=n=>{const r=e(n);if(!i(a,r)){const e=a;t(a=r,e)}},(null==n?void 0:n.fireImmediately)&&t(a,a)}return i(o)},e(t,n,r)};function Vt(){return Vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}var qt="$$_computed_";function Yt(e){return function(t,n,r){var i,o=function(e,n){t((function(t){var n,r="object"===typeof e?e:e(t);return Vt({},t,r,null==(n=t[qt])?void 0:n.call(t,r))}),n)};r.setState=o;var a=e(o,n,r),s=null==(i=a[qt])?void 0:i.call(a,a);return Object.assign({},a,s)}}function Qt(e,t){var n;return(n={})[qt]=t,n}var Zt,Xt,Jt=function(e){return Yt(e)},$t=((Zt={})[t.GatewayStatus.IN_REVIEW]=re.TOKEN_IN_REVIEW,Zt[t.GatewayStatus.ERROR]=re.ERROR,Zt[t.GatewayStatus.ACTIVE]=re.TOKEN_ACTIVE,Zt[t.GatewayStatus.REVOKED]=re.TOKEN_REVOKED,Zt[t.GatewayStatus.FROZEN]=re.TOKEN_FROZEN,Zt[t.GatewayStatus.REJECTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.LOCATION_NOT_SUPPORTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.VPN_NOT_SUPPORTED]=re.TOKEN_REJECTED,Zt[t.GatewayStatus.REFRESH_TOKEN_REQUIRED]=re.REFRESH,Zt[t.GatewayStatus.CHECKING]=re.STATUS,Zt[t.GatewayStatus.UNKNOWN]=re.ISSUANCE,Zt[t.GatewayStatus.NOT_REQUESTED]=re.ISSUANCE,Zt[t.GatewayStatus.COLLECTING_USER_INFORMATION]=re.ISSUANCE,Zt[t.GatewayStatus.VALIDATING_USER_INFORMATION]=re.ISSUANCE,Zt[t.GatewayStatus.USER_INFORMATION_VALIDATED]=re.ISSUANCE,Zt[t.GatewayStatus.USER_INFORMATION_REJECTED]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.USER_VALIDATION_FAILED]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=re.TOKEN_IN_REVIEW,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR]=re.CHAIN_ERROR,Zt[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW]=re.TOKEN_IN_PARTNER_REVIEW,Zt[t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW]=re.TOKEN_REFRESH_IN_REVIEW,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN]=re.AWAITING_TRANSACTION_CONFIRMATION,Zt[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED]=re.REFRESH,Zt[t.ExtendedGatewayStatus.RESTART]=re.ISSUANCE,Zt[t.ExtendedGatewayStatus.REFRESH_IN_REVIEW]=re.REFRESH,Zt[t.ExtendedGatewayStatus.RESTART_REFRESH]=re.REFRESH,Zt[t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=re.TOKEN_REFRESH_IN_REVIEW,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX]=re.START_PRE_APPROVED_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX]=re.START_PRE_APPROVED_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX]=re.SIGN_TRANSACTION,Zt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=re.TOKEN_IN_REVIEW,Zt[t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=re.TOKEN_REFRESH_IN_REVIEW,Zt[t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED]=re.CREDENTIAL_EXPIRED,Zt[t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START]=re.REFRESH,Zt),en=function(e){switch(e){case t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION:case t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR:case t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:return t.GatewayStatus.ERROR;case t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW:case t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.RESTART:return t.GatewayStatus.NOT_REQUESTED;case t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED:case t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START:case t.ExtendedGatewayStatus.RESTART_REFRESH:return t.GatewayStatus.REFRESH_TOKEN_REQUIRED;case t.ExtendedGatewayStatus.USER_VALIDATION_FAILED:return t.GatewayStatus.USER_INFORMATION_REJECTED;case t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR:return t.GatewayStatus.ERROR;case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION:return t.GatewayStatus.NOT_REQUESTED;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED:return t.GatewayStatus.USER_INFORMATION_VALIDATED;case t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED:case t.ExtendedGatewayStatus.REFRESH_IN_REVIEW:case t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:case t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN:case t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:case t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:return t.GatewayStatus.IN_REVIEW;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX:return t.GatewayStatus.USER_INFORMATION_VALIDATED;case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:case t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:return t.GatewayStatus.IN_REVIEW;default:return e}},tn="GWC",nn=function(e,n){var r,i,o,a,s,u,c,l,d,f;if(null===(r=e.inputs.gatewayToken)||void 0===r?void 0:r.received){var h=_e({gatewayToken:null===(i=e.inputs.gatewayToken)||void 0===i?void 0:i.received,tokenExpirationMarginSeconds:0,forceRequireRefresh:null===(a=null===(o=e.inputs)||void 0===o?void 0:o.dynamicParameters)||void 0===a?void 0:a.forceRequireRefresh});return h&&(null===(s=e.inputs.dynamicParameters)||void 0===s?void 0:s.credentialExpired)?t.FlowType.REFRESH_EXPIRED_CREDENTIAL:h||(null===(u=e.internal.status)||void 0===u?void 0:u.toLowerCase().includes("refresh"))||n.toLowerCase().includes("refresh")||(null===(l=null===(c=e.output)||void 0===c?void 0:c.flowParameters)||void 0===l?void 0:l.flowId.toLowerCase().includes(t.FlowType.REFRESH.toLowerCase()))?t.FlowType.REFRESH:(null===(f=null===(d=e.output)||void 0===d?void 0:d.flowParameters)||void 0===f?void 0:f.flowId.toLowerCase().includes(t.FlowType.ISSUANCE.toLowerCase()))?t.FlowType.ISSUANCE:t.FlowType.STATUS}return[t.GatewayStatus.CHECKING,t.GatewayStatus.UNKNOWN].includes(n)?t.FlowType.STATUS:t.FlowType.ISSUANCE},rn=function(e,t){var n,r,i,o=null===(r=null===(n=e.output)||void 0===n?void 0:n.flowParameters)||void 0===r?void 0:r.flowId,a=nn(e,t),s="".concat(a,"_");return o&&""!==o&&o.includes(s)?o:"".concat((null===(i=e.inputs.parameters)||void 0===i?void 0:i.flowIdPrefix)||tn,"_").concat(s).concat(ue())},on=[t.GatewayStatus.REFRESH_TOKEN_REQUIRED,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.ERROR],an=[t.GatewayStatus.ACTIVE,t.GatewayStatus.REFRESH_TOKEN_REQUIRED,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.ERROR],sn=function(e,n){var r,i,o,a,s,u,c,l,d,f,h,p,y,g,v;if(null===(r=e.internal)||void 0===r?void 0:r.userInteraction){var E=e.internal.status;return E===t.GatewayStatus.CHECKING&&on.includes(n)||E!==t.GatewayStatus.CHECKING&&an.includes(n)&&!an.includes(E)||E===t.GatewayStatus.ACTIVE&&(null===(o=null===(i=e.inputs)||void 0===i?void 0:i.dynamicParameters)||void 0===o?void 0:o.forceRequireRefresh)?"hidden"===(null===(u=null===(s=null===(a=e.inputs.gatekeeperNetworkData)||void 0===a?void 0:a.received)||void 0===s?void 0:s.client)||void 0===u?void 0:u.tokenActiveDisplay)?t.FlowStatus.FINISHED:t.FlowStatus.RESULT:(null===(c=e.internal)||void 0===c?void 0:c.userInteraction.status)===de.FINISHED||E===t.GatewayStatus.ACTIVE&&"hidden"===(null===(f=null===(d=null===(l=e.inputs.gatekeeperNetworkData)||void 0===l?void 0:l.received)||void 0===d?void 0:d.client)||void 0===f?void 0:f.tokenActiveDisplay)&&null===(null===(p=null===(h=e.internal)||void 0===h?void 0:h.userInteraction)||void 0===p?void 0:p.status)||n===t.ExtendedGatewayStatus.USER_VALIDATION_FAILED?t.FlowStatus.FINISHED:(null===(y=e.internal)||void 0===y?void 0:y.userInteraction.status)===de.STARTED?t.FlowStatus.IN_PROGRESS:null===(v=null===(g=e.output)||void 0===g?void 0:g.flowState)||void 0===v?void 0:v.status}},un=function(e){var n,r,i,o,a,s,u;if((null===(n=e.inputs.civicPass.received)||void 0===n?void 0:n.event)===ne.FAILURE&&(null===(r=e.inputs.civicPass.received)||void 0===r?void 0:r.action)===re.CHAIN_ERROR){var c=!!(null===(i=e.inputs.gatewayToken)||void 0===i?void 0:i.received);return(null===(o=e.internal.chainTransaction)||void 0===o?void 0:o.error)&&(e.internal.chainTransaction.attempts||0)<=((null===(s=null===(a=e.inputs.parameters)||void 0===a?void 0:a.options)||void 0===s?void 0:s.clientSendsMaxRetries)||we)?c?Pe(e)?t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:c?Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX}return null===(u=e.internal)||void 0===u?void 0:u.status},cn=function(e){var n,r,i,o=!!e.inputs.gatewayToken.received;return(null===(n=e.inputs.civicPass.received)||void 0===n?void 0:n.event)===ne.FAILURE&&(null===(r=e.inputs.civicPass.received)||void 0===r?void 0:r.action)===re.ERROR?o?t.ExtendedGatewayStatus.RESTART_REFRESH:t.ExtendedGatewayStatus.RESTART:null===(i=e.internal)||void 0===i?void 0:i.status},ln=function(e){var n,r;return(null===(r=null===(n=e.inputs.parameters)||void 0===n?void 0:n.options)||void 0===r?void 0:r.disableAutoRestartOnValidationFailure)?t.ExtendedGatewayStatus.USER_VALIDATION_FAILED:t.ExtendedGatewayStatus.RESTART},dn=function(e){var t,n,r;return(null===(n=null===(t=null===e||void 0===e?void 0:e.received)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.pending)||(null===(r=null===e||void 0===e?void 0:e.received)||void 0===r?void 0:r.pending)},fn=function(e){var t,n,r,i;return(null===(t=dn(e))||void 0===t?void 0:t.presentationRequestId)||(null===(r=null===(n=null===e||void 0===e?void 0:e.received)||void 0===n?void 0:n.payload)||void 0===r?void 0:r.presentationRequestId)||(null===(i=null===e||void 0===e?void 0:e.received)||void 0===i?void 0:i.presentationRequestId)},hn=function(e){var n,r=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===r||void 0===r?void 0:r.action)===re.START_PRE_APPROVED_TRANSACTION&&(null===r||void 0===r?void 0:r.event)===ne.SUCCESS&&void 0!==(null===r||void 0===r?void 0:r.payload))return Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX},pn=function(e){var t;return(null===e||void 0===e?void 0:e.action)===re.STATUS&&(null===e||void 0===e?void 0:e.event)===ne.SUCCESS&&(null===(t=e.payload)||void 0===t?void 0:t.status)!==ie.NOT_FOUND||(null===e||void 0===e?void 0:e.action)===re.ISSUANCE&&(null===e||void 0===e?void 0:e.event)===ne.IN_PROGRESS},yn=function(e){return!!dn(e)},gn=function(e){var t,n;return!!(null===(n=null===(t=null===e||void 0===e?void 0:e.received)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.preApprovedTxAvailable)},vn=function(e){var n,r;if((null===(r=null===(n=e.internal.errors)||void 0===n?void 0:n.expectedOnChainToken)||void 0===r?void 0:r.errorCode)===H.CHAIN_CONFIRMATION_TIMEOUT_ERROR)return t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR},En=function(e){var n,r,i,o,a,s,u,c,l=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,d=e.inputs.gatekeeperRecord;return(null===d||void 0===d?void 0:d.status)===ce.IN_PROGRESS?e.internal.status:yn(d)?t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW:(null===(r=e.inputs.parameters)||void 0===r?void 0:r.payer)?(null===d||void 0===d?void 0:d.status)!==ce.COMPLETE||(null===l||void 0===l?void 0:l.action)===re.ISSUANCE||(null===(i=d.received)||void 0===i?void 0:i.transaction)?(null===(a=null===(o=e.internal)||void 0===o?void 0:o.chainTransaction)||void 0===a?void 0:a.sentTxId)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN:(null===(u=null===(s=e.internal)||void 0===s?void 0:s.chainTransaction)||void 0===u?void 0:u.error)?t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:(null===(c=d.received)||void 0===c?void 0:c.transaction)?Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND:void 0:t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION:t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN},mn=function(e){var n,r,i,o=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,a=e.inputs.gatekeeperRecord;if(o&&((null===(r=null===a||void 0===a?void 0:a.received)||void 0===r?void 0:r.state)===E.REQUESTED||(null===a||void 0===a?void 0:a.status)===ce.IN_PROGRESS))return(null===(i=e.inputs.parameters)||void 0===i?void 0:i.payer)&&Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED:t.GatewayStatus.IN_REVIEW},wn=function(e){var n,r,i=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===i||void 0===i?void 0:i.event)===ne.FAILURE)return t.ExtendedGatewayStatus.USER_VALIDATION_FAILED;var o=Me[null===(r=null===i||void 0===i?void 0:i.payload)||void 0===r?void 0:r.status];return(null===i||void 0===i?void 0:i.action)===re.STATUS&&(null===i||void 0===i?void 0:i.event)===ne.SUCCESS&&o?o===t.GatewayStatus.USER_INFORMATION_VALIDATED?i.payload?t.GatewayStatus.USER_INFORMATION_VALIDATED:t.GatewayStatus.NOT_REQUESTED:o:(null===i||void 0===i?void 0:i.action)===re.ISSUANCE&&(null===i||void 0===i?void 0:i.event)===ne.SUCCESS?t.GatewayStatus.USER_INFORMATION_VALIDATED:pn(i)?o||t.GatewayStatus.COLLECTING_USER_INFORMATION:void 0},Sn=function(e){var t;return De(e)||wn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},bn=function(e){var t;return De(e)||mn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},_n=function(e){var t;return De(e)||vn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Tn=function(e){var t;return De(e)||je(e)||En(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},In=function(e){var n,r,i,o,a,s,u=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received,c=e.inputs.gatekeeperRecord;if((null===u||void 0===u?void 0:u.event)===ne.FAILURE)return t.ExtendedGatewayStatus.USER_VALIDATION_FAILED;if((null===u||void 0===u?void 0:u.action)===re.ISSUANCE&&(null===u||void 0===u?void 0:u.event)===ne.SUCCESS)return t.GatewayStatus.USER_INFORMATION_VALIDATED;if(!(null===c||void 0===c?void 0:c.received)||(null===(r=null===c||void 0===c?void 0:c.received)||void 0===r?void 0:r.state)===E.NOT_REQUESTED){if(pn(u)){var l=Me[null===(i=null===u||void 0===u?void 0:u.payload)||void 0===i?void 0:i.status];return l===t.GatewayStatus.USER_INFORMATION_VALIDATED?t.GatewayStatus.NOT_REQUESTED:l||t.GatewayStatus.COLLECTING_USER_INFORMATION}return t.GatewayStatus.NOT_REQUESTED}if((null===(o=null===c||void 0===c?void 0:c.received)||void 0===o?void 0:o.state)===E.REQUESTED){if(gn(c))return Pe(e)?t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX:t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX;if(yn(c))return t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW;if(!(null===(a=e.inputs.parameters)||void 0===a?void 0:a.payer))return t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN;if((null===c||void 0===c?void 0:c.status)===ce.COMPLETE&&(null===u||void 0===u?void 0:u.action)!==re.ISSUANCE&&!(null===(s=c.received)||void 0===s?void 0:s.transaction))return t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION}},Rn=function(e){var t;return De(e)||In(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Nn=function(e){var t;return De(e)||hn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},An=function(e){var t,n,r;return(null===(t=e.inputs.civicPass.received)||void 0===t?void 0:t.action)===re.STATUS&&(!e.inputs.gatewayToken.status||e.inputs.gatewayToken.status===ce.IN_PROGRESS||!(null===(n=e.inputs.parameters)||void 0===n?void 0:n.disableInitialGatekeeperLookup)&&(!e.inputs.gatekeeperRecord.status||(null===(r=e.inputs.gatekeeperRecord)||void 0===r?void 0:r.status)===ce.IN_PROGRESS))},On=function(e){if(!e.inputs.civicPass.status||An(e)){if(e.inputs.gatekeeperRecord.status===ce.ERROR||e.inputs.gatewayToken.status===ce.ERROR)return t.GatewayStatus.ERROR;if(e.inputs.gatekeeperRecord.status===ce.IN_PROGRESS||e.inputs.gatewayToken.status===ce.IN_PROGRESS)return t.GatewayStatus.CHECKING}},kn=function(e){var t;return De(e)||On(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Cn=function(e){var t;return On(e)||je(e)||De(e)||Rn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},xn=function(e){var n,r=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;if((null===r||void 0===r?void 0:r.action)===re.START_PRE_APPROVED_TRANSACTION&&(null===r||void 0===r?void 0:r.event)===ne.SUCCESS&&void 0!==(null===r||void 0===r?void 0:r.payload))return Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX},Mn=function(e){var n,r,i,o,a,s,u=e.inputs.gatekeeperRecord;return(null===(n=e.inputs.parameters)||void 0===n?void 0:n.payer)?(null===(i=null===(r=e.internal)||void 0===r?void 0:r.chainTransaction)||void 0===i?void 0:i.sentTxId)?t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN:(null===(a=null===(o=e.internal)||void 0===o?void 0:o.chainTransaction)||void 0===a?void 0:a.error)?t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR:(null===(s=u.received)||void 0===s?void 0:s.transaction)?Pe(e)?t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND:t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND:void 0:t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN},Pn=function(e){var n,r,i=e.inputs.gatekeeperRecord;if((null===(n=null===i||void 0===i?void 0:i.received)||void 0===n?void 0:n.state)===E.REQUESTED||(null===i||void 0===i?void 0:i.status)===ce.IN_PROGRESS)return(null===(r=e.inputs.parameters)||void 0===r?void 0:r.payer)&&Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED:t.ExtendedGatewayStatus.REFRESH_IN_REVIEW},Ln=function(e){var n=De(e);return n&&![t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.REFRESH_TOKEN_REQUIRED].includes(n)?n:void 0},Dn=function(e){var t;return Ln(e)||Pn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Un=function(e){var t;return Ln(e)||je(e)||Mn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},jn=function(e){var t,n;return!!(null===(n=null===(t=null===e||void 0===e?void 0:e.received)||void 0===t?void 0:t.payload)||void 0===n?void 0:n.credentialExpired)},Gn=function(e){var n,r,i=null===(n=e.inputs.civicPass)||void 0===n?void 0:n.received;return gn(e.inputs.gatekeeperRecord)?Pe(e)?t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX:t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX:((null===(r=null===e||void 0===e?void 0:e.internal)||void 0===r?void 0:r.status)||"")!==t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START&&jn(e.inputs.gatekeeperRecord)?t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED:(null===i||void 0===i?void 0:i.action)===re.REFRESH&&(null===i||void 0===i?void 0:i.event)===ne.SUCCESS?t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED:void 0},Fn=function(e){var n;if((null===(n=e.inputs.civicPass.received)||void 0===n?void 0:n.action)===re.CREDENTIAL_EXPIRED&&e.inputs.civicPass.received.event===ne.SUCCESS)return t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START},Bn=function(e){var t;return Ln(e)||je(e)||Gn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},zn=function(e){var t;return Ln(e)||je(e)||Fn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Wn=function(e){var n,r;if((null===(r=null===(n=e.internal.errors)||void 0===n?void 0:n.expectedOnChainToken)||void 0===r?void 0:r.errorCode)===H.CHAIN_CONFIRMATION_TIMEOUT_ERROR)return t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR},Hn=function(e){var t;return Ln(e)||je(e)||Wn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Kn=function(e){var t;return Ln(e)||xn(e)||(null===(t=e.internal)||void 0===t?void 0:t.status)},Vn=k("gatewayStatus").debug,qn=k("gatewayStatus").error,Yn=[t.GatewayStatus.ACTIVE,t.GatewayStatus.FROZEN,t.GatewayStatus.REVOKED,t.GatewayStatus.REFRESH_TOKEN_REQUIRED],Qn=[t.GatewayStatus.COLLECTING_USER_INFORMATION,t.GatewayStatus.VALIDATING_USER_INFORMATION,t.GatewayStatus.USER_INFORMATION_REJECTED,t.GatewayStatus.USER_INFORMATION_VALIDATED],Zn=[t.GatewayStatus.REJECTED,t.GatewayStatus.ERROR,t.GatewayStatus.LOCATION_NOT_SUPPORTED,t.GatewayStatus.VPN_NOT_SUPPORTED];function Xn(e,t){return{nextState:e,compute:t}}var Jn=((Xt={})[t.GatewayStatus.UNKNOWN]=Xn(d(d([],Yn,!0),[t.GatewayStatus.CHECKING],!1),kn),Xt[t.GatewayStatus.CHECKING]=Xn(d(d(d(d([],Yn,!0),Zn,!0),Qn,!0),[t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),Cn),Xt[t.GatewayStatus.NOT_REQUESTED]=Xn(d(d(d([],Yn,!0),Qn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION],!1),Rn),Xt[t.GatewayStatus.COLLECTING_USER_INFORMATION]=Xn(d(d(d([],Yn,!0),Qn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.GatewayStatus.NOT_REQUESTED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.USER_VALIDATION_FAILED],!1),Rn),Xt[t.GatewayStatus.USER_INFORMATION_VALIDATED]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED,t.GatewayStatus.IN_REVIEW],!1),bn),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW],!1),Tn),Xt[t.GatewayStatus.IN_REVIEW]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW],!1),Tn),Xt[t.GatewayStatus.REJECTED]=Xn([],(function(){return t.GatewayStatus.REJECTED})),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Tn),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Tn),Xt[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR],!1),_n),Xt[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION]=Xn(d(d(d([],Yn,!0),Qn,!0),[t.GatewayStatus.USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_PAYER_REQUESTED,t.GatewayStatus.NOT_REQUESTED],!1),Sn),Xt[t.GatewayStatus.REVOKED]=Xn([],Ue),Xt[t.GatewayStatus.FROZEN]=Xn(d([],Yn,!0),Ue),Xt[t.GatewayStatus.ACTIVE]=Xn(d([],Yn,!0),Ue),Xt[t.GatewayStatus.ERROR]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH],!1),cn),Xt[t.GatewayStatus.LOCATION_NOT_SUPPORTED]=Xn([],(function(){return t.GatewayStatus.LOCATION_NOT_SUPPORTED})),Xt[t.GatewayStatus.VPN_NOT_SUPPORTED]=Xn([],(function(){return t.GatewayStatus.VPN_NOT_SUPPORTED})),Xt[t.ExtendedGatewayStatus.USER_VALIDATION_FAILED]=Xn([t.ExtendedGatewayStatus.USER_VALIDATION_FAILED,t.ExtendedGatewayStatus.RESTART],ln),Xt[t.GatewayStatus.REFRESH_TOKEN_REQUIRED]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED],!1),Bn),Xt[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED,t.ExtendedGatewayStatus.REFRESH_IN_REVIEW],!1),Dn),Xt[t.ExtendedGatewayStatus.REFRESH_IN_REVIEW]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Un),Xt[t.ExtendedGatewayStatus.TOKEN_REFRESH_IN_REVIEW]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_PAYER_REQUESTED]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR],!1),Hn),Xt[t.ExtendedGatewayStatus.CHAIN_TIMEOUT_ERROR]=Xn(d(d([],Yn,!0),[t.GatewayStatus.USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),un),Xt[t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND],!1),un),Xt[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN],!1),Tn),Xt[t.ExtendedGatewayStatus.RESTART]=Xn([t.ExtendedGatewayStatus.RESTART],(function(){return t.ExtendedGatewayStatus.RESTART})),Xt[t.ExtendedGatewayStatus.RESTART_REFRESH]=Xn([t.ExtendedGatewayStatus.RESTART_REFRESH],(function(){return t.ExtendedGatewayStatus.RESTART_REFRESH})),Xt[t.ExtendedGatewayStatus.CHAIN_SIGN_MESSAGE_ERROR]=Xn([t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.RESTART_REFRESH,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],un),Xt[t.GatewayStatus.VALIDATING_USER_INFORMATION]=Xn(d(d(d([],Yn,!0),Qn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.GatewayStatus.NOT_REQUESTED],!1),Rn),Xt[t.GatewayStatus.USER_INFORMATION_REJECTED]=Xn(d(d(d([],Yn,!0),Qn,!0),[t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.RESTART,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.GatewayStatus.NOT_REQUESTED],!1),Rn),Xt[t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION]=Xn([],(function(){return t.ExtendedGatewayStatus.AWAITING_OWNER_TRANSACTION})),Xt[t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION]=Xn([],(function(){return t.ExtendedGatewayStatus.CONFIRM_OWNER_TRANSACTION})),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_START_NEW_TX]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),Nn),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_SENDS_REQUEST_NEW_TX]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Tn),Xt[t.ExtendedGatewayStatus.ISSUANCE_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.ISSUANCE_RESTART_DATA_COLLECTION,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.ISSUANCE_AWAITING_ON_CHAIN_TOKEN,t.ExtendedGatewayStatus.TOKEN_IN_PARTNER_REVIEW,t.ExtendedGatewayStatus.CHAIN_TRANSACTION_ERROR],!1),Tn),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX,t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX],!1),Kn),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_REQUEST_NEW_TX]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_CLIENT_THIRD_PARTY_SENDS_REQUEST_NEW_TX]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_AWAITING_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_THIRD_PARTY_TRANSACTION_SEND,t.ExtendedGatewayStatus.REFRESH_AWAITING_ON_CHAIN_TOKEN],!1),Un),Xt[t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED]=Xn(d(d(d([],Yn,!0),Zn,!0),[t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START],!1),zn),Xt[t.ExtendedGatewayStatus.REFRESH_CREDENTIAL_EXPIRED_START]=Xn(d(d([],Yn,!0),[t.ExtendedGatewayStatus.REFRESH_USER_INFORMATION_VALIDATED,t.ExtendedGatewayStatus.REFRESH_CLIENT_SENDS_START_NEW_TX],!1),Bn),Xt),$n=function(e,t){var n;return null===(n=Jn[e])||void 0===n?void 0:n.nextState.includes(t)},er=function(e){var t,n,r=null===(t=e.internal)||void 0===t?void 0:t.status,i=null===(n=Jn[r])||void 0===n?void 0:n.compute;if(!i)throw new Error("No transition function defined for ".concat(r," status"));var o=i(e);if(o===r)return r;if(!$n(r,o))throw qn("Invalid transition, throwing an error...",{currentStatus:r,computedStatus:o}),new Error("Invalid transition, returning currentStatus currentStatus: ".concat(r," computedStatus: ").concat(o));return Vn("Transitioning to new status",{currentStatus:r,computedStatus:o}),o},tr=function(e){return er(e)},nr=function(e){return null===e||void 0===e||0===Object.keys(e).length},rr="@civic/gateway-client-core:1.1.3-beta.4",ir=function(e,n){var r,i,o,a,s,c,l,d,f,h,p,y,g,v,E,m,w,S,b,_,T,I,R,N,A,O,k,C,x,M,P,L,D,U,j,G,F,B,z,W;if(!((null===(r=e.inputs.parameters)||void 0===r?void 0:r.wallet)&&(null===(i=e.internal.chainDetails)||void 0===i?void 0:i.chainType)&&(null===(o=e.internal)||void 0===o?void 0:o.instanceId))||[t.GatewayStatus.UNKNOWN,t.GatewayStatus.CHECKING].includes(n))return null;var H=(null===(s=null===(a=e.internal.errors)||void 0===a?void 0:a.expectedTokenGatekeeperRecord)||void 0===s?void 0:s.errorCode)||(null===(l=null===(c=e.internal.chainTransaction)||void 0===c?void 0:c.error)||void 0===l?void 0:l.errorCode)||(null===(f=null===(d=e.inputs.gatekeeperRecord)||void 0===d?void 0:d.received)||void 0===f?void 0:f.errorCode)||(null===(y=null===(p=null===(h=e.inputs.gatekeeperRecord)||void 0===h?void 0:h.received)||void 0===p?void 0:p.payload)||void 0===y?void 0:y.errorCode)||(null===(v=null===(g=e.inputs.civicSign)||void 0===g?void 0:g.error)||void 0===v?void 0:v.errorCode),K=$t[n],V=rn(e,n),q=nr(null===(m=null===(E=e.inputs.gatekeeperRecord)||void 0===E?void 0:E.received)||void 0===m?void 0:m.payload)?void 0:JSON.stringify(null===(S=null===(w=e.inputs.gatekeeperRecord)||void 0===w?void 0:w.received)||void 0===S?void 0:S.payload),Y=!e.inputs.parameters.gatekeeperSendsTransaction&&Pe(e),Q=(null===(T=null===(_=null===(b=e.inputs.gatekeeperRecord)||void 0===b?void 0:b.received)||void 0===_?void 0:_.payload)||void 0===T?void 0:T.feeAmountUSDCents)||(null===(R=null===(I=e.inputs.gatekeeperRecord)||void 0===I?void 0:I.received)||void 0===R?void 0:R.feeAmountUSDCents),Z=void 0!==Q?Q:null===(A=null===(N=e.output)||void 0===N?void 0:N.flowParameters)||void 0===A?void 0:A.feeAmountUSDCents;return u(u(u({action:K,flowId:V,ownerSigns:Y,errorCode:H,flowType:nn(e,n)},q?{payload:q}:{}),{redirectUrl:null===(O=e.inputs.parameters)||void 0===O?void 0:O.redirectUrl,networkAddress:null===(k=e.inputs.parameters)||void 0===k?void 0:k.gatekeeperNetwork,wallet:e.inputs.parameters.wallet.address,chain:null===(C=e.internal.chainDetails)||void 0===C?void 0:C.chainType,chainNetwork:null===(x=e.internal.chainDetails)||void 0===x?void 0:x.chainNetwork,did:null===(M=e.internal.ownerDids)||void 0===M?void 0:M[0],gatekeeperSendsTransaction:e.inputs.parameters.gatekeeperSendsTransaction,partnerAppId:e.inputs.parameters.partnerAppId,referrer:e.inputs.parameters.referrer,domain:e.inputs.parameters.domain,instanceId:e.internal.instanceId,hideWalletPrompts:e.inputs.parameters.payer&&e.inputs.parameters.payer!==e.inputs.parameters.wallet.address?null===(P=e.inputs.parameters.options)||void 0===P?void 0:P.hideWalletPrompts:void 0,signedTx:null===(D=null===(L=e.internal)||void 0===L?void 0:L.chainTransaction)||void 0===D?void 0:D.sentTxId,civicClient:(null===(j=null===(U=e.inputs)||void 0===U?void 0:U.parameters)||void 0===j?void 0:j.xCivicClientHeader)||rr,stage:null===(F=null===(G=e.inputs)||void 0===G?void 0:G.parameters)||void 0===F?void 0:F.stage,credentialExpired:!!(null===(W=null===(z=null===(B=e.inputs.gatekeeperRecord)||void 0===B?void 0:B.received)||void 0===z?void 0:z.payload)||void 0===W?void 0:W.credentialExpired)}),void 0!==Z?{feeAmountUSDCents:Z}:{})},or={local:"http://localhost:3004",test:"http://localhost:3004",dev:"https://passv2-dev.civic.com",preprod:"https://passv2-preprod.civic.com",prod:"https://passv2.civic.com"},ar=function(e){var t=or[e];if(!t)throw new Error("Invalid stage ".concat(e));return t},sr=function(e,t){var n,r;if(t&&(null===(r=null===(n=e.inputs)||void 0===n?void 0:n.parameters)||void 0===r?void 0:r.stage)){var i=new URL(ar(e.inputs.parameters.stage)),o=v(t||{}),a=new URLSearchParams(o);return"".concat(i.href,"?").concat(a.toString())}},ur=function(e,n,r){var i,o,a,s,c,l,d,f,h,p,y=null===(i=e.inputs.parameters)||void 0===i?void 0:i.options,g=!!(null===(a=null===(o=e.output)||void 0===o?void 0:o.ui)||void 0===a?void 0:a.isVisible);n===t.FlowStatus.FINISHED||(null===(c=null===(s=e.internal)||void 0===s?void 0:s.userInteraction)||void 0===c?void 0:c.status)===de.FINISHED?g=!1:(null===(d=null===(l=e.internal)||void 0===l?void 0:l.userInteraction)||void 0===d?void 0:d.status)!==de.STARTED&&n!==t.FlowStatus.IN_PROGRESS||(g=!0),n===t.FlowStatus.RESULT&&(null===y||void 0===y?void 0:y.autoShowModal)&&(g=!0);var v=sr(e,r),E=(null===(h=null===(f=e.output)||void 0===f?void 0:f.ui)||void 0===h?void 0:h.url)!==v;return u(u({},null===(p=e.output)||void 0===p?void 0:p.ui),{isLoading:E,url:v,isVisible:!!g})},cr={status:t.GatewayStatus.UNKNOWN,userInteraction:{status:null},errors:{},ownerDids:[],chainDetails:void 0},lr={flowParameters:void 0,flowState:{status:void 0,userInteraction:{status:null,count:0}},gatewayStatus:t.GatewayStatus.UNKNOWN,gatewayToken:void 0,gatewayTokenTransaction:void 0,pendingRequests:void 0,ui:void 0},dr={civicSign:{status:null,received:null},civicPass:{status:null,received:null},gatewayToken:{status:null,received:null},gatekeeperRecord:{status:null,received:null},parameters:null,dynamicParameters:{forceRequireRefresh:!1},gatekeeperNetworkData:{status:null,received:null}},fr={inputs:dr,internal:cr,output:lr},hr=function(e){var n,r,i,o,a,s,c=tr(e),l=ir(e,c)||void 0,d=sn(e,c),f=u(u({},null===(n=e.output)||void 0===n?void 0:n.ui),ur(e,d,l)),h=[t.FlowStatus.RESULT,t.FlowStatus.FINISHED].includes(d)&&"hidden"===(null===(o=null===(i=null===(r=e.inputs.gatekeeperNetworkData)||void 0===r?void 0:r.received)||void 0===i?void 0:i.client)||void 0===o?void 0:o.tokenActiveDisplay)?null:e.internal.userInteraction.status,p=fn(e.inputs.gatekeeperRecord);return{internal:u(u({},e.internal),{status:c,userInteraction:u(u({},e.internal.userInteraction),{status:h})}),output:u(u({},e.output),{ui:f,flowParameters:l,flowState:{status:d,userInteraction:u(u({},e.internal.userInteraction),{status:h})},gatewayStatus:en(c),gatewayToken:e.inputs.gatewayToken.received||void 0,gatewayTokenTransaction:null===(s=null===(a=e.inputs.gatekeeperRecord)||void 0===a?void 0:a.received)||void 0===s?void 0:s.transaction,pendingRequests:p?{presentationRequestId:p}:void 0})}},pr=function(e){return function(t){return Kt(Jt(jt(Wt(t,e))))}},yr=function(e){return Be(pr(e)((function(e,t){return u(u(u({},fr),{functions:{reset:function(){return e(Dt((function(e){var t;e.inputs=u(u({},dr),{dynamicParameters:e.inputs.dynamicParameters,parameters:e.inputs.parameters}),e.internal=u(u({},cr),{userInteraction:{status:e.internal.userInteraction.status},instanceId:e.internal.instanceId,ownerDids:[],chainDetails:e.internal.chainDetails}),e.output=u(u({},lr),{ui:null===(t=e.output)||void 0===t?void 0:t.ui})})))}}}),Qt(t,hr))})))},gr={isVisible:!1,isLoading:!1,url:void 0,isLoaded:!1},vr=function(){function e(e){this.gatewayCoreStore=e,this.log=k("UIManager")}return e.prototype.onShow=function(){this.log.debug("onShow"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},gr),e.output.ui.isVisible=!0,e.internal.userInteraction.status=de.STARTED}))},e.prototype.onHide=function(){this.log.debug("onHide"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},gr),e.output.ui.isVisible=!1,e.internal.userInteraction.status=de.FINISHED}))},e.prototype.onLoad=function(){this.log.debug("onLoad"),this.gatewayCoreStore.setState((function(e){var n;e.output=e.output||{gatewayStatus:t.GatewayStatus.UNKNOWN},e.output.ui=(null===(n=e.output)||void 0===n?void 0:n.ui)||u({},gr),e.output.ui.isLoading=!1,e.output.ui.isLoaded=!0}))},e}(),Er={"@@functional/placeholder":!0};function mr(e){return e===Er}function wr(e){return function t(n){return 0===arguments.length||mr(n)?t:e.apply(this,arguments)}}function Sr(e){return function t(n,r){switch(arguments.length){case 0:return t;case 1:return mr(n)?t:wr((function(t){return e(n,t)}));default:return mr(n)&&mr(r)?t:mr(n)?wr((function(t){return e(t,r)})):mr(r)?wr((function(t){return e(n,t)})):e(n,r)}}}function br(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function _r(e,t,n){for(var r=0,i=n.length;r<i;){if(e(t,n[r]))return!0;r+=1}return!1}function Tr(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}function Ir(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function Rr(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}var Nr="function"===typeof Object.is?Object.is:Rr,Ar=Object.prototype.toString,Or=function(){return"[object Arguments]"===Ar.call(arguments)?function(e){return"[object Arguments]"===Ar.call(e)}:function(e){return Ir("callee",e)}}(),kr=!{toString:null}.propertyIsEnumerable("toString"),Cr=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],xr=function(){return arguments.propertyIsEnumerable("length")}(),Mr=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},Pr="function"!==typeof Object.keys||xr?wr((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=xr&&Or(e);for(t in e)!Ir(t,e)||i&&"length"===t||(r[r.length]=t);if(kr)for(n=Cr.length-1;n>=0;)Ir(t=Cr[n],e)&&!Mr(r,t)&&(r[r.length]=t),n-=1;return r})):wr((function(e){return Object(e)!==e?[]:Object.keys(e)})),Lr=wr((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function Dr(e,t,n,r){var i=br(e);function o(e,t){return Ur(e,t,n.slice(),r.slice())}return!_r((function(e,t){return!_r(o,t,e)}),br(t),i)}function Ur(e,t,n,r){if(Nr(e,t))return!0;var i=Lr(e);if(i!==Lr(t))return!1;if("function"===typeof e["fantasy-land/equals"]||"function"===typeof t["fantasy-land/equals"])return"function"===typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"===typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"===typeof e.equals||"function"===typeof t.equals)return"function"===typeof e.equals&&e.equals(t)&&"function"===typeof t.equals&&t.equals(e);switch(i){case"Arguments":case"Array":case"Object":if("function"===typeof e.constructor&&"Promise"===Tr(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!==typeof t||!Nr(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Nr(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var o=n.length-1;o>=0;){if(n[o]===e)return r[o]===t;o-=1}switch(i){case"Map":return e.size===t.size&&Dr(e.entries(),t.entries(),n.concat([e]),r.concat([t]));case"Set":return e.size===t.size&&Dr(e.values(),t.values(),n.concat([e]),r.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var a=Pr(e);if(a.length!==Pr(t).length)return!1;var s=n.concat([e]),u=r.concat([t]);for(o=a.length-1;o>=0;){var c=a[o];if(!Ir(c,t)||!Ur(t[c],e[c],s,u))return!1;o-=1}return!0}var jr=Sr((function(e,t){return Ur(e,t,[],[])}));function Gr(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}function Fr(e,t,n){if(n||(n=new zr),Br(e))return e;var r=function(r){var i=n.get(e);if(i)return i;for(var o in n.set(e,r),e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t?Fr(e[o],!0,n):e[o]);return r};switch(Lr(e)){case"Object":return r(Object.create(Object.getPrototypeOf(e)));case"Array":return r(Array(e.length));case"Date":return new Date(e.valueOf());case"RegExp":return Gr(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}function Br(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}var zr=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var n=this.hash(e),r=this.map[n];r||(this.map[n]=r=[]),r.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var n in e)t.push(Object.prototype.toString.call(e[n]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(var t in this.map)for(var n=this.map[t],r=0;r<n.length;r+=1)if((o=n[r])[0]===e)return o[1]}else{var i=this.hash(e);if(n=this.map[i])for(r=0;r<n.length;r+=1){var o;if((o=n[r])[0]===e)return o[1]}}},e}(),Wr=wr((function(e){return null!=e&&"function"===typeof e.clone?e.clone():Fr(e,!0)})),Hr=function(e){var t;return e?u(u({},e.parameters),null===(t=e.chainImplementation)||void 0===t?void 0:t.chainDetails):{}},Kr=function(e,t){return!t||!jr(Hr(t.inputs),Hr(e))},Vr=function(e){var t;return!(!(null===(t=e.parameters.wallet)||void 0===t?void 0:t.address)||!e.chainImplementation)},qr=function(e,t){var n,r,i,o,a,s,u,c;return"gcc_".concat(null===(r=null===(n=e.parameters.wallet)||void 0===n?void 0:n.address)||void 0===r?void 0:r.substring(0,4),"_").concat(null===(o=null===(i=e.parameters)||void 0===i?void 0:i.gatekeeperNetwork)||void 0===o?void 0:o.substring(0,4),"_").concat(null===(s=null===(a=e.chainImplementation)||void 0===a?void 0:a.chainDetails)||void 0===s?void 0:s.chainType,"_").concat(null===(c=null===(u=e.chainImplementation)||void 0===u?void 0:u.chainDetails)||void 0===c?void 0:c.chainNetwork,"_").concat(t.substring(0,4))},Yr=function(){function e(e){var t,n,r,i,o=this;this.inputs=e,this.instanceId=ue(),this.log=k("Core instance: ".concat(this.instanceId)),null===(n=null===(t=this.log)||void 0===t?void 0:t.setLogLevel)||void 0===n||n.call(t,(null===(i=null===(r=e.parameters)||void 0===r?void 0:r.options)||void 0===i?void 0:i.logLevel)||S),this.log.info("GatewayClientCore created",{inputs:e}),this.gatewayCoreStore=yr({name:qr(e,this.instanceId),store:"gateway-client-core"}),this.log.info("GatewayClientCore gatewayCoreStore created",this.gatewayCoreStore),this.gatewayCoreStore.subscribe((function(e){return e.output}),(function(t){o.log.debug("GatewayClientCore output changed",t),e.onOutputChange(Wr(t))})),this.orchestratorInst=new Ge(this.gatewayCoreStore,e.messageEventInterface,this.instanceId,e.parameters,e.fetchConfig,e.postMessageTargetCallback,e.chainImplementation),this.gatewayCoreStore.setState((function(t){t.inputs.parameters=Wr(u(u({},e.parameters),{payer:fe(e.parameters)})),t.internal.chainDetails=Wr(e.chainImplementation.chainDetails),t.inputs.dynamicParameters=Wr(e.dynamicParameters),t.internal.instanceId=o.instanceId})),this.orchestratorInst.orchestrate(),this.orchestratorInst.initialise(),this.uiInst=new vr(this.gatewayCoreStore)}return e.getSingleInstance=function(t){var n,r,i=k("GatewayClientCore.getSingleInstance");return Vr(t)?(Kr(t,e.currentInstance)&&(i.debug("Inputs have changed, aborting previous and creating a new instance",t),null===(r=e.currentInstance)||void 0===r||r.abort(),e.currentInstance=new e(t)),e.currentInstance):(i.debug("Missing wallet address or chain implementation, aborting previous and setting to undefined",t),null===(n=e.currentInstance)||void 0===n||n.abort(),void(e.currentInstance=void 0))},e.prototype.updateDynamicParameters=function(e){this.gatewayCoreStore.setState((function(t){t.internal.userInteraction.status=null,t.inputs.dynamicParameters=Wr(e)}))},e.prototype.updateGatekeeperNetworkServiceData=function(e){this.gatewayCoreStore.setState((function(t){t.inputs.gatekeeperNetworkData=Wr(e)}))},e.prototype.startOrResumeFlow=function(){this.gatewayCoreStore.setState((function(e){e.internal.userInteraction.status=de.STARTED}))},e.prototype.reset=function(){this.log.info("GatewayClientCore reset"),this.orchestratorInst.reset()},e.prototype.abort=function(){this.log.info("GatewayClientCore aborting"),this.orchestratorInst.abort()},Object.defineProperty(e.prototype,"ui",{get:function(){var e=this;return{onShow:function(){return e.uiInst.onShow()},onHide:function(){return e.uiInst.onHide()},onLoad:function(){return e.uiInst.onLoad()}}},enumerable:!1,configurable:!0}),e}(),Qr={local:null,test:null,dev:"https://dev.api.civic.com/analytics-dev/events",preprod:"https://dev.api.civic.com/analytics-preprod/events",prod:"https://api.civic.com/analytics/events"},Zr=function(e,t,n){return c(void 0,void 0,void 0,(function(){var r,i,o;return l(this,(function(a){switch(a.label){case 0:return(r=Qr[e])?(i=t.civicClient||rr,o=u(u({},t),{source:"passApi_".concat(e),civicClient:i}),n?(I.debug("Beacon API supported. Using it to send analytics event.",{event:t}),n(r,JSON.stringify(o)),I.debug("Analytics event sent.",{eventWithSource:o}),[3,3]):[3,1]):(I.warn("No analytics endpoint configured for stage ".concat(e,".")),[2]);case 1:return I.debug("Beacon API not supported. Falling back to fetch.",{eventWithSource:o}),[4,fetch(r,{method:"POST",mode:"no-cors",body:JSON.stringify(o)})];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},Xr=function(e,t,n){return c(void 0,void 0,void 0,(function(){var r;return l(this,(function(i){switch(i.label){case 0:return t?(I.debug("Abort received while tx is still pending on the chainImplementation. Sending analytics event."),r={did:e.did||"",networkAddress:e.networkAddress||"",chain:e.chain||"",chainNetwork:e.chainNetwork||"",ownerSigns:e.ownerSigns?"true":"false",wallet:e.wallet||"",domain:e.domain||"",referrer:e.referrer||"",action:"CHAIN_ERROR",errorCode:H.BROWSER_CLOSED_WHILE_TRANSACTION_PENDING,flowId:e.flowId||"",flowType:e.flowType||"",signedTx:t,civicClient:e.civicClient},e.stage?[4,Zr(e.stage,r,n)]:(I.error("Unknown stage. Cannot send analytics event"),[2])):[3,2];case 1:return i.sent(),[3,3];case 2:I.debug("No pending tx in abort analytics handler. Not sending event."),i.label=3;case 3:return[2]}}))}))};t.ChainError=K,t.ErrorCode=H,t.GKN_SERVICE_ENDPOINTS=q,t.GatekeeperClient=B,t.default=Yr,t.getGatekeeperEndpoint=G,t.getGatekeeperNetworkData=Y,t.getInstanceInputObject=Hr,t.hasRequiredInputs=Vr,t.logger=I,t.prefixLogger=k,t.sendAnalyticsEvent=Zr,t.sendOnCloseAnalyticsEvent=Xr,t.shouldUpdateInstance=Kr,Object.defineProperty(t,"__esModule",{value:!0})}(t)}).call(this,n(4).Buffer)},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"i",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"m",(function(){return y})),n.d(t,"l",(function(){return g}));class r extends Error{constructor(e,t){super(e),this.error=t}}class i extends r{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class o extends r{constructor(){super(...arguments),this.name="WalletLoadError"}}class a extends r{constructor(){super(...arguments),this.name="WalletConfigError"}}class s extends r{constructor(){super(...arguments),this.name="WalletConnectionError"}}class u extends r{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class c extends r{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class l extends r{constructor(){super(...arguments),this.name="WalletAccountError"}}class d extends r{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class f extends r{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class h extends r{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class p extends r{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class y extends r{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class g extends r{constructor(){super(...arguments),this.name="WalletSignInError"}}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(114);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(17);function i(e){return function t(n){return 0===arguments.length||Object(r.a)(n)?t:e.apply(this,arguments)}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return a}));const r="solana:mainnet",i="solana:devnet",o="solana:testnet",a="solana:localnet"},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return c}));var r,i=n(55),o=n.n(i),a=n(9);!function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"}(r||(r={}));class s extends o.a{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.publicKey;if(!r)throw new a.h;return e.feePayer=e.feePayer||r,e.recentBlockhash=e.recentBlockhash||(await t.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,e}}function u(e){if("undefined"===typeof window||"undefined"===typeof document)return;const t=[];function n(){if(e())for(const e of t)e()}const r=setInterval(n,1e3);t.push((()=>clearInterval(r))),"loading"===document.readyState&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push((()=>document.removeEventListener("DOMContentLoaded",n)))),"complete"!==document.readyState&&(window.addEventListener("load",n,{once:!0}),t.push((()=>window.removeEventListener("load",n)))),n()}function c(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}},,function(e,t,n){"use strict";function r(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.notImplemented=t.bitMask=void 0,t.isBytes=a,t.abytes=s,t.abool=function(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)},t.bytesToHex=c,t.numberToHexUnpadded=l,t.hexToNumber=d,t.hexToBytes=p,t.bytesToNumberBE=function(e){return d(c(e))},t.bytesToNumberLE=function(e){return s(e),d(c(Uint8Array.from(e).reverse()))},t.numberToBytesBE=y,t.numberToBytesLE=function(e,t){return y(e,t).reverse()},t.numberToVarBytesBE=function(e){return p(l(e))},t.ensureBytes=function(e,t,n){let r;if("string"===typeof t)try{r=p(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else{if(!a(t))throw new Error(e+" must be hex string or Uint8Array");r=Uint8Array.from(t)}const i=r.length;if("number"===typeof n&&i!==n)throw new Error(e+" of length "+n+" expected, got "+i);return r},t.concatBytes=g,t.equalBytes=function(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return 0===n},t.utf8ToBytes=function(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))},t.inRange=E,t.aInRange=function(e,t,n,r){if(!E(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)},t.bitLen=function(e){let t;for(t=0;e>r;e>>=i,t+=1);return t},t.bitGet=function(e,t){return e>>BigInt(t)&i},t.bitSet=function(e,t,n){return e|(n?i:r)<<BigInt(t)},t.createHmacDrbg=function(e,t,n){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");let r=m(e),i=m(e),o=0;const a=()=>{r.fill(1),i.fill(0),o=0},s=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return n(i,r,...t)},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m();i=s(w([0]),e),r=s(),0!==e.length&&(i=s(w([1]),e),r=s())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const n=[];for(;e<t;){r=s();const t=r.slice();n.push(t),e+=r.length}return g(...n)};return(e,t)=>{let n;for(a(),u(e);!(n=t(c()));)u();return a(),n}},t.validateObject=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=(t,n,r)=>{const i=S[n];if("function"!==typeof i)throw new Error("invalid validator function");const o=e[t];if((!r||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+n+", got "+o)};for(const[i,o]of Object.entries(t))r(i,o,!1);for(const[i,o]of Object.entries(n))r(i,o,!0);return e},t.memoized=function(e){const t=new WeakMap;return function(n){const r=t.get(n);if(void 0!==r)return r;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];const s=e(n,...o);return t.set(n,s),s}};const r=BigInt(0),i=BigInt(1),o=BigInt(2);function a(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function s(e){if(!a(e))throw new Error("Uint8Array expected")}const u=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function c(e){s(e);let t="";for(let n=0;n<e.length;n++)t+=u[e[n]];return t}function l(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function d(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?r:BigInt("0x"+e)}const f={_0:48,_9:57,A:65,F:70,a:97,f:102};function h(e){return e>=f._0&&e<=f._9?e-f._0:e>=f.A&&e<=f.F?e-(f.A-10):e>=f.a&&e<=f.f?e-(f.a-10):void 0}function p(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=h(e.charCodeAt(o)),n=h(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r}function y(e,t){return p(e.toString(16).padStart(2*t,"0"))}function g(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];s(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t}const v=e=>"bigint"===typeof e&&r<=e;function E(e,t,n){return v(e)&&v(t)&&v(n)&&t<=e&&e<n}t.bitMask=e=>(o<<BigInt(e-1))-i;const m=e=>new Uint8Array(e),w=e=>Uint8Array.from(e);const S={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||a(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};t.notImplemented=()=>{throw new Error("not implemented")}},function(e,t,n){var r=n(117);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=R,t.edwardsToMontgomeryPriv=function(e){const t=T.hash(e.subarray(0,32));return T.adjustScalarBytes(t).subarray(0,32)};const i=n(120),o=n(22),a=n(122),s=n(70),u=n(24),c=n(123),l=n(49),d=n(18),f=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),h=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),p=BigInt(0),y=BigInt(1),g=BigInt(2),v=BigInt(3),E=BigInt(5),m=BigInt(8);function w(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),o=f,a=e*e%o*e%o,s=(0,u.pow2)(a,g,o)*a%o,c=(0,u.pow2)(s,y,o)*e%o,l=(0,u.pow2)(c,E,o)*c%o,d=(0,u.pow2)(l,t,o)*l%o,h=(0,u.pow2)(d,n,o)*d%o,p=(0,u.pow2)(h,r,o)*h%o,v=(0,u.pow2)(p,i,o)*p%o,m=(0,u.pow2)(v,i,o)*p%o,w=(0,u.pow2)(m,t,o)*l%o;return{pow_p_5_8:(0,u.pow2)(w,g,o)*e%o,b2:a}}function S(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function b(e,t){const n=f,r=(0,u.mod)(t*t*t,n),i=w(e*(0,u.mod)(r*r*t,n)).pow_p_5_8;let o=(0,u.mod)(e*r*i,n);const a=(0,u.mod)(t*o*o,n),s=o,c=(0,u.mod)(o*h,n),l=a===e,d=a===(0,u.mod)(-e,n),p=a===(0,u.mod)(-e*h,n);return l&&(o=s),(d||p)&&(o=c),(0,u.isNegativeLE)(o,n)&&(o=(0,u.mod)(-o,n)),{isValid:l||d,value:o}}t.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const _=(()=>(0,u.Field)(f,void 0,!0))(),T=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:_,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:m,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:i.sha512,randomBytes:o.randomBytes,adjustScalarBytes:S,uvRatio:b}))();function I(e,t,n){if(t.length>255)throw new Error("Context is too big");return(0,o.concatBytes)((0,o.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([n?1:0,t.length]),t,e)}function R(e){const{y:n}=t.ed25519.ExtendedPoint.fromHex(e),r=BigInt(1);return _.toBytes(_.create((r+n)*_.inv(r-n)))}t.ed25519=(0,a.twistedEdwards)(T),t.ed25519ctx=(0,a.twistedEdwards)(r(r({},T),{},{domain:I})),t.ed25519ph=(0,a.twistedEdwards)(Object.assign({},T,{domain:I,prehash:i.sha512})),t.x25519=(0,c.montgomery)({P:f,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:e=>{const t=f,{pow_p_5_8:n,b2:r}=w(e);return(0,u.mod)((0,u.pow2)(n,v,t)*r,t)},adjustScalarBytes:S,randomBytes:o.randomBytes}),t.edwardsToMontgomery=R;const N=(()=>(_.ORDER+v)/m)(),A=(()=>_.pow(g,N))(),O=(()=>_.sqrt(_.neg(_.ONE)))();const k=(()=>(0,u.FpSqrtEven)(_,_.neg(BigInt(486664))))();function C(e){const{xMn:t,xMd:n,yMn:r,yMd:i}=function(e){const t=(_.ORDER-E)/m,n=BigInt(486662);let r=_.sqr(e);r=_.mul(r,g);let i=_.add(r,_.ONE),o=_.neg(n),a=_.sqr(i),s=_.mul(a,i),u=_.mul(r,n);u=_.mul(u,o),u=_.add(u,a),u=_.mul(u,o);let c=_.sqr(s);a=_.sqr(c),c=_.mul(c,s),c=_.mul(c,u),a=_.mul(a,c);let l=_.pow(a,t);l=_.mul(l,c);let d=_.mul(l,O);a=_.sqr(l),a=_.mul(a,s);let f=_.eql(a,u),h=_.cmov(d,l,f),p=_.mul(o,r),v=_.mul(l,e);v=_.mul(v,A);let w=_.mul(v,O),S=_.mul(u,r);a=_.sqr(v),a=_.mul(a,s);let b=_.eql(a,S),T=_.cmov(w,v,b);a=_.sqr(h),a=_.mul(a,s);let I=_.eql(a,u),R=_.cmov(p,o,I),N=_.cmov(T,h,I),k=_.isOdd(N);return N=_.cmov(N,_.neg(N),I!==k),{xMn:R,xMd:i,yMn:N,yMd:y}}(e);let o=_.mul(t,i);o=_.mul(o,k);let a=_.mul(n,r),s=_.sub(t,n),u=_.add(t,n),c=_.mul(a,u),l=_.eql(c,_.ZERO);o=_.cmov(o,_.ZERO,l),a=_.cmov(a,_.ONE,l),s=_.cmov(s,_.ONE,l),u=_.cmov(u,_.ONE,l);const d=_.invertBatch([a,u]);return{x:_.mul(o,d[0]),y:_.mul(s,d[1])}}const x=(()=>(0,s.createHasher)(t.ed25519.ExtendedPoint,(e=>C(e[0])),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:_.ORDER,m:1,k:128,expand:"xmd",hash:i.sha512}))();function M(e){if(!(e instanceof W))throw new Error("RistrettoPoint expected")}t.hashToCurve=x.hashToCurve,t.encodeToCurve=x.encodeToCurve;const P=h,L=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),D=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),U=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),j=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),G=e=>b(y,e),F=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),B=e=>t.ed25519.CURVE.Fp.create((0,d.bytesToNumberLE)(e)&F);function z(e){const{d:n}=t.ed25519.CURVE,r=t.ed25519.CURVE.Fp.ORDER,i=t.ed25519.CURVE.Fp.create,o=i(P*e*e),a=i((o+y)*U);let s=BigInt(-1);const c=i((s-n*o)*i(o+n));let{isValid:l,value:d}=b(a,c),f=i(d*e);(0,u.isNegativeLE)(f,r)||(f=i(-f)),l||(d=f),l||(s=o);const h=i(s*(o-y)*j-c),p=d*d,g=i((d+d)*c),v=i(h*L),E=i(y-p),m=i(y+p);return new t.ed25519.ExtendedPoint(i(g*m),i(E*v),i(v*m),i(g*E))}class W{constructor(e){this.ep=e}static fromAffine(e){return new W(t.ed25519.ExtendedPoint.fromAffine(e))}static hashToCurve(e){e=(0,d.ensureBytes)("ristrettoHash",e,64);const t=z(B(e.slice(0,32))),n=z(B(e.slice(32,64)));return new W(t.add(n))}static fromHex(e){e=(0,d.ensureBytes)("ristrettoHex",e,32);const{a:n,d:r}=t.ed25519.CURVE,i=t.ed25519.CURVE.Fp.ORDER,o=t.ed25519.CURVE.Fp.create,a="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",s=B(e);if(!(0,d.equalBytes)((0,d.numberToBytesLE)(s,32),e)||(0,u.isNegativeLE)(s,i))throw new Error(a);const c=o(s*s),l=o(y+n*c),f=o(y-n*c),h=o(l*l),g=o(f*f),v=o(n*r*h-g),{isValid:E,value:m}=G(o(v*g)),w=o(m*f),S=o(m*w*v);let b=o((s+s)*w);(0,u.isNegativeLE)(b,i)&&(b=o(-b));const _=o(l*S),T=o(b*_);if(!E||(0,u.isNegativeLE)(T,i)||_===p)throw new Error(a);return new W(new t.ed25519.ExtendedPoint(b,_,y,T))}static msm(e,n){const r=(0,u.Field)(t.ed25519.CURVE.n,t.ed25519.CURVE.nBitLength);return(0,l.pippenger)(W,r,e,n)}toRawBytes(){let{ex:e,ey:n,ez:r,et:i}=this.ep;const o=t.ed25519.CURVE.Fp.ORDER,a=t.ed25519.CURVE.Fp.create,s=a(a(r+n)*a(r-n)),c=a(e*n),l=a(c*c),{value:f}=G(a(s*l)),h=a(f*s),p=a(f*c),y=a(h*p*i);let g;if((0,u.isNegativeLE)(i*y,o)){let t=a(n*P),r=a(e*P);e=t,n=r,g=a(h*D)}else g=p;(0,u.isNegativeLE)(e*y,o)&&(n=a(-n));let v=a((r-n)*g);return(0,u.isNegativeLE)(v,o)&&(v=a(-v)),(0,d.numberToBytesLE)(v,32)}toHex(){return(0,d.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(e){M(e);const{ex:n,ey:r}=this.ep,{ex:i,ey:o}=e.ep,a=t.ed25519.CURVE.Fp.create,s=a(n*o)===a(r*i),u=a(r*o)===a(n*i);return s||u}add(e){return M(e),new W(this.ep.add(e.ep))}subtract(e){return M(e),new W(this.ep.subtract(e.ep))}multiply(e){return new W(this.ep.multiply(e))}multiplyUnsafe(e){return new W(this.ep.multiplyUnsafe(e))}double(){return new W(this.ep.double())}negate(){return new W(this.ep.negate())}}t.RistrettoPoint=(W.BASE||(W.BASE=new W(t.ed25519.ExtendedPoint.BASE)),W.ZERO||(W.ZERO=new W(t.ed25519.ExtendedPoint.ZERO)),W);t.hashToRistretto255=(e,t)=>{const n=t.DST,r="string"===typeof n?(0,o.utf8ToBytes)(n):n,a=(0,s.expand_message_xmd)(e,r,64,i.sha512);return W.hashToCurve(a)},t.hash_to_ristretto255=t.hashToRistretto255},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.featureExists=t.getGatewayToken=t.onGatewayToken=t.onGatewayTokenChange=t.findGatewayToken=t.findGatewayTokensForOwnerAndNetwork=t.findGatewayTokens=void 0;const a=n(50),s=n(134),u=n(38),c=n(35),l=n(37);i(n(136),t),i(n(37),t),i(n(35),t),i(n(52),t),i(n(50),t),i(n(38),t),i(n(51),t);t.findGatewayTokens=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),d=3;d<r;d++)i[d-3]=arguments[d];return o(void 0,[e,t,n,...i],void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4?arguments[4]:void 0;return function*(){const o=[t?{memcmp:{offset:l.GATEWAY_TOKEN_ACCOUNT_OWNER_FIELD_OFFSET,bytes:t.toBase58()}}:void 0,{memcmp:{offset:l.GATEWAY_TOKEN_ACCOUNT_GATEKEEPER_NETWORK_FIELD_OFFSET,bytes:n.toBase58()}},void 0!==i?{memcmp:{offset:l.GATEWAY_TOKEN_ACCOUNT_OWNER_FIELD_OFFSET,bytes:(0,s.encode)([i])}}:void 0].filter(Boolean),d=yield e.getProgramAccounts(u.PROGRAM_ID,{filters:o});if(!d)return[];return d.map((e=>{let{pubkey:t,account:n}=e;return(0,l.dataToGatewayToken)(c.GatewayTokenData.fromAccount(n.data),t)})).filter((e=>e.state!==a.State.REVOKED||r))}()}))};t.findGatewayTokensForOwnerAndNetwork=function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];return o(void 0,[e,t,n,...i],void 0,(function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;return function*(){const s=yield Promise.all(Array.from({length:o},((e,r)=>(0,l.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(t,n,r+i))));return(yield e.getMultipleAccountsInfo(s,u.SOLANA_COMMITMENT)).map(((e,t)=>[e,s[t]])).filter((e=>null!==e[0])).map((e=>{let[t,n]=e;return(0,l.dataToGatewayToken)(c.GatewayTokenData.fromAccount(t.data),n)})).filter((e=>e.state!==a.State.REVOKED||r)).sort(((e,t)=>e.isValid()===t.isValid()?0:e.isValid()?-1:1))}()}))};t.findGatewayToken=function(e,n,r){for(var i=arguments.length,a=new Array(i>3?i-3:0),s=3;s<i;s++)a[s-3]=arguments[s];return o(void 0,[e,n,r,...a],void 0,(function(e,n,r){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function*(){const o=yield(0,t.findGatewayTokensForOwnerAndNetwork)(e,n,r,i);return o.length>0?o[0]:null}()}))};t.onGatewayTokenChange=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.SOLANA_COMMITMENT;return e.onAccountChange(t,(e=>{const r=(0,l.dataToGatewayToken)(c.GatewayTokenData.fromAccount(e.data),t);n(r)}),r)};t.onGatewayToken=function(e,n,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.SOLANA_COMMITMENT,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=(0,l.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(n,r,a);return(0,t.onGatewayTokenChange)(e,s,i,o)};t.getGatewayToken=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=yield e.getAccountInfo(t,u.SOLANA_COMMITMENT);return n?(0,l.dataToGatewayToken)(c.GatewayTokenData.fromAccount(n.data),t):null}));t.featureExists=(e,t,n)=>o(void 0,void 0,void 0,(function*(){const r=(0,l.getFeatureAccountAddress)(t,n),i=yield e.getAccountInfo(r,u.SOLANA_COMMITMENT);return null!=i&&u.PROGRAM_ID.equals(i.owner)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name},t.byteSwap32=function(e){for(let n=0;n<e.length;n++)e[n]=(0,t.byteSwap)(e[n])},t.bytesToHex=function(e){(0,i.abytes)(e);let t="";for(let n=0;n<e.length;n++)t+=o[e[n]];return t},t.hexToBytes=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let i=0,o=0;i<n;i++,o+=2){const t=s(e.charCodeAt(o)),n=s(e.charCodeAt(o+1));if(void 0===t||void 0===n){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}r[i]=16*t+n}return r},t.asyncLoop=async function(e,n,r){let i=Date.now();for(let o=0;o<e;o++){r(o);const e=Date.now()-i;e>=0&&e<n||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=u,t.toBytes=c,t.concatBytes=function(){let e=0;for(let n=0;n<arguments.length;n++){const t=n<0||arguments.length<=n?void 0:arguments[n];(0,i.abytes)(t),e+=t.length}const t=new Uint8Array(e);for(let n=0,r=0;n<arguments.length;n++){const e=n<0||arguments.length<=n?void 0:arguments[n];t.set(e,r),r+=e.length}return t},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(c(t)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(c(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,n)=>e(n).update(c(t)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=t=>e(t),t},t.randomBytes=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(r.crypto&&"function"===typeof r.crypto.getRandomValues)return r.crypto.getRandomValues(new Uint8Array(e));if(r.crypto&&"function"===typeof r.crypto.randomBytes)return r.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const r=n(121),i=n(34);t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);t.rotr=(e,t)=>e<<32-t|e>>>t;t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e);const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const a={_0:48,_9:57,A:65,F:70,a:97,f:102};function s(e){return e>=a._0&&e<=a._9?e-a._0:e>=a.A&&e<=a.F?e-(a.A-10):e>=a.a&&e<=a.f?e-(a.a-10):void 0}function u(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function c(e){return"string"===typeof e&&(e=u(e)),(0,i.abytes)(e),e}t.nextTick=async()=>{};t.Hash=class{clone(){return this._cloneInto()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return s}));const r="IFRAME",i="WRAPPER",o="WRAPPER_CONTAINER",a="TESTID_IFRAME_CLOSE_BTN",s="CIVIC_PASS_IFRAME"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNegativeLE=void 0,t.mod=d,t.pow=f,t.pow2=function(e,t,n){let r=e;for(;t-- >i;)r*=r,r%=n;return r},t.invert=h,t.tonelliShanks=p,t.FpSqrt=y,t.validateField=function(e){const t=g.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,r.validateObject)(e,t)},t.FpPow=v,t.FpInvertBatch=E,t.FpDiv=function(e,t,n){return e.mul(t,"bigint"===typeof n?h(n,e.ORDER):e.inv(n))},t.FpLegendre=m,t.FpIsSquare=function(e){const t=m(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}},t.nLength=w,t.Field=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e<=i)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:u}=w(e,t);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:u,MASK:(0,r.bitMask)(s),ZERO:i,ONE:o,create:t=>d(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return i<=t&&t<e},is0:e=>e===i,isOdd:e=>(e&o)===o,neg:t=>d(-t,e),eql:(e,t)=>e===t,sqr:t=>d(t*t,e),add:(t,n)=>d(t+n,e),sub:(t,n)=>d(t-n,e),mul:(t,n)=>d(t*n,e),pow:(e,t)=>v(l,e,t),div:(t,n)=>d(t*h(n,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>h(t,e),sqrt:a.sqrt||(t=>(c||(c=y(e)),c(l,t))),invertBatch:e=>E(l,e),cmov:(e,t,n)=>n?t:e,toBytes:e=>n?(0,r.numberToBytesLE)(e,u):(0,r.numberToBytesBE)(e,u),fromBytes:e=>{if(e.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+e.length);return n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e)}});return Object.freeze(l)},t.FpSqrtOdd=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)},t.FpSqrtEven=function(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n},t.hashToPrivateScalar=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=(e=(0,r.ensureBytes)("privateHash",e)).length,a=w(t).nByteLength+8;if(a<24||i<a||i>1024)throw new Error("hashToPrivateScalar: expected "+a+"-1024 bytes of input, got "+i);return d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o},t.getFieldBytesLength=S,t.getMinHashLength=b,t.mapHashToField=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=e.length,a=S(t),s=b(t);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const u=d(n?(0,r.bytesToNumberLE)(e):(0,r.bytesToNumberBE)(e),t-o)+o;return n?(0,r.numberToBytesLE)(u,a):(0,r.numberToBytesBE)(u,a)};const r=n(18),i=BigInt(0),o=BigInt(1),a=BigInt(2),s=BigInt(3),u=BigInt(4),c=BigInt(5),l=BigInt(8);function d(e,t){const n=e%t;return n>=i?n:t+n}function f(e,t,n){if(t<i)throw new Error("invalid exponent, negatives unsupported");if(n<=i)throw new Error("invalid modulus");if(n===o)return i;let r=o;for(;t>i;)t&o&&(r=r*e%n),e=e*e%n,t>>=o;return r}function h(e,t){if(e===i)throw new Error("invert: expected non-zero number");if(t<=i)throw new Error("invert: expected positive modulus, got "+t);let n=d(e,t),r=t,a=i,s=o,u=o,c=i;for(;n!==i;){const e=r/n,t=r%n,i=a-u*e,o=s-c*e;r=n,n=t,a=u,s=c,u=i,c=o}if(r!==o)throw new Error("invert: does not exist");return d(a,t)}function p(e){const t=(e-o)/a;let n,r,s;for(n=e-o,r=0;n%a===i;n/=a,r++);for(s=a;s<e&&f(s,t,e)!==e-o;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===r){const t=(e+o)/u;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}const c=(n+o)/a;return function(e,i){if(e.pow(i,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=r,u=e.pow(e.mul(e.ONE,s),n),l=e.pow(i,c),d=e.pow(i,n);for(;!e.eql(d,e.ONE);){if(e.eql(d,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(d);t<a&&!e.eql(r,e.ONE);t++)r=e.sqr(r);const n=e.pow(u,o<<BigInt(a-t-1));u=e.sqr(n),l=e.mul(l,n),d=e.mul(d,u),a=t}return l}}function y(e){if(e%u===s){const t=(e+o)/u;return function(e,n){const r=e.pow(n,t);if(!e.eql(e.sqr(r),n))throw new Error("Cannot find square root");return r}}if(e%l===c){const t=(e-c)/l;return function(e,n){const r=e.mul(n,a),i=e.pow(r,t),o=e.mul(n,i),s=e.mul(e.mul(o,a),i),u=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(u),n))throw new Error("Cannot find square root");return u}}return p(e)}t.isNegativeLE=(e,t)=>(d(e,t)&o)===o;const g=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function v(e,t,n){if(n<i)throw new Error("invalid exponent, negatives unsupported");if(n===i)return e.ONE;if(n===o)return t;let r=e.ONE,a=t;for(;n>i;)n&o&&(r=e.mul(r,a)),a=e.sqr(a),n>>=o;return r}function E(e,t){const n=new Array(t.length),r=t.reduce(((t,r,i)=>e.is0(r)?t:(n[i]=t,e.mul(t,r))),e.ONE),i=e.inv(r);return t.reduceRight(((t,r,i)=>e.is0(r)?t:(n[i]=e.mul(t,n[i]),e.mul(t,r))),i),n}function m(e){const t=(e-o)/a;return(e,n)=>e.pow(n,t)}function w(e,t){const n=void 0!==t?t:e.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function S(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function b(e){const t=S(e);return t+Math.ceil(t/2)}},function(e,t){let n;const r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];t.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},t.getSymbolTotalCodewords=function(e){return r[e]},t.getBCHDigit=function(e){let t=0;for(;0!==e;)t++,e>>>=1;return t},t.setToSJISFunction=function(e){if("function"!==typeof e)throw new Error('"toSJISFunc" is not a valid function.');n=e},t.isKanjiModeEnabled=function(){return"undefined"!==typeof n},t.toSJIS=function(e){return n(e)}},function(e,t,n){const r=n(75),i=n(76);t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return i.testNumeric(e)?t.NUMERIC:i.testAlphanumeric(e)?t.ALPHANUMERIC:i.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(r){return n}}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return d}));var r=n(6),i=n(7);const o=Object(i.prefixLogger)("SolanaChainImplementation"),a=t=>r.Transaction.from(e.from(t,"base64")),s=["insufficient funds","custom program error: 0x1"],u=e=>(e=>!!s.map((t=>{var n;return null===(n=null===e||void 0===e?void 0:e.message)||void 0===n?void 0:n.toLowerCase().includes(t)})).includes(!0))(e)?(o.warn("parseTransactionErrorCode - INSUFFICIENT_FUNDS error detected",e),i.ErrorCode.INSUFFICIENT_FUNDS):(e=>{var t;return!!(null===(t=null===e||void 0===e?void 0:e.message)||void 0===t?void 0:t.toLowerCase().includes("user rejected"))})(e)?(o.warn("parseTransactionErrorCode - SIGN_TRANSACTION_USER_REJECTED_ERROR error detected",e),i.ErrorCode.SIGN_TRANSACTION_USER_REJECTED_ERROR):(e=>{var t,n;return!(!(null===(t=null===e||void 0===e?void 0:e.name)||void 0===t?void 0:t.toLowerCase().includes("walletsignmessageerror"))&&!(null===(n=null===e||void 0===e?void 0:e.message)||void 0===n?void 0:n.toLowerCase().includes("walletsignmessageerror")))})(e)?(o.warn("parseTransactionErrorCode - SIGN_TRANSACTION_ERROR error detected",e),i.ErrorCode.SIGN_TRANSACTION_ERROR):i.ErrorCode.SIGN_TRANSACTION_UNKNOWN_ERROR;class c extends Error{constructor(){super("TimeoutError"),Object.setPrototypeOf(this,c.prototype)}}const l=e=>new Promise(((t,n)=>setTimeout((()=>{n(new c)}),e))),d=async(e,t)=>Promise.race([l(t),e()])}).call(this,n(4).Buffer)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(0);const i={setVisible(e){console.error(o("call","setVisible"))},visible:!1};function o(e,t){return"You have tried to "+" ".concat(e,' "').concat(t,'"')+" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext"}Object.defineProperty(i,"visible",{get:()=>(console.error(o("read","visible")),!1)});const a=Object(r.createContext)(i);function s(){return Object(r.useContext)(a)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S}));var r=n(2),i=n(0),o=n.n(i),a=n(8),s=n.n(a),u=n(82),c=n(99),l=n(5),d=n(86),f=n(23),h=n(91),p=n(92),y=n(93);const g=o.a.createContext({requestGatewayToken:async()=>{},reinitialize:async()=>{},gatewayStatus:l.a.UNKNOWN});let v;v="undefined"!==typeof window?window:"undefined"!==typeof e?e:Function("return this")(),v.globalThis=v;const E=()=>{var e;return(null===(e=globalThis.window)||void 0===e?void 0:e.location.href)?encodeURIComponent(globalThis.window.location.href):"https://getpass.civic.com"},m=[l.b.DEBUG,l.b.INFO,l.b.WARN,l.b.ERROR],w=e=>{let{children:t=null,walletAddress:n,chainImplementation:o,wrapper:v,logo:w,stage:S="prod",reactComponentVersion:b,redirectUrl:_,gatekeeperNetwork:T,options:I={autoShowModal:!1},payer:R,gatekeeperSendsTransaction:N,expiryMarginSeconds:A=0,partnerAppId:O,forceRequireRefresh:k,expectTokenTimeoutSeconds:C,disableInitialGatekeeperLookup:x}=e;var M,P,L,D,U,j,G,F,B,z,W,H,K;const V=Object(a.prefixLogger)("GatewayProvider","gateway-client-react");if(V.setLogLevel)if(I.logLevel)V.setLogLevel(I.logLevel);else if("undefined"!==typeof globalThis.window){const e=new URLSearchParams(window.location.search).get("logLevel");m.includes(e)&&V.setLogLevel(e)}if(R&&N)throw Error("Cannot set payer when gatekeeperSendsTransaction is true");const[q,Y]=Object(i.useState)(),[Q,Z]=Object(i.useState)(!1),X=e=>{const t=c.a(Object.assign(Object.assign({},e),{gatewayStatus:Object(h.a)(null===e||void 0===e?void 0:e.gatewayStatus)}));V.debug("GatewayProvider.onOutputChange: setClientCoreOutput: ".concat(Y),t),Y(t)},J=new URLSearchParams((null===(M=globalThis.window)||void 0===M?void 0:M.location.search)||""),$=b||p.a,ee={postMessageTargetCallback:e=>{var t,n,r;return null===(r=null===(n=null===(t=globalThis.document)||void 0===t?void 0:t.getElementById)||void 0===n?void 0:n.call(t,"".concat(f.a,"_").concat(e)))||void 0===r?void 0:r.contentWindow},messageEventInterface:{addMessageEventListener:e=>window.addEventListener("message",e),removeMessageEventListener:e=>window.removeEventListener("message",e)},parameters:{wallet:n?{address:n}:void 0,xCivicClientHeader:$,stage:S,redirectUrl:_||E(),gatekeeperNetwork:T,options:I,payer:R,gatekeeperSendsTransaction:N,expiryMarginSeconds:A,partnerAppId:O,expectTokenTimeoutSeconds:C,disableInitialGatekeeperLookup:x,flowIdPrefix:"GWRC",referrer:J.get("referrer")||(null===(P=globalThis.document)||void 0===P?void 0:P.referrer),domain:null===(L=globalThis.window)||void 0===L?void 0:L.location.hostname},chainImplementation:o,fetchConfig:{fetchImplementation:fetch,numRetries:3},onOutputChange:X,dynamicParameters:{forceRequireRefresh:k}},te=Object(i.useRef)();Object(i.useEffect)((()=>{var e,t;const n=window.matchMedia("(prefers-color-scheme: dark)");return Z(n.matches),Object(a.hasRequiredInputs)(ee)?(Object(a.shouldUpdateInstance)(ee,te.current)&&(null===(t=te.current)||void 0===t||t.abort(),te.current=new s.a(ee)),()=>{var e;null===(e=te.current)||void 0===e||e.abort(),te.current=void 0}):(null===(e=te.current)||void 0===e||e.abort(),void(te.current=void 0))}),[JSON.stringify(Object(a.getInstanceInputObject)(ee))]),Object(i.useEffect)((()=>{n||te.current||(V.debug("GatewayProvider.onOutputChange undefined"),X(void 0))}),[n]),Object(i.useEffect)((()=>{var e;null===(e=te.current)||void 0===e||e.updateDynamicParameters({forceRequireRefresh:k})}),[k,null===(D=te.current)||void 0===D?void 0:D.instanceId]);const ne=()=>{V.warn("GatewayProvider.requestGatewayToken() called before the Gateway is ready")};return V.debug("GatewayProvider.render",{clientCoreOutput:q,gatewayClientCoreInst:te}),Object(y.a)(null===q||void 0===q?void 0:q.flowParameters,te.current),Object(r.jsx)(g.Provider,Object.assign({value:{civicPassSrcUrl:null===(U=null===q||void 0===q?void 0:q.ui)||void 0===U?void 0:U.url,requestGatewayToken:()=>{var e,t,n,r,i;return(null===(t=null===(e=te.current)||void 0===e?void 0:e.ui)||void 0===t?void 0:t.onShow)?null===(i=null===(r=null===(n=te.current)||void 0===n?void 0:n.ui)||void 0===r?void 0:r.onShow)||void 0===i?void 0:i.call(r):ne},reinitialize:()=>{var e,t;return(null===(e=te.current)||void 0===e?void 0:e.reset)?null===(t=te.current)||void 0===t?void 0:t.reset():()=>{}},gatewayStatus:(null===q||void 0===q?void 0:q.gatewayStatus)||l.a.UNKNOWN,gatewayToken:null===q||void 0===q?void 0:q.gatewayToken,gatewayTokenTransaction:null===q||void 0===q?void 0:q.gatewayTokenTransaction,pendingRequests:null===q||void 0===q?void 0:q.pendingRequests}},{children:Object(r.jsxs)(r.Fragment,{children:[t,(null===(j=null===q||void 0===q?void 0:q.ui)||void 0===j?void 0:j.url)&&(null===(G=te.current)||void 0===G?void 0:G.instanceId)&&Object(r.jsx)("div",Object.assign({"data-testid":f.e,hidden:!(null===(F=null===q||void 0===q?void 0:q.ui)||void 0===F?void 0:F.isVisible)},{children:Object(r.jsx)(d.a,Object.assign({"data-testid":f.d,onClose:()=>{var e,t,n;null===(n=null===(t=null===(e=te.current)||void 0===e?void 0:e.ui)||void 0===t?void 0:t.onHide)||void 0===n||n.call(t)},wrapper:v,logo:w,loaded:null===(B=null===q||void 0===q?void 0:q.ui)||void 0===B?void 0:B.isLoaded,loading:null===(z=null===q||void 0===q?void 0:q.ui)||void 0===z?void 0:z.isLoading},{children:Object(r.jsx)(u.a,{"data-testid":f.b,src:null===(W=null===q||void 0===q?void 0:q.ui)||void 0===W?void 0:W.url,id:"".concat(f.a,"_").concat(null===(H=te.current)||void 0===H?void 0:H.instanceId),style:{width:"1px",minWidth:"100%",border:"none",backgroundColor:Q?"rgb(30, 41, 59)":"rgb(255, 255, 255)",height:"26px",transition:"height 0.25s ease",pointerEvents:(null===(K=null===q||void 0===q?void 0:q.ui)||void 0===K?void 0:K.isLoading)?"none":"auto"},heightCalculationMethod:"min",checkOrigin:!1,onLoad:()=>{var e,t,n;null===(n=null===(t=null===(e=te.current)||void 0===e?void 0:e.ui)||void 0===t?void 0:t.onLoad)||void 0===n||n.call(t)},inPageLinks:!0,allow:"camera; screen-wake-lock",allowFullScreen:!0,frameBorder:"0"})}))}))]})}))},S=()=>Object(i.useContext)(g)}).call(this,n(29))},function(e,t,n){(function(e){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a="undefined"!==typeof window&&"undefined"!==typeof window.Buffer?window.Buffer:n(113).Buffer}catch(A){}function s(e,t){var n=e.charCodeAt(t);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+e)}function u(e,t,n){var r=s(e,n);return n-1>=t&&(r|=s(e,n-1)<<4),r}function c(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function l(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,n){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,o=0,a=0;if("be"===n)for(r=e.length-1;r>=t;r-=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;else for(r=(e.length-t)%2===0?t+1:t;r<e.length;r+=2)i=u(e,t,r)<<o,this.words[a]|=67108863&i,o>=18?(o-=18,a+=1,this.words[a]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,u=0,l=n;l<s;l+=r)u=c(e,l,l+r,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==a){var d=1;for(u=c(e,l,e.length,t),l=0;l<a;l++)d*=t;this.imuln(d),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){l(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch(A){o.prototype.inspect=d}else o.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,(i+=2)>=26&&(i-=26,a--),n=0!==o||a!==this.length-1?f[6-u.length]+u+n:u+n}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=h[e],l=p[e];n="";var d=this.clone();for(d.negative=0;!d.isZero();){var y=d.modrn(l).toString(e);n=(d=d.idivn(l)).isZero()?y+n:f[c-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function y(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,d=67108863&u,f=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=f;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+d)/67108864|0,d=67108863&a}n.words[c]=0|d,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var g=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],d=8191&l,f=l>>>13,h=0|a[1],p=8191&h,y=h>>>13,g=0|a[2],v=8191&g,E=g>>>13,m=0|a[3],w=8191&m,S=m>>>13,b=0|a[4],_=8191&b,T=b>>>13,I=0|a[5],R=8191&I,N=I>>>13,A=0|a[6],O=8191&A,k=A>>>13,C=0|a[7],x=8191&C,M=C>>>13,P=0|a[8],L=8191&P,D=P>>>13,U=0|a[9],j=8191&U,G=U>>>13,F=0|s[0],B=8191&F,z=F>>>13,W=0|s[1],H=8191&W,K=W>>>13,V=0|s[2],q=8191&V,Y=V>>>13,Q=0|s[3],Z=8191&Q,X=Q>>>13,J=0|s[4],$=8191&J,ee=J>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],de=8191&le,fe=le>>>13,he=0|s[9],pe=8191&he,ye=he>>>13;n.negative=e.negative^t.negative,n.length=19;var ge=(c+(r=Math.imul(d,B))|0)+((8191&(i=(i=Math.imul(d,z))+Math.imul(f,B)|0))<<13)|0;c=((o=Math.imul(f,z))+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(p,B),i=(i=Math.imul(p,z))+Math.imul(y,B)|0,o=Math.imul(y,z);var ve=(c+(r=r+Math.imul(d,H)|0)|0)+((8191&(i=(i=i+Math.imul(d,K)|0)+Math.imul(f,H)|0))<<13)|0;c=((o=o+Math.imul(f,K)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,r=Math.imul(v,B),i=(i=Math.imul(v,z))+Math.imul(E,B)|0,o=Math.imul(E,z),r=r+Math.imul(p,H)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(y,H)|0,o=o+Math.imul(y,K)|0;var Ee=(c+(r=r+Math.imul(d,q)|0)|0)+((8191&(i=(i=i+Math.imul(d,Y)|0)+Math.imul(f,q)|0))<<13)|0;c=((o=o+Math.imul(f,Y)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(w,B),i=(i=Math.imul(w,z))+Math.imul(S,B)|0,o=Math.imul(S,z),r=r+Math.imul(v,H)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(E,H)|0,o=o+Math.imul(E,K)|0,r=r+Math.imul(p,q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,q)|0,o=o+Math.imul(y,Y)|0;var me=(c+(r=r+Math.imul(d,Z)|0)|0)+((8191&(i=(i=i+Math.imul(d,X)|0)+Math.imul(f,Z)|0))<<13)|0;c=((o=o+Math.imul(f,X)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(_,B),i=(i=Math.imul(_,z))+Math.imul(T,B)|0,o=Math.imul(T,z),r=r+Math.imul(w,H)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(S,H)|0,o=o+Math.imul(S,K)|0,r=r+Math.imul(v,q)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(E,q)|0,o=o+Math.imul(E,Y)|0,r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,X)|0;var we=(c+(r=r+Math.imul(d,$)|0)|0)+((8191&(i=(i=i+Math.imul(d,ee)|0)+Math.imul(f,$)|0))<<13)|0;c=((o=o+Math.imul(f,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(R,B),i=(i=Math.imul(R,z))+Math.imul(N,B)|0,o=Math.imul(N,z),r=r+Math.imul(_,H)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(T,H)|0,o=o+Math.imul(T,K)|0,r=r+Math.imul(w,q)|0,i=(i=i+Math.imul(w,Y)|0)+Math.imul(S,q)|0,o=o+Math.imul(S,Y)|0,r=r+Math.imul(v,Z)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(E,Z)|0,o=o+Math.imul(E,X)|0,r=r+Math.imul(p,$)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,$)|0,o=o+Math.imul(y,ee)|0;var Se=(c+(r=r+Math.imul(d,ne)|0)|0)+((8191&(i=(i=i+Math.imul(d,re)|0)+Math.imul(f,ne)|0))<<13)|0;c=((o=o+Math.imul(f,re)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(O,B),i=(i=Math.imul(O,z))+Math.imul(k,B)|0,o=Math.imul(k,z),r=r+Math.imul(R,H)|0,i=(i=i+Math.imul(R,K)|0)+Math.imul(N,H)|0,o=o+Math.imul(N,K)|0,r=r+Math.imul(_,q)|0,i=(i=i+Math.imul(_,Y)|0)+Math.imul(T,q)|0,o=o+Math.imul(T,Y)|0,r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(S,Z)|0,o=o+Math.imul(S,X)|0,r=r+Math.imul(v,$)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(E,$)|0,o=o+Math.imul(E,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0;var be=(c+(r=r+Math.imul(d,oe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ae)|0)+Math.imul(f,oe)|0))<<13)|0;c=((o=o+Math.imul(f,ae)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(x,B),i=(i=Math.imul(x,z))+Math.imul(M,B)|0,o=Math.imul(M,z),r=r+Math.imul(O,H)|0,i=(i=i+Math.imul(O,K)|0)+Math.imul(k,H)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(R,q)|0,i=(i=i+Math.imul(R,Y)|0)+Math.imul(N,q)|0,o=o+Math.imul(N,Y)|0,r=r+Math.imul(_,Z)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(T,Z)|0,o=o+Math.imul(T,X)|0,r=r+Math.imul(w,$)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(S,$)|0,o=o+Math.imul(S,ee)|0,r=r+Math.imul(v,ne)|0,i=(i=i+Math.imul(v,re)|0)+Math.imul(E,ne)|0,o=o+Math.imul(E,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0;var _e=(c+(r=r+Math.imul(d,ue)|0)|0)+((8191&(i=(i=i+Math.imul(d,ce)|0)+Math.imul(f,ue)|0))<<13)|0;c=((o=o+Math.imul(f,ce)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(L,B),i=(i=Math.imul(L,z))+Math.imul(D,B)|0,o=Math.imul(D,z),r=r+Math.imul(x,H)|0,i=(i=i+Math.imul(x,K)|0)+Math.imul(M,H)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(O,q)|0,i=(i=i+Math.imul(O,Y)|0)+Math.imul(k,q)|0,o=o+Math.imul(k,Y)|0,r=r+Math.imul(R,Z)|0,i=(i=i+Math.imul(R,X)|0)+Math.imul(N,Z)|0,o=o+Math.imul(N,X)|0,r=r+Math.imul(_,$)|0,i=(i=i+Math.imul(_,ee)|0)+Math.imul(T,$)|0,o=o+Math.imul(T,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(S,ne)|0,o=o+Math.imul(S,re)|0,r=r+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,ae)|0)+Math.imul(E,oe)|0,o=o+Math.imul(E,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0;var Te=(c+(r=r+Math.imul(d,de)|0)|0)+((8191&(i=(i=i+Math.imul(d,fe)|0)+Math.imul(f,de)|0))<<13)|0;c=((o=o+Math.imul(f,fe)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(j,B),i=(i=Math.imul(j,z))+Math.imul(G,B)|0,o=Math.imul(G,z),r=r+Math.imul(L,H)|0,i=(i=i+Math.imul(L,K)|0)+Math.imul(D,H)|0,o=o+Math.imul(D,K)|0,r=r+Math.imul(x,q)|0,i=(i=i+Math.imul(x,Y)|0)+Math.imul(M,q)|0,o=o+Math.imul(M,Y)|0,r=r+Math.imul(O,Z)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,X)|0,r=r+Math.imul(R,$)|0,i=(i=i+Math.imul(R,ee)|0)+Math.imul(N,$)|0,o=o+Math.imul(N,ee)|0,r=r+Math.imul(_,ne)|0,i=(i=i+Math.imul(_,re)|0)+Math.imul(T,ne)|0,o=o+Math.imul(T,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(S,oe)|0,o=o+Math.imul(S,ae)|0,r=r+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(E,ue)|0,o=o+Math.imul(E,ce)|0,r=r+Math.imul(p,de)|0,i=(i=i+Math.imul(p,fe)|0)+Math.imul(y,de)|0,o=o+Math.imul(y,fe)|0;var Ie=(c+(r=r+Math.imul(d,pe)|0)|0)+((8191&(i=(i=i+Math.imul(d,ye)|0)+Math.imul(f,pe)|0))<<13)|0;c=((o=o+Math.imul(f,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(j,H),i=(i=Math.imul(j,K))+Math.imul(G,H)|0,o=Math.imul(G,K),r=r+Math.imul(L,q)|0,i=(i=i+Math.imul(L,Y)|0)+Math.imul(D,q)|0,o=o+Math.imul(D,Y)|0,r=r+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,X)|0,r=r+Math.imul(O,$)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(k,$)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(R,ne)|0,i=(i=i+Math.imul(R,re)|0)+Math.imul(N,ne)|0,o=o+Math.imul(N,re)|0,r=r+Math.imul(_,oe)|0,i=(i=i+Math.imul(_,ae)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,ae)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(S,ue)|0,o=o+Math.imul(S,ce)|0,r=r+Math.imul(v,de)|0,i=(i=i+Math.imul(v,fe)|0)+Math.imul(E,de)|0,o=o+Math.imul(E,fe)|0;var Re=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,r=Math.imul(j,q),i=(i=Math.imul(j,Y))+Math.imul(G,q)|0,o=Math.imul(G,Y),r=r+Math.imul(L,Z)|0,i=(i=i+Math.imul(L,X)|0)+Math.imul(D,Z)|0,o=o+Math.imul(D,X)|0,r=r+Math.imul(x,$)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(M,$)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(O,ne)|0,i=(i=i+Math.imul(O,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(R,oe)|0,i=(i=i+Math.imul(R,ae)|0)+Math.imul(N,oe)|0,o=o+Math.imul(N,ae)|0,r=r+Math.imul(_,ue)|0,i=(i=i+Math.imul(_,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,r=r+Math.imul(w,de)|0,i=(i=i+Math.imul(w,fe)|0)+Math.imul(S,de)|0,o=o+Math.imul(S,fe)|0;var Ne=(c+(r=r+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(E,pe)|0))<<13)|0;c=((o=o+Math.imul(E,ye)|0)+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,r=Math.imul(j,Z),i=(i=Math.imul(j,X))+Math.imul(G,Z)|0,o=Math.imul(G,X),r=r+Math.imul(L,$)|0,i=(i=i+Math.imul(L,ee)|0)+Math.imul(D,$)|0,o=o+Math.imul(D,ee)|0,r=r+Math.imul(x,ne)|0,i=(i=i+Math.imul(x,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(R,ue)|0,i=(i=i+Math.imul(R,ce)|0)+Math.imul(N,ue)|0,o=o+Math.imul(N,ce)|0,r=r+Math.imul(_,de)|0,i=(i=i+Math.imul(_,fe)|0)+Math.imul(T,de)|0,o=o+Math.imul(T,fe)|0;var Ae=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(S,pe)|0))<<13)|0;c=((o=o+Math.imul(S,ye)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(j,$),i=(i=Math.imul(j,ee))+Math.imul(G,$)|0,o=Math.imul(G,ee),r=r+Math.imul(L,ne)|0,i=(i=i+Math.imul(L,re)|0)+Math.imul(D,ne)|0,o=o+Math.imul(D,re)|0,r=r+Math.imul(x,oe)|0,i=(i=i+Math.imul(x,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(R,de)|0,i=(i=i+Math.imul(R,fe)|0)+Math.imul(N,de)|0,o=o+Math.imul(N,fe)|0;var Oe=(c+(r=r+Math.imul(_,pe)|0)|0)+((8191&(i=(i=i+Math.imul(_,ye)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ye)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(j,ne),i=(i=Math.imul(j,re))+Math.imul(G,ne)|0,o=Math.imul(G,re),r=r+Math.imul(L,oe)|0,i=(i=i+Math.imul(L,ae)|0)+Math.imul(D,oe)|0,o=o+Math.imul(D,ae)|0,r=r+Math.imul(x,ue)|0,i=(i=i+Math.imul(x,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(O,de)|0,i=(i=i+Math.imul(O,fe)|0)+Math.imul(k,de)|0,o=o+Math.imul(k,fe)|0;var ke=(c+(r=r+Math.imul(R,pe)|0)|0)+((8191&(i=(i=i+Math.imul(R,ye)|0)+Math.imul(N,pe)|0))<<13)|0;c=((o=o+Math.imul(N,ye)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(j,oe),i=(i=Math.imul(j,ae))+Math.imul(G,oe)|0,o=Math.imul(G,ae),r=r+Math.imul(L,ue)|0,i=(i=i+Math.imul(L,ce)|0)+Math.imul(D,ue)|0,o=o+Math.imul(D,ce)|0,r=r+Math.imul(x,de)|0,i=(i=i+Math.imul(x,fe)|0)+Math.imul(M,de)|0,o=o+Math.imul(M,fe)|0;var Ce=(c+(r=r+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ye)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(j,ue),i=(i=Math.imul(j,ce))+Math.imul(G,ue)|0,o=Math.imul(G,ce),r=r+Math.imul(L,de)|0,i=(i=i+Math.imul(L,fe)|0)+Math.imul(D,de)|0,o=o+Math.imul(D,fe)|0;var xe=(c+(r=r+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(j,de),i=(i=Math.imul(j,fe))+Math.imul(G,de)|0,o=Math.imul(G,fe);var Me=(c+(r=r+Math.imul(L,pe)|0)|0)+((8191&(i=(i=i+Math.imul(L,ye)|0)+Math.imul(D,pe)|0))<<13)|0;c=((o=o+Math.imul(D,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863;var Pe=(c+(r=Math.imul(j,pe))|0)+((8191&(i=(i=Math.imul(j,ye))+Math.imul(G,pe)|0))<<13)|0;return c=((o=Math.imul(G,ye))+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,u[0]=ge,u[1]=ve,u[2]=Ee,u[3]=me,u[4]=we,u[5]=Se,u[6]=be,u[7]=_e,u[8]=Te,u[9]=Ie,u[10]=Re,u[11]=Ne,u[12]=Ae,u[13]=Oe,u[14]=ke,u[15]=Ce,u[16]=xe,u[17]=Me,u[18]=Pe,0!==c&&(u[19]=c,n.length++),n};function v(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,d=(0|e.words[l])*(0|t.words[c]),f=67108863&d;s=67108863&(f=f+s|0),i+=(a=(a=a+(d/67108864|0)|0)+(f>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function E(e,t,n){return v(e,t,n)}function m(e,t){this.x=e,this.y=t}Math.imul||(g=y),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?g(this,e,t):n<63?y(this,e,t):n<1024?v(this,e,t):E(this,e,t)},m.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},m.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},m.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},m.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var d=u,f=c,h=0;h<a;h++){var p=n[l+h],y=r[l+h],g=n[l+h+a],v=r[l+h+a],E=d*g-f*v;v=d*v+f*g,g=E,n[l+h]=p+g,r[l+h]=y+v,n[l+h+a]=p-g,r[l+h+a]=y-v,h!==s&&(E=u*d-c*f,f=u*f+c*d,d=E)}},m.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},m.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},m.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},m.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},m.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},m.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),d=new Array(r),f=n.words;f.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,d,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*d[h];u[h]=s[h]*d[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,f,o,r,i),this.conjugate(f,o,r),this.normalize13b(f,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),E(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var d=0|this.words[c];this.words[c]=l<<26-o|d>>>o,l=d&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var d=u-1;d>=0;d--){var f=67108864*(0|r.words[i.length+d])+(0|r.words[i.length+d-1]);for(f=Math.min(f/a|0,67108863),r._ishlnsubmul(i,f,d);0!==r.negative;)f--,r.negative=0,r._ishlnsubmul(i,1,d),r.isZero()||(r.negative^=1);s&&(s.words[d]=f)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),d=t.clone();!t.isZero();){for(var f=0,h=1;0===(t.words[0]&h)&&f<26;++f,h<<=1);if(f>0)for(t.iushrn(f);f-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(d)),i.iushrn(1),a.iushrn(1);for(var p=0,y=1;0===(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(d)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var d=0,f=1;0===(n.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(n.iushrn(d);d-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new R(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var w={k256:null,p224:null,p192:null,p25519:null};function S(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function b(){S.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function _(){S.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function T(){S.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function I(){S.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function N(e){R.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}S.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},S.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},S.prototype.split=function(e,t){e.iushrn(this.n,0,t)},S.prototype.imulK=function(e){return e.imul(this.k)},i(b,S),b.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},b.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(_,S),i(T,S),i(I,S),I.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(w[e])return w[e];var t;if("k256"===e)t=new b;else if("p224"===e)t=new _;else if("p192"===e)t=new T;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new I}return w[e]=t,t},R.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},R.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},R.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(l(e,e.umod(this.m)._forceRed(this)),e)},R.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},R.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},R.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},R.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},R.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},R.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},R.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},R.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},R.prototype.isqr=function(e){return this.imul(e,e.clone())},R.prototype.sqr=function(e){return this.mul(e,e)},R.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var d=this.pow(l,i),f=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var y=h,g=0;0!==y.cmp(s);g++)y=y.redSqr();r(g<p);var v=this.pow(d,new o(1).iushln(p-g-1));f=f.redMul(v),d=v.redSqr(),h=h.redMul(d),p=g}return f},R.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},R.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var d=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==d||0!==a?(a<<=1,a|=d,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},R.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},R.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new N(e)},i(N,R),N.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},N.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},N.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},N.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},N.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,this)}).call(this,n(112)(e))},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return xe}));var r=n(58),i=n(0),o=n.n(i),a=n(88),s=n.n(a),u=n(89),c=n(90),l=n(62),d=n(59),f=n.n(d);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},y=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},g=Object.freeze([]),v=Object.freeze({});function E(e){return"function"==typeof e}function m(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var S="undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&(Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_ATTR)||"data-styled",b="undefined"!=typeof window&&"HTMLElement"in window,_=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof e&&void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&(void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY?"false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SC_DISABLE_SPEEDY:void 0!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&""!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&("false"!==Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY&&Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).SC_DISABLE_SPEEDY)));function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var I=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),R=new Map,N=new Map,A=1,O=function(e){if(R.has(e))return R.get(e);for(;N.has(A);)A++;var t=A++;return R.set(e,t),N.set(t,e),t},k=function(e){return N.get(e)},C=function(e,t){t>=A&&(A=t+1),R.set(e,t),N.set(t,e)},x="style["+S+'][data-styled-version="5.3.11"]',M=new RegExp("^"+S+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),P=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},L=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(M);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(C(c,u),P(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},D=function(){return n.nc},U=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(S))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(S,"active"),r.setAttribute("data-styled-version","5.3.11");var a=D();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},j=function(){function e(e){var t=this.element=U(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),G=function(){function e(e){var t=this.element=U(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),F=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),B=b,z={isServer:!b,useCSSOMInjection:!_},W=function(){function e(e,t,n){void 0===e&&(e=v),void 0===t&&(t={}),this.options=h({},z,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&b&&B&&(B=!1,function(e){for(var t=document.querySelectorAll(x),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(S)&&(L(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return O(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(h({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new F(i):r?new j(i):new G(i),new I(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(O(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(O(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(O(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=k(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=S+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),H=/(a)(d)/gi,K=function(e){return String.fromCharCode(e+(e>25?39:97))};function V(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=K(t%52)+n;return(K(t%52)+n).replace(H,"$1-$2")}var q=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Y=function(e){return q(5381,e)};function Q(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(E(n)&&!w(n))return!1}return!0}var Z=Y("5.3.11"),X=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&Q(e),this.componentId=t,this.baseHash=q(Z,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ye(this.rules,e,t,n).join(""),a=V(q(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=q(this.baseHash,n.hash),l="",d=0;d<u;d++){var f=this.rules[d];if("string"==typeof f)l+=f;else if(f){var h=ye(f,e,t,n),p=Array.isArray(h)?h.join(""):h;c=q(c,p+d),l+=p}}if(l){var y=V(c>>>0);if(!t.hasNameForId(r,y)){var g=n(l,"."+y,void 0,r);t.insertRules(r,y,g)}i.push(y)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,$=[":","[",".","#"];function ee(e){var t,n,r,i,o=void 0===e?v:e,a=o.options,s=void 0===a?v:a,c=o.plugins,l=void 0===c?g:c,d=new u.a(s),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,d){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===d?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==$.indexOf(o[n.length])||o.match(i)?e:"."+t};function y(e,o,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),d(a||!o?"":o,c)}return d.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),y.hash=l.length?l.reduce((function(e,t){return t.name||T(15),q(e,t.name)}),5381).toString():"",y}var te=o.a.createContext(),ne=(te.Consumer,o.a.createContext()),re=(ne.Consumer,new W),ie=ee();function oe(){return Object(i.useContext)(te)||re}function ae(){return Object(i.useContext)(ne)||ie}function se(e){var t=Object(i.useState)(e.stylisPlugins),n=t[0],r=t[1],a=oe(),u=Object(i.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(i.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return Object(i.useEffect)((function(){s()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),o.a.createElement(te.Provider,{value:u},o.a.createElement(ne.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=ie);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=ie),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,de=/^ms-/,fe=function(e){return"-"+e.toLowerCase()};function he(e){return ce.test(e)?e.replace(le,fe).replace(de,"-ms-"):e}var pe=function(e){return null==e||!1===e||""===e};function ye(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ye(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return pe(e)?"":w(e)?"."+e.styledComponentId:E(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ye(e(t),t,n,r):e instanceof ue?n?(e.inject(n,r),e.getName(r)):e:y(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!pe(t[a])&&(Array.isArray(t[a])&&t[a].isCss||E(t[a])?o.push(he(a)+":",t[a],";"):y(t[a])?o.push.apply(o,e(t[a],a)):o.push(he(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in c.a||r.startsWith("--")?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var ge=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return E(e)||y(e)?ge(ye(p(g,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:ge(ye(p(e,n)))}new Set;var Ee=function(e,t,n){return void 0===n&&(n=v),e.theme!==n.theme&&e.theme||t||n.theme},me=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function Se(e){return e.replace(me,"-").replace(we,"")}var be=function(e){return V(Y(e)>>>0)};function _e(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ie=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Re(e,t,n){var r=e[n];Te(t)&&Te(r)?Ne(r,t):e[n]=t}function Ne(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Te(a))for(var s in a)Ie(s)&&Re(e,a[s],s)}return e}var Ae=o.a.createContext();Ae.Consumer;var Oe={};function ke(e,t,n){var r=w(e),a=!_e(e),s=t.attrs,u=void 0===s?g:s,c=t.componentId,d=void 0===c?function(e,t){var n="string"!=typeof e?"sc":Se(e);Oe[n]=(Oe[n]||0)+1;var r=n+"-"+be("5.3.11"+n+Oe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):c,p=t.displayName,y=void 0===p?function(e){return _e(e)?"styled."+e:"Styled("+m(e)+")"}(e):p,S=t.displayName&&t.componentId?Se(t.displayName)+"-"+t.componentId:t.componentId||d,b=r&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,_=t.shouldForwardProp;r&&e.shouldForwardProp&&(_=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var T,I=new X(n,S,r?e.componentStyle:void 0),R=I.isStatic&&0===u.length,N=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,d=e.styledComponentId,f=e.target,p=function(e,t,n){void 0===e&&(e=v);var r=h({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in E(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(Ee(t,Object(i.useContext)(Ae),s)||v,t,o),y=p[0],g=p[1],m=function(e,t,n){var r=oe(),i=ae();return t?e.generateAndInjectStyles(v,r,i):e.generateAndInjectStyles(n,r,i)}(a,r,y),w=n,S=g.$as||t.$as||g.as||t.as||f,b=_e(S),_=g!==t?h({},t,{},g):t,T={};for(var I in _)"$"!==I[0]&&"as"!==I&&("forwardedAs"===I?T.as=_[I]:(c?c(I,l.a,S):!b||Object(l.a)(I))&&(T[I]=_[I]));return t.style&&g.style!==t.style&&(T.style=h({},t.style,{},g.style)),T.className=Array.prototype.concat(u,d,m!==d?m:null,t.className,g.className).filter(Boolean).join(" "),T.ref=w,Object(i.createElement)(S,T)}(T,e,t,R)};return N.displayName=y,(T=o.a.forwardRef(N)).attrs=b,T.componentStyle=I,T.displayName=y,T.shouldForwardProp=_,T.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):g,T.styledComponentId=S,T.target=r?e.target:e,T.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(_e(e)?e:Se(m(e)));return ke(e,h({},i,{attrs:b,componentId:o}),n)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?Ne({},e.defaultProps,t):t}}),Object.defineProperty(T,"toString",{value:function(){return"."+T.styledComponentId}}),a&&f()(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Ce=function(e){return function e(t,n,i){if(void 0===i&&(i=v),!Object(r.isValidElementType)(n))return T(1,String(n));var o=function(){return t(n,i,ve.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,h({},i,{},r))},o.attrs=function(r){return e(t,n,h({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(ke,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ce[e]=Ce(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Q(e),W.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ye(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=ve.apply(void 0,[e].concat(n)).join(""),o=be(i);return new ue(o,i)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=D();return"<style "+[n&&'nonce="'+n+'"',S+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[S]="",t["data-styled-version"]="5.3.11",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=D();return r&&(n.nonce=r),[o.a.createElement("style",h({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):o.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.a=Ce}).call(this,n(48))},function(e,t,n){"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function i(e){if(!((t=e)instanceof Uint8Array||ArrayBuffer.isView(t)&&"Uint8Array"===t.constructor.name))throw new Error("Uint8Array expected");for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0&&!r.includes(e.length))throw new Error("Uint8Array expected of length "+r+", got length="+e.length)}Object.defineProperty(t,"__esModule",{value:!0}),t.anumber=r,t.abytes=i,t.ahash=function(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)},t.aexists=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")},t.aoutput=function(e,t){i(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatewayTokenState=t.Revoked=t.Frozen=t.Active=t.GatewayTokenData=void 0;const r=n(6),i=n(36),o=n(51);class a extends i.Assignable{static fromAccount(e){return a.decode(e)}forAuthority(e){return new a(Object.assign(Object.assign({},this),{authority:o.AssignablePublicKey.fromPublicKey(e)}))}static empty(e){return new a({owner:o.AssignablePublicKey.fromPublicKey(e||r.Keypair.generate().publicKey)})}}t.GatewayTokenData=a;class s extends i.Assignable{}t.Active=s;class u extends i.Assignable{}t.Frozen=u;class c extends i.Assignable{}t.Revoked=c;class l extends i.Enum{}t.GatewayTokenState=l,i.SCHEMA.set(a,{kind:"struct",fields:[["version",[1]],["parentGatewayToken",{kind:"option",type:o.AssignablePublicKey}],["owner",o.AssignablePublicKey],["ownerIdentity",{kind:"option",type:o.AssignablePublicKey}],["gatekeeperNetwork",o.AssignablePublicKey],["issuingGatekeeper",o.AssignablePublicKey],["state",l],["expiry",{kind:"option",type:"u64"}]]}),i.SCHEMA.set(l,{kind:"enum",field:"enum",values:[["active",s],["frozen",u],["revoked",c]]}),i.SCHEMA.set(s,{kind:"struct",fields:[]}),i.SCHEMA.set(u,{kind:"struct",fields:[]}),i.SCHEMA.set(c,{kind:"struct",fields:[]})},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.Enum=t.Assignable=t.SCHEMA=void 0;const r=n(133);t.SCHEMA=new Map;class i{constructor(e){Object.keys(e).forEach((t=>{this[t]=e[t]}))}encode(){return e.from((0,r.serialize)(t.SCHEMA,this))}static decode(e){return(0,r.deserializeUnchecked)(t.SCHEMA,this,e)}}t.Assignable=i;t.Enum=class extends i{constructor(e){if(super(e),1!==Object.keys(e).length)throw new Error("Enum can only take single value");this.enum="",Object.keys(e).forEach((e=>{this.enum=e}))}}}).call(this,n(4).Buffer)},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureAccountAddress=t.numToBuffer=t.gatekeeperExists=t.removeAccountChangeListener=t.dataToGatewayToken=t.GATEWAY_TOKEN_ACCOUNT_GATEKEEPER_NETWORK_FIELD_OFFSET=t.GATEWAY_TOKEN_ACCOUNT_OWNER_FIELD_OFFSET=t.getGatewayTokenAddressForOwnerAndGatekeeperNetwork=t.getGatekeeperAccountAddress=void 0;const i=n(6),o=n(38),a=n(50),s=n(52);t.getGatekeeperAccountAddress=(t,n)=>i.PublicKey.findProgramAddressSync([t.toBuffer(),n.toBuffer(),e.from(o.GATEKEEPER_NONCE_SEED_STRING,"utf8")],o.PROGRAM_ID)[0];t.getGatewayTokenAddressForOwnerAndGatekeeperNetwork=function(n,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a>Math.pow(2,64))throw new Error("index must be < max(8 bytes) when calling getGatewayTokenAddressForOwnerAndGatekeeperNetwork.");const s=(0,t.numToBuffer)(a),u=e.concat([e.alloc(8-s.length,0),s]);if(u.length>8)throw new Error("Seed has length "+u.length+" instead of 8 when calling getGatewayTokenAddressForOwnerAndGatekeeperNetwork.");const c=[n.toBuffer(),e.from(o.GATEWAY_TOKEN_ADDRESS_SEED,"utf8"),u,r.toBuffer()];return i.PublicKey.findProgramAddressSync(c,o.PROGRAM_ID)[0]},t.GATEWAY_TOKEN_ACCOUNT_OWNER_FIELD_OFFSET=2,t.GATEWAY_TOKEN_ACCOUNT_GATEKEEPER_NETWORK_FIELD_OFFSET=35;t.dataToGatewayToken=(e,t)=>{var n;return new a.GatewayToken(e.issuingGatekeeper.toPublicKey(),e.gatekeeperNetwork.toPublicKey(),e.owner.toPublicKey(),function(e){if(e.active)return a.State.ACTIVE;if(e.revoked)return a.State.REVOKED;if(e.frozen)return a.State.FROZEN;throw new Error("Unrecognised state "+JSON.stringify(e))}(e.state),t,o.PROGRAM_ID,null===(n=e.expiry)||void 0===n?void 0:n.toNumber())};t.removeAccountChangeListener=(e,t)=>e.removeAccountChangeListener(t);t.gatekeeperExists=(e,n,i)=>r(void 0,void 0,void 0,(function*(){const r=(0,t.getGatekeeperAccountAddress)(n,i),a=yield e.getAccountInfo(r,o.SOLANA_COMMITMENT);return null!=a&&o.PROGRAM_ID.equals(a.owner)}));t.numToBuffer=t=>{const n=(e,t)=>0===e?t:(t.unshift(e%256),n(Math.floor(e/256),t));if(t<0)throw new Error("Cannot convert negative number to buffer");if(Number.isNaN(t))throw new Error("Cannot convert NaN to buffer");return 0===t?e.from([0]):e.from(n(t,[]))};t.getFeatureAccountAddress=(t,n)=>{const r=(0,s.mapEnumToFeatureName)(t.enum);return i.PublicKey.findProgramAddressSync([n.toBytes(),e.from(r,"utf8")],o.PROGRAM_ID)[0]}}).call(this,n(4).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_DERIVATION_SEED=t.SOLANA_TIMEOUT_FINALIZED=t.SOLANA_TIMEOUT_CONFIRMED=t.SOLANA_TIMEOUT_PROCESSED=t.DEFAULT_SOLANA_RETRIES=t.SOLANA_COMMITMENT=t.GATEWAY_TOKEN_ADDRESS_SEED=t.GATEKEEPER_NONCE_SEED_STRING=t.PROGRAM_ID=void 0;const r=n(6);t.PROGRAM_ID=new r.PublicKey("gatem74V238djXdzWnJf94Wo1DcnuGkfijbf3AuBhfs"),t.GATEKEEPER_NONCE_SEED_STRING="gatekeeper",t.GATEWAY_TOKEN_ADDRESS_SEED="gateway",t.SOLANA_COMMITMENT="confirmed",t.DEFAULT_SOLANA_RETRIES=3,t.SOLANA_TIMEOUT_PROCESSED=3e3,t.SOLANA_TIMEOUT_CONFIRMED=7e3,t.SOLANA_TIMEOUT_FINALIZED=1e4,t.DEFAULT_DERIVATION_SEED=e.from([0,0,0,0,0,0,0,0])}).call(this,n(4).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=t.SHA256=void 0;const r=n(68),i=n(22),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint32Array(64);class u extends r.HashMD{constructor(){super(64,32,8,!1),this.A=0|a[0],this.B=0|a[1],this.C=0|a[2],this.D=0|a[3],this.E=0|a[4],this.F=0|a[5],this.G=0|a[6],this.H=0|a[7]}get(){const{A:e,B:t,C:n,D:r,E:i,F:o,G:a,H:s}=this;return[e,t,n,r,i,o,a,s]}set(e,t,n,r,i,o,a,s){this.A=0|e,this.B=0|t,this.C=0|n,this.D=0|r,this.E=0|i,this.F=0|o,this.G=0|a,this.H=0|s}process(e,t){for(let r=0;r<16;r++,t+=4)s[r]=e.getUint32(t,!1);for(let r=16;r<64;r++){const e=s[r-15],t=s[r-2],n=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(t,17)^(0,i.rotr)(t,19)^t>>>10;s[r]=o+s[r-7]+n+s[r-16]|0}let{A:n,B:a,C:u,D:c,E:l,F:d,G:f,H:h}=this;for(let p=0;p<64;p++){const e=h+((0,i.rotr)(l,6)^(0,i.rotr)(l,11)^(0,i.rotr)(l,25))+(0,r.Chi)(l,d,f)+o[p]+s[p]|0,t=((0,i.rotr)(n,2)^(0,i.rotr)(n,13)^(0,i.rotr)(n,22))+(0,r.Maj)(n,a,u)|0;h=f,f=d,d=l,l=c+e|0,c=u,u=a,a=n,n=e+t|0}n=n+this.A|0,a=a+this.B|0,u=u+this.C|0,c=c+this.D|0,l=l+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,a,u,c,l,d,f,h)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.SHA256=u;class c extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new c))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0),i=n.n(r);const o=e=>i.a.createElement("button",{className:"wallet-adapter-button ".concat(e.className||""),disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&i.a.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&i.a.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),i=n(10),o=n(0),a=n.n(o);const s=["wallet"],u=e=>{let{wallet:t}=e,n=Object(i.a)(e,s);return t&&a.a.createElement("img",Object(r.a)({src:t.adapter.icon,alt:"".concat(t.adapter.name," icon")},n))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var r=n(0);const i=Object(r.createContext)({});function o(){return Object(r.useContext)(i)}},function(e,t,n){"use strict";(function(e){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const u=s(n(31)),c=s(n(11)),l=a(n(66)),d=new("function"!==typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(t){return"string"===typeof t&&(t=e.from(t,"utf8")),c.default.encode(e.from(t))},t.baseDecode=function(t){return e.from(c.default.decode(t))};const f=1024;class h extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=h;class p{constructor(){this.buf=e.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=e.concat([this.buf,e.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(e.from(new u.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(e.from(new u.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(e.from(new u.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(e.from(new u.default(t).toArray("le",64)))}writeBuffer(t){this.buf=e.concat([e.from(this.buf.subarray(0,this.length)),t,e.alloc(f)]),this.length+=t.length}writeString(t){this.maybeResize();const n=e.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(e.from(t))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new h("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=p;class g{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new u.default(e,"le")}readU128(){const e=this.readBuffer(16);return new u.default(e,"le")}readU256(){const e=this.readBuffer(32);return new u.default(e,"le")}readU512(){const e=this.readBuffer(64);return new u.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new h("Expected buffer length ".concat(e," isn't within bounds"));const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return d.decode(t)}catch(n){throw new h("Error decoding UTF-8 string: ".concat(n))}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function v(e){return e.charAt(0).toUpperCase()+e.slice(1)}function E(e,t,n,r,i){try{if("string"===typeof r)i["write".concat(v(r))](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new h("Expecting byte array of length ".concat(r[0],", but got ").concat(n.length," bytes"));i.writeFixedArray(n)}else if(2===r.length&&"number"===typeof r[1]){if(n.length!==r[1])throw new h("Expecting byte array of length ".concat(r[1],", but got ").concat(n.length," bytes"));for(let t=0;t<r[1];t++)E(e,null,n[t],r[0],i)}else i.writeArray(n,(n=>{E(e,t,n,r[0],i)}));else if(void 0!==r.kind)switch(r.kind){case"option":null===n||void 0===n?i.writeU8(0):(i.writeU8(1),E(e,t,n,r.type,i));break;case"map":i.writeU32(n.size),n.forEach(((n,o)=>{E(e,t,o,r.key,i),E(e,t,n,r.value,i)}));break;default:throw new h("FieldType ".concat(r," unrecognized"))}else m(e,n,i)}catch(o){throw o instanceof h&&o.addToFieldPath(t),o}}function m(e,t,n){if("function"===typeof t.borshSerialize)return void t.borshSerialize(n);const r=e.get(t.constructor);if(!r)throw new h("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;E(e,i,t[i],o,n)}));else{if("enum"!==r.kind)throw new h("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name));{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[a,s]=r.values[o];if(a===i){n.writeU8(o),E(e,a,t[a],s,n);break}}}}}function w(e,t,n,r){try{if("string"===typeof n)return r["read".concat(v(n))]();if(n instanceof Array){if("number"===typeof n[0])return r.readFixedArray(n[0]);if("number"===typeof n[1]){const t=[];for(let i=0;i<n[1];i++)t.push(w(e,null,n[0],r));return t}return r.readArray((()=>w(e,t,n[0],r)))}if("option"===n.kind){return r.readU8()?w(e,t,n.type,r):void 0}if("map"===n.kind){let i=new Map;const o=r.readU32();for(let a=0;a<o;a++){const o=w(e,t,n.key,r),a=w(e,t,n.value,r);i.set(o,a)}return i}return S(e,n,r)}catch(i){throw i instanceof h&&i.addToFieldPath(t),i}}function S(e,t,n){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new h("Class ".concat(t.name," is missing in schema"));if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=w(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new h("Enum index: ".concat(i," is out of range"));const[o,a]=r.values[i],s=w(e,o,a,n);return new t({[o]:s})}throw new h("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name))}o([y],g.prototype,"readU8",null),o([y],g.prototype,"readU16",null),o([y],g.prototype,"readU32",null),o([y],g.prototype,"readU64",null),o([y],g.prototype,"readU128",null),o([y],g.prototype,"readU256",null),o([y],g.prototype,"readU512",null),o([y],g.prototype,"readString",null),o([y],g.prototype,"readFixedArray",null),o([y],g.prototype,"readArray",null),t.BinaryReader=g,t.serialize=function(e,t){const n=new(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p);return m(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:g)(n),i=S(e,t,r);if(r.offset<n.length)throw new h("Unexpected ".concat(n.length-r.offset," bytes after deserialized data"));return i},t.deserializeUnchecked=function(e,t,n){return S(e,t,new(arguments.length>3&&void 0!==arguments[3]?arguments[3]:g)(n))}}).call(this,n(4).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.toBigIntLE=function(t){{const n=e.from(t);n.reverse();const r=n.toString("hex");return 0===r.length?BigInt(0):BigInt("0x".concat(r))}},t.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt("0x".concat(t))}},t.toBufferLE=function(t,n){{const r=t.toString(16),i=e.from(r.padStart(2*n,"0").slice(0,2*n),"hex");return i.reverse(),i}},t.toBufferBE=function(t,n){{const r=t.toString(16);return e.from(r.padStart(2*n,"0").slice(0,2*n),"hex")}}}).call(this,n(4).Buffer)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const r=n(39),i=n(22),o=n(124),a=n(70),s=n(24),u=n(18),c=n(71),l=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),d=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),f=BigInt(1),h=BigInt(2),p=(e,t)=>(e+t/h)/t;function y(e){const t=l,n=BigInt(3),r=BigInt(6),i=BigInt(11),o=BigInt(22),a=BigInt(23),u=BigInt(44),c=BigInt(88),d=e*e*e%t,f=d*d*e%t,p=(0,s.pow2)(f,n,t)*f%t,y=(0,s.pow2)(p,n,t)*f%t,v=(0,s.pow2)(y,h,t)*d%t,E=(0,s.pow2)(v,i,t)*v%t,m=(0,s.pow2)(E,o,t)*E%t,w=(0,s.pow2)(m,u,t)*m%t,S=(0,s.pow2)(w,c,t)*w%t,b=(0,s.pow2)(S,u,t)*m%t,_=(0,s.pow2)(b,n,t)*f%t,T=(0,s.pow2)(_,a,t)*E%t,I=(0,s.pow2)(T,r,t)*d%t,R=(0,s.pow2)(I,h,t);if(!g.eql(g.sqr(R),e))throw new Error("Cannot find square root");return R}const g=(0,s.Field)(l,void 0,void 0,{sqrt:y});t.secp256k1=(0,o.createCurve)({a:BigInt(0),b:BigInt(7),Fp:g,n:d,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=d,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-f*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),u=p(o*e,t),c=p(-r*e,t);let l=(0,s.mod)(e-u*n-c*i,t),h=(0,s.mod)(-u*r-c*o,t);const y=l>a,g=h>a;if(y&&(l=t-l),g&&(h=t-h),l>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:y,k1:l,k2neg:g,k2:h}}}},r.sha256);const v=BigInt(0),E={};function m(e){let t=E[e];if(void 0===t){const n=(0,r.sha256)(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=(0,u.concatBytes)(n,n),E[e]=t}for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(0,r.sha256)((0,u.concatBytes)(t,...i))}const w=e=>e.toRawBytes(!0).slice(1),S=e=>(0,u.numberToBytesBE)(e,32),b=e=>(0,s.mod)(e,l),_=e=>(0,s.mod)(e,d),T=t.secp256k1.ProjectivePoint;function I(e){let n=t.secp256k1.utils.normPrivateKeyToScalar(e),r=T.fromPrivateKey(n);return{scalar:r.hasEvenY()?n:_(-n),bytes:w(r)}}function R(e){(0,u.aInRange)("x",e,f,l);const t=b(e*e);let n=y(b(t*e+BigInt(7)));n%h!==v&&(n=b(-n));const r=new T(e,n,f);return r.assertValidity(),r}const N=u.bytesToNumberBE;function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _(N(m("BIP0340/challenge",...t)))}function O(e){return I(e).bytes}function k(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,i.randomBytes)(32);const r=(0,u.ensureBytes)("message",e),{bytes:o,scalar:a}=I(t),s=(0,u.ensureBytes)("auxRand",n,32),c=S(a^N(m("BIP0340/aux",s))),l=m("BIP0340/nonce",c,o,r),d=_(N(l));if(d===v)throw new Error("sign failed: k is zero");const{bytes:f,scalar:h}=I(d),p=A(f,o,r),y=new Uint8Array(64);if(y.set(f,0),y.set(S(_(h+p*a)),32),!C(y,r,o))throw new Error("sign: Invalid signature produced");return y}function C(e,t,n){const r=(0,u.ensureBytes)("signature",e,64),i=(0,u.ensureBytes)("message",t),o=(0,u.ensureBytes)("publicKey",n,32);try{const e=R(N(o)),t=N(r.subarray(0,32));if(!(0,u.inRange)(t,f,l))return!1;const n=N(r.subarray(32,64));if(!(0,u.inRange)(n,f,d))return!1;const h=A(S(t),w(e),i),p=(a=e,s=n,c=_(-h),T.BASE.multiplyAndAddUnsafe(a,s,c));return!(!p||!p.hasEvenY()||p.toAffine().x!==t)}catch(h){return!1}var a,s,c}t.schnorr={getPublicKey:O,sign:k,verify:C,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:R,pointToBytes:w,numberToBytesBE:u.numberToBytesBE,bytesToNumberBE:u.bytesToNumberBE,taggedHash:m,mod:s.mod}};const x=(()=>(0,a.isogenyMap)(g,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map((e=>e.map((e=>BigInt(e)))))))(),M=(()=>(0,c.mapToCurveSimpleSWU)(g,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:g.create(BigInt("-11"))}))(),P=(()=>(0,a.createHasher)(t.secp256k1.ProjectivePoint,(e=>{const{x:t,y:n}=M(g.create(e[0]));return x(t,n)}),{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:g.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}))();t.hashToCurve=P.hashToCurve,t.encodeToCurve=P.encodeToCurve},function(e,t,n){"use strict";function r(e){return"version"in e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return T}));const r="@civic/solana-gateway-react:1.2.4";var i=n(30),o=n(5),a=n(32),s=n(2),u=n(33),c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var d=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var f=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};var h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const p={width:"25px",height:"25px",fill:"#3AB03E",position:"absolute",left:"15px",top:"10px"};Object(s.jsx)((e=>{var t=c(e,[]);return Object(s.jsxs)("svg",Object.assign({width:"46",height:"46",viewBox:"0 0 46 46",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:[Object(s.jsx)("path",{d:"M40.8526 28.6242C39.9579 35.5669 34.01 40.9501 26.8238 40.9501H18.845C11.0429 40.9501 4.69549 34.6062 4.69549 26.8085V18.8345C4.69549 11.0368 11.0429 4.69298 18.845 4.69298H26.8238C34.01 4.69298 39.9577 10.0763 40.8526 17.019H45.5795C44.6624 7.48238 36.602 0 26.8238 0H18.845C8.45384 0 0 8.44921 0 18.8345V26.8085C0 37.194 8.45386 45.643 18.845 45.643H26.8238C36.602 45.643 44.6624 38.1605 45.5795 28.6242H40.8526Z",fill:"#FF6B4E"}),Object(s.jsx)("path",{d:"M9.44088 5.39129C9.44088 2.84845 7.3785 0.787231 4.83422 0.787231C2.29008 0.787231 0.227539 2.84843 0.227539 5.39129C0.227539 7.17054 1.23907 8.71115 2.7173 9.47765L1.01 16.8562H8.65842L6.95128 9.47765C8.42934 8.71115 9.44088 7.17054 9.44088 5.39129Z",fill:"#FF6B4E",transform:"translate(18.23,14.79)"})]}))}),{style:p}),Object(s.jsx)((e=>{var t=l(e,[]);return Object(s.jsx)("svg",Object.assign({height:"60",viewBox:"0 0 60 60",width:"60",xmlns:"http://www.w3.org/2000/svg"},t,{children:Object(s.jsx)("path",{fill:"#9f4c4c",fillRule:"evenodd",d:"M390.774,690a3.994,3.994,0,0,1,2.824,1.17l15.231,15.23A4,4,0,0,1,410,709.233v21.534a4,4,0,0,1-1.172,2.831L393.6,748.828A3.989,3.989,0,0,1,390.774,750H369.225a3.989,3.989,0,0,1-2.824-1.171l-15.23-15.23A3.994,3.994,0,0,1,350,730.767V709.233a4,4,0,0,1,1.173-2.832l15.23-15.23a3.994,3.994,0,0,1,2.824-1.17h21.549ZM395,729.951A3.406,3.406,0,0,1,395,734.77l-0.22.22a3.42,3.42,0,0,1-4.833,0l-8.764-8.755a1.71,1.71,0,0,0-2.417,0l-8.741,8.746a3.417,3.417,0,0,1-4.836,0l-0.194-.193a3.408,3.408,0,0,1,.017-4.842l8.834-8.735a1.7,1.7,0,0,0,0-2.43l-8.831-8.725a3.409,3.409,0,0,1-.018-4.844l0.193-.193a3.411,3.411,0,0,1,2.418-1c0.944,0,3.255,1.835,3.872,2.455l7.286,7.287a1.708,1.708,0,0,0,2.417,0l8.764-8.748a3.417,3.417,0,0,1,4.831,0L395,705.243a3.406,3.406,0,0,1,0,4.818l-8.727,8.737a1.7,1.7,0,0,0,0,2.407Z",id:"error",transform:"translate(-350 -690)"})}))}),{style:p}),Object(s.jsx)((e=>{var t=d(e,[]);return Object(s.jsxs)("svg",Object.assign({width:"120",height:"30",viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:"#fff"},t,{children:[Object(s.jsxs)("circle",Object.assign({fill:"#FF6B4E",cx:"15",cy:"15",r:"15"},{children:[Object(s.jsx)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),Object(s.jsx)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]})),Object(s.jsxs)("circle",Object.assign({fill:"#FF6B4E",cx:"60",cy:"15",r:"9",fillOpacity:"0.3"},{children:[Object(s.jsx)("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),Object(s.jsx)("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]})),Object(s.jsxs)("circle",Object.assign({fill:"#FF6B4E",cx:"105",cy:"15",r:"15"},{children:[Object(s.jsx)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),Object(s.jsx)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]}))]}))}),{style:p}),Object(s.jsx)((e=>{var t=f(e,[]);return Object(s.jsxs)("svg",Object.assign({id:"Layer_1",version:"1.1",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg"},t,{children:[Object(s.jsx)("g",{children:Object(s.jsx)("circle",{fill:"#31AF91",cx:"64",cy:"64",r:"64"})}),Object(s.jsx)("g",{children:Object(s.jsx)("path",{fill:"#FFFFFF",cx:"64",cy:"64",r:"64",d:"M54.3,97.2L24.8,67.7c-0.4-0.4-0.4-1,0-1.4l8.5-8.5c0.4-0.4,1-0.4,1.4,0L55,78.1l38.2-38.2   c0.4-0.4,1-0.4,1.4,0l8.5,8.5c0.4,0.4,0.4,1,0,1.4L55.7,97.2C55.3,97.6,54.7,97.6,54.3,97.2z"})})]}))}),{style:p}),Object(s.jsx)((e=>{var t=h(e,[]);return Object(s.jsx)("svg",Object.assign({baseProfile:"tiny",height:"24px",id:"Layer_1",version:"1.2",viewBox:"0 0 24 24",width:"24px",xmlns:"http://www.w3.org/2000/svg"},t,{children:Object(s.jsx)("path",{fill:"#f0c60b",d:"M21.171,15.398l-5.912-9.854C14.483,4.251,13.296,3.511,12,3.511s-2.483,0.74-3.259,2.031l-5.912,9.856  c-0.786,1.309-0.872,2.705-0.235,3.83C3.23,20.354,4.472,21,6,21h12c1.528,0,2.77-0.646,3.406-1.771  C22.043,18.104,21.957,16.708,21.171,15.398z M12,17.549c-0.854,0-1.55-0.695-1.55-1.549c0-0.855,0.695-1.551,1.55-1.551  s1.55,0.696,1.55,1.551C13.55,16.854,12.854,17.549,12,17.549z M13.633,10.125c-0.011,0.031-1.401,3.468-1.401,3.468  c-0.038,0.094-0.13,0.156-0.231,0.156s-0.193-0.062-0.231-0.156l-1.391-3.438C10.289,9.922,10.25,9.712,10.25,9.5  c0-0.965,0.785-1.75,1.75-1.75s1.75,0.785,1.75,1.75C13.75,9.712,13.711,9.922,13.633,10.125z"})}))}),{style:p});var y;u.a.button(y||(y=Object(a.a)(["\n  width: 180px;\n  background-color: #282c34;\n  outline: none;\n  border: 1px solid #434343;\n  height: 50px;\n  line-height: 20px;\n  cursor: pointer;\n  position: relative;\n  &:disabled {\n    opacity: 0.7;\n    cursor: default;\n  }\n  &:active {\n    top: 1px;\n  }\n  &:disabled:active {\n    top: 0px;\n  }\n"])));var g;!function(e){e[e.LIGHT=0]="LIGHT",e[e.DARK=1]="DARK"}(g||(g={}));var v=n(8),E=(n(21),n(0));var m=n(6),w=n(94);const S=()=>{const{gatewayToken:e,gatewayTokenTransaction:t}=Object(i.b)(),n=e?{issuingGatekeeper:new m.PublicKey(e.issuingGatekeeper),gatekeeperNetworkAddress:new m.PublicKey(e.gatekeeperNetworkAddress),owner:new m.PublicKey(e.owner),state:e.state,publicKey:new m.PublicKey(e.identifier),expiryTime:e.expiryTime}:void 0,r=t?Object(w.a)(t):void 0;return Object.assign(Object.assign({},Object(i.b)()),{gatewayToken:n,gatewayTokenTransaction:r})};var b=n(73);const _=Object(v.prefixLogger)("SolanaGatewayProvider").info,T=e=>{let{children:t=null,wallet:n,connection:o,cluster:a="mainnet-beta",gatekeeperNetwork:u,wrapper:c,logo:l,stage:d="prod",redirectUrl:f,gatekeeperSendsTransaction:h,payer:p,handleTransaction:y,expiryMarginSeconds:g,options:v,partnerAppId:m,forceRequireRefresh:w,hideWalletPrompts:S}=e;var T;if(p&&h)throw Error("Cannot set payer when gatekeeperSendsTransaction is true");const I=Object(E.useMemo)((()=>{var e;return{walletAddress:null===(e=null===n||void 0===n?void 0:n.publicKey)||void 0===e?void 0:e.toBase58(),chainImplementation:(null===n||void 0===n?void 0:n.publicKey)&&(null===n||void 0===n?void 0:n.signTransaction)&&d&&(null===u||void 0===u?void 0:u.toBase58())?new b.a({connection:o,cluster:a,publicKey:n.publicKey,signTransaction:n.signTransaction,signMessage:n.signMessage,gatekeeperNetworkAddress:u,stage:d,handleTransaction:y}):void 0,stage:d,gatekeeperNetwork:null===u||void 0===u?void 0:u.toBase58(),options:Object.assign(Object.assign({},v),{clientSendsMaxRetries:(null===v||void 0===v?void 0:v.clientSendsMaxRetries)||1}),gatekeeperSendsTransaction:h,expiryMarginSeconds:g,partnerAppId:m,disableInitialGatekeeperLookup:["tigoYhp9SpCDoCQmXGj2im5xa3mnjR1zuXrpCJ5ZRmi","ignREusXmGrscGNUesoU9mxfds9AiYTezUKex2PsZV6"].includes((null===u||void 0===u?void 0:u.toBase58())||""),payer:null===p||void 0===p?void 0:p.toBase58(),hideWalletPrompts:S}}),[null===(T=null===n||void 0===n?void 0:n.publicKey)||void 0===T?void 0:T.toBase58(),null===o||void 0===o?void 0:o.rpcEndpoint,a,d,null===u||void 0===u?void 0:u.toBase58(),y,JSON.stringify(v),h,g,m,p,S]);return Object(E.useEffect)((()=>{_("Client Options",Object.assign(Object.assign({},I),{forceRequireRefresh:w}))}),[I,w]),Object(s.jsx)(i.a,Object.assign({walletAddress:I.walletAddress,chainImplementation:I.chainImplementation,stage:I.stage,gatekeeperNetwork:I.gatekeeperNetwork,options:I.options,gatekeeperSendsTransaction:!!I.gatekeeperSendsTransaction,expiryMarginSeconds:I.expiryMarginSeconds,partnerAppId:I.partnerAppId,disableInitialGatekeeperLookup:I.disableInitialGatekeeperLookup,payer:I.payer,redirectUrl:f,logo:l,reactComponentVersion:r,wrapper:c,forceRequireRefresh:w,expectTokenTimeoutSeconds:30},{children:t}))};console.log(r)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,d=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):d=-1,c.length&&h())}function h(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++d<t;)u&&u[d].run();d=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function y(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.wNAF=function(e,t){return{constTimeNegate:u,hasPrecomputes:e=>1!==y(e),unsafeLadder(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ZERO,i=t;for(;n>a;)n&s&&(r=r.add(i)),i=i.double(),n>>=s;return r},precomputeWindow(e,n){const{windows:r,windowSize:i}=l(n,t),o=[];let a=e,s=a;for(let t=0;t<r;t++){s=a,o.push(s);for(let e=1;e<i;e++)s=s.add(a),o.push(s);a=s.double()}return o},wNAF(n,r,i){const{windows:o,windowSize:a}=l(n,t);let c=e.ZERO,d=e.BASE;const f=BigInt(2**n-1),h=2**n,p=BigInt(n);for(let e=0;e<o;e++){const t=e*a;let n=Number(i&f);i>>=p,n>a&&(n-=h,i+=s);const o=t,l=t+Math.abs(n)-1,y=e%2!==0,g=n<0;0===n?d=d.add(u(y,r[o])):c=c.add(u(g,r[l]))}return{p:c,f:d}},wNAFUnsafe(n,r,i){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.ZERO;const{windows:u,windowSize:c}=l(n,t),d=BigInt(2**n-1),f=2**n,h=BigInt(n);for(let e=0;e<u;e++){const t=e*c;if(i===a)break;let n=Number(i&d);if(i>>=h,n>c&&(n-=f,i+=s),0===n)continue;let u=r[t+Math.abs(n)-1];n<0&&(u=u.negate()),o=o.add(u)}return o},getPrecomputes(e,t,n){let r=h.get(t);return r||(r=this.precomputeWindow(t,e),1!==e&&h.set(t,n(r))),r},wNAFCached(e,t,n){const r=y(e);return this.wNAF(r,this.getPrecomputes(r,e,n),t)},wNAFCachedUnsafe(e,t,n,r){const i=y(e);return 1===i?this.unsafeLadder(e,t,r):this.wNAFUnsafe(i,this.getPrecomputes(i,e,n),t,r)},setWindowSize(e,n){c(n,t),p.set(e,n),h.delete(e)}}},t.pippenger=function(e,t,n,r){if(d(n,e),f(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,a=(0,o.bitLen)(BigInt(n.length)),s=a>12?a-3:a>4?a-2:a?2:1,u=(1<<s)-1,c=new Array(u+1).fill(i),l=Math.floor((t.BITS-1)/s)*s;let h=i;for(let o=l;o>=0;o-=s){c.fill(i);for(let t=0;t<r.length;t++){const e=r[t],i=Number(e>>BigInt(o)&BigInt(u));c[i]=c[i].add(n[t])}let e=i;for(let t=c.length-1,n=i;t>0;t--)n=n.add(c[t]),e=e.add(n);if(h=h.add(e),0!==o)for(let t=0;t<s;t++)h=h.double()}return h},t.precomputeMSMUnsafe=function(e,t,n,r){c(r,t.BITS),d(n,e);const i=e.ZERO,o=2**r-1,a=Math.ceil(t.BITS/r),s=BigInt((1<<r)-1),u=n.map((e=>{const t=[];for(let n=0,r=e;n<o;n++)t.push(r),r=r.add(e);return t}));return e=>{if(f(e,t),e.length>n.length)throw new Error("array of scalars must be smaller than array of points");let o=i;for(let t=0;t<a;t++){if(o!==i)for(let e=0;e<r;e++)o=o.double();const n=BigInt(a*r-(t+1)*r);for(let t=0;t<e.length;t++){const r=e[t],i=Number(r>>n&s);i&&(o=o.add(u[t][i-1]))}}return o}},t.validateBasic=function(e){return(0,i.validateField)(e.Fp),(0,o.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze(r(r(r({},(0,i.nLength)(e.n,e.nBitLength)),e),{p:e.Fp.ORDER}))};const i=n(24),o=n(18),a=BigInt(0),s=BigInt(1);function u(e,t){const n=t.negate();return e?n:t}function c(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function l(e,t){c(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function d(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,n)=>{if(!(e instanceof t))throw new Error("invalid point at index "+n)}))}function f(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,n)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+n)}))}const h=new WeakMap,p=new WeakMap;function y(e){return p.get(e)||1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GatewayToken=t.State=void 0;const r=n(35),i=n(37);var o;!function(e){e.ACTIVE="ACTIVE",e.REVOKED="REVOKED",e.FROZEN="FROZEN"}(o||(t.State=o={}));class a{constructor(e,t,n,r,i,o,a){this.issuingGatekeeper=e,this.gatekeeperNetwork=t,this.owner=n,this.state=r,this.publicKey=i,this.programId=o,this.expiryTime=a}isValid(){return this.state===o.ACTIVE&&!this.hasExpired()}hasExpired(){const e=Math.floor(Date.now()/1e3);return!!this.expiryTime&&e>this.expiryTime}static fromAccount(e,t){const n=r.GatewayTokenData.fromAccount(e.data);return(0,i.dataToGatewayToken)(n,t)}update(e){let{state:t,expiryTime:n}=e;return new a(this.issuingGatekeeper,this.gatekeeperNetwork,this.owner,t,this.publicKey,this.programId,n||this.expiryTime)}}t.GatewayToken=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AssignablePublicKey=void 0;const r=n(36),i=n(6);class o extends r.Assignable{toPublicKey(){return new i.PublicKey(this.bytes)}toString(){return this.toPublicKey().toBase58()}static parse(e){return o.fromPublicKey(new i.PublicKey(e))}static fromPublicKey(e){return new o({bytes:Uint8Array.from(e.toBuffer())})}static empty(){const e=new Array(32);return e.fill(0),new o({bytes:e})}}t.AssignablePublicKey=o,r.SCHEMA.set(o,{kind:"struct",fields:[["bytes",[32]]]})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapEnumToFeatureName=t.NetworkFeature=t.UserTokenExpiry=void 0;const r=n(36);class i extends r.Assignable{}t.UserTokenExpiry=i;class o extends r.Enum{}t.NetworkFeature=o,r.SCHEMA.set(o,{kind:"enum",field:"enum",values:[["userTokenExpiry",i]]}),r.SCHEMA.set(i,{kind:"struct",fields:[]});t.mapEnumToFeatureName=e=>"userTokenExpiry"===e?"expire":e},function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&"undefined"!==typeof e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!==typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(r){return n}}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(103)},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],d=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),d){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(c=1,u=new Array(d-1);c<d;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var f,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),d){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(f=1,u=new Array(d-1);f<d;f++)u[f-1]=arguments[f];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shake256=t.shake128=t.keccak_512=t.keccak_384=t.keccak_256=t.keccak_224=t.sha3_512=t.sha3_384=t.sha3_256=t.sha3_224=t.Keccak=void 0,t.keccakP=m;const r=n(34),i=n(69),o=n(22),a=[],s=[],u=[],c=BigInt(0),l=BigInt(1),d=BigInt(2),f=BigInt(7),h=BigInt(256),p=BigInt(113);for(let _=0,T=l,I=1,R=0;_<24;_++){[I,R]=[R,(2*I+3*R)%5],a.push(2*(5*R+I)),s.push((_+1)*(_+2)/2%64);let e=c;for(let t=0;t<7;t++)T=(T<<l^(T>>f)*p)%h,T&d&&(e^=l<<(l<<BigInt(t))-l);u.push(e)}const[y,g]=(0,i.split)(u,!0),v=(e,t,n)=>n>32?(0,i.rotlBH)(e,t,n):(0,i.rotlSH)(e,t,n),E=(e,t,n)=>n>32?(0,i.rotlBL)(e,t,n):(0,i.rotlSL)(e,t,n);function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24;const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let r=0;r<10;r++)n[r]=e[r]^e[r+10]^e[r+20]^e[r+30]^e[r+40];for(let r=0;r<10;r+=2){const t=(r+8)%10,i=(r+2)%10,o=n[i],a=n[i+1],s=v(o,a,1)^n[t],u=E(o,a,1)^n[t+1];for(let n=0;n<50;n+=10)e[r+n]^=s,e[r+n+1]^=u}let t=e[2],i=e[3];for(let n=0;n<24;n++){const r=s[n],o=v(t,i,r),u=E(t,i,r),c=a[n];t=e[c],i=e[c+1],e[c]=o,e[c+1]=u}for(let r=0;r<50;r+=10){for(let t=0;t<10;t++)n[t]=e[r+t];for(let t=0;t<10;t++)e[r+t]^=~n[(t+2)%10]&n[(t+4)%10]}e[0]^=y[r],e[1]^=g[r]}n.fill(0)}class w extends o.Hash{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if(super(),this.blockLen=e,this.suffix=t,this.outputLen=n,this.enableXOF=i,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,r.anumber)(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,o.u32)(this.state)}keccak(){o.isLE||(0,o.byteSwap32)(this.state32),m(this.state32,this.rounds),o.isLE||(0,o.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(e){(0,r.aexists)(this);const{blockLen:t,state:n}=this,i=(e=(0,o.toBytes)(e)).length;for(let r=0;r<i;){const o=Math.min(t-this.pos,i-r);for(let t=0;t<o;t++)n[this.pos++]^=e[r++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:n,blockLen:r}=this;e[n]^=t,0!==(128&t)&&n===r-1&&this.keccak(),e[r-1]^=128,this.keccak()}writeInto(e){(0,r.aexists)(this,!1),(0,r.abytes)(e),this.finish();const t=this.state,{blockLen:n}=this;for(let r=0,i=e.length;r<i;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,i-r);e.set(t.subarray(this.posOut,this.posOut+o),r),this.posOut+=o,r+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return(0,r.anumber)(e),this.xofInto(new Uint8Array(e))}digestInto(e){if((0,r.aoutput)(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:n,outputLen:r,rounds:i,enableXOF:o}=this;return e||(e=new w(t,n,r,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=r,e.enableXOF=o,e.destroyed=this.destroyed,e}}t.Keccak=w;const S=(e,t,n)=>(0,o.wrapConstructor)((()=>new w(t,e,n)));t.sha3_224=S(6,144,28),t.sha3_256=S(6,136,32),t.sha3_384=S(6,104,48),t.sha3_512=S(6,72,64),t.keccak_224=S(1,144,28),t.keccak_256=S(1,136,32),t.keccak_384=S(1,104,48),t.keccak_512=S(1,72,64);const b=(e,t,n)=>(0,o.wrapXOFConstructorWithOpts)((function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new w(t,e,void 0===r.dkLen?n:r.dkLen,!0)}));t.shake128=b(31,168,16),t.shake256=b(31,136,32)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2);function i(e){let{color:t="#777777",light:n=!1}=e;const i=n?"#FFFFFF":t;return Object(r.jsx)("svg",Object.assign({width:"17",height:"17",viewBox:"0 0 17 17",fill:i,xmlns:"http://www.w3.org/2000/svg"},{children:Object(r.jsx)("path",{d:"M14.0082 0.865234L8.00683 6.86523L2.00683 0.865234L0.00683594 2.86523L6.00683 8.86523L0.00683594 14.8652L2.00683 16.8652L8.00683 10.8652L14.0082 16.8652L16.0082 14.8652L10.0082 8.86523L16.0082 2.86523L14.0082 0.865234Z"})}))}},function(e,t,n){"use strict";e.exports=n(130)},function(e,t,n){"use strict";var r=n(131),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);d&&(a=a.concat(d(n)));for(var s=u(t),y=u(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!y||!y[v])&&(!s||!s[v])){var E=f(n,v);try{c(t,v,E)}catch(m){}}}}return t}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(6);n(11),n(95);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))}}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(C){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new A(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return k()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=I(a,n);if(s){if(s===y)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===y)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",y={};function g(){}function v(){}function E(){}var m={};m[o]=function(){return this};var w=Object.getPrototypeOf,S=w&&w(w(O([])));S&&S!==n&&r.call(S,o)&&(m=S);var b=E.prototype=g.prototype=Object.create(m);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"===typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return y;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function R(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(R,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:k}}function k(){return{value:t,done:!0}}return v.prototype=b.constructor=E,E.constructor=v,v.displayName=u(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(b),u(b,s,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(n){Function("r","regeneratorRuntime = r")(t)}})),u=function(e){return function(){var t=o(s.mark((function t(n){return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.sign(e),t.abrupt("return",n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},c=function(e){return"Keypair"===e.constructor.name},l={cluster:"mainnet-beta",commitment:"confirmed",supportedClusterUrls:{},recentBlockCheck:!0,broadcastCheck:!0},d=function(e){return e.supportedClusterUrls&&e.supportedClusterUrls[e.cluster]?e.supportedClusterUrls[e.cluster]:Object(r.clusterApiUrl)(e.cluster)},f=function(){var e=o(s.mark((function e(t,n,i,o){var u,c;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=r.SystemProgram.transfer({fromPubkey:n,lamports:o,toPubkey:i}),e.next=3,t.getLatestBlockhash();case 3:return c=e.sent,e.abrupt("return",new r.Transaction(a({feePayer:n},c)).add(u));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),h=function(){var t=o(s.mark((function t(n,r){var i,o;return s.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(r);case 2:if(i=t.sent){t.next=5;break}throw new Error("Error creating signature");case 5:return o=e.from(i).toString("base64"),t.abrupt("return",""+o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var e=o(s.mark((function e(t,n,i){var o,a,h,p,y;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=l),!c(t)||!n){e.next=3;break}throw new Error("Provide a keypair or a signer, not both");case 3:if(c(t)||n){e.next=5;break}throw new Error("Provide either a keypair or a signer");case 5:return o=n||u(t),a=i.connection||new r.Connection(d(i),i.commitment),h=c(s=t)?s.publicKey:s,e.next=10,f(a,h,h,0);case 10:return p=e.sent,e.next=13,o(p);case 13:return y=e.sent,e.abrupt("return",y.serialize());case 15:case"end":return e.stop()}var s}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()}).call(this,n(4).Buffer)},function(e,t,n){const r=n(139);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){"use strict";function r(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,"a",(function(){return o}));var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=r((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},,,,function(e,t,n){"use strict";function r(e,t,n){return t<=e&&e<=n}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}n.r(t),n.d(t,"TextEncoder",(function(){return l})),n.d(t,"TextDecoder",(function(){return c}));function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var a=-1;function s(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function l(e,t){if(!(this instanceof l))return new l(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function d(e){var t=e.fatal,n=0,i=0,o=0,u=128,c=191;this.handler=function(e,l){if(-1===l&&0!==o)return o=0,s(t);if(-1===l)return a;if(0===o){if(r(l,0,127))return l;if(r(l,194,223))o=1,n=l-192;else if(r(l,224,239))224===l&&(u=160),237===l&&(c=159),o=2,n=l-224;else{if(!r(l,240,244))return s(t);240===l&&(u=144),244===l&&(c=143),o=3,n=l-240}return n<<=6*o,null}if(!r(l,u,c))return n=o=i=0,u=128,c=191,e.prepend(l),s(t);if(u=128,c=191,n+=l-128<<6*(o-(i+=1)),i!==o)return null;var d=n;return n=o=i=0,d}}function f(e){e.fatal;this.handler=function(e,t){if(-1===t)return a;if(r(t,0,127))return t;var n,i;r(t,128,2047)?(n=1,i=192):r(t,2048,65535)?(n=2,i=224):r(t,65536,1114111)&&(n=3,i=240);for(var o=[(t>>6*n)+i];n>0;){var s=t>>6*(n-1);o.push(128|63&s),n-=1}return o}}c.prototype={decode:function(e,t){var n;n="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new d({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,s=new o(n),u=[];!s.endOfStream()&&(r=this._decoder.handler(s,s.read()))!==a;)null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r));if(!this._streaming){do{if((r=this._decoder.handler(s,s.read()))===a)break;null!==r&&(Array.isArray(r)?u.push.apply(u,r):u.push(r))}while(!s.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode(55296+(r>>10),56320+(1023&r)))}return t}(u)}},l.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new f(this._options)),this._streaming=Boolean(t.stream);for(var n,r=[],s=new o(function(e){for(var t=String(e),n=t.length,r=0,i=[];r<n;){var o=t.charCodeAt(r);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(r===n-1)i.push(65533);else{var a=e.charCodeAt(r+1);if(56320<=a&&a<=57343){var s=1023&o,u=1023&a;i.push(65536+(s<<10)+u),r+=1}else i.push(65533)}r+=1}return i}(e));!s.endOfStream()&&(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);if(!this._streaming){for(;(n=this._encoder.handler(s,s.read()))!==a;)Array.isArray(n)?r.push.apply(r,n):r.push(n);this._encoder=null}return new Uint8Array(r)}}},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0,t.setBigUint64=o;const r=n(34),i=n(22);function o(e,t,n,r){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,n,r);const i=BigInt(32),o=BigInt(4294967295),a=Number(n>>i&o),s=Number(n&o),u=r?4:0,c=r?0:4;e.setUint32(t+u,a,r),e.setUint32(t+c,s,r)}t.Chi=(e,t,n)=>e&t^~e&n;t.Maj=(e,t,n)=>e&t^e&n^t&n;class a extends i.Hash{constructor(e,t,n,r){super(),this.blockLen=e,this.outputLen=t,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,r.aexists)(this);const{view:t,buffer:n,blockLen:o}=this,a=(e=(0,i.toBytes)(e)).length;for(let r=0;r<a;){const s=Math.min(o-this.pos,a-r);if(s!==o)n.set(e.subarray(r,r+s),this.pos),this.pos+=s,r+=s,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=a-r;r+=o)this.process(t,r)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,r.aexists)(this),(0,r.aoutput)(e,this),this.finished=!0;const{buffer:t,view:n,blockLen:a,isLE:s}=this;let{pos:u}=this;t[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>a-u&&(this.process(n,0),u=0);for(let r=u;r<a;r++)t[r]=0;o(n,a-8,BigInt(8*this.length),s),this.process(n,0);const c=(0,i.createView)(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const d=l/4,f=this.get();if(d>f.length)throw new Error("_sha2: outputLen bigger than state");for(let r=0;r<d;r++)c.setUint32(4*r,f[r],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const n=e.slice(0,t);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:n,length:r,finished:i,destroyed:o,pos:a}=this;return e.length=r,e.pos=a,e.finished=i,e.destroyed=o,r%t&&e.buffer.set(n),e}}t.HashMD=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.add5L=t.add5H=t.add4H=t.add4L=t.add3H=t.add3L=t.rotlBL=t.rotlBH=t.rotlSL=t.rotlSH=t.rotr32L=t.rotr32H=t.rotrBL=t.rotrBH=t.rotrSL=t.rotrSH=t.shrSL=t.shrSH=t.toBig=void 0,t.fromBig=o,t.split=a,t.add=w;const r=BigInt(2**32-1),i=BigInt(32);function o(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?{h:Number(e&r),l:Number(e>>i&r)}:{h:0|Number(e>>i&r),l:0|Number(e&r)}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:a,l:s}=o(e[i],t);[n[i],r[i]]=[a,s]}return[n,r]}const s=(e,t)=>BigInt(e>>>0)<<i|BigInt(t>>>0);t.toBig=s;const u=(e,t,n)=>e>>>n;t.shrSH=u;const c=(e,t,n)=>e<<32-n|t>>>n;t.shrSL=c;const l=(e,t,n)=>e>>>n|t<<32-n;t.rotrSH=l;const d=(e,t,n)=>e<<32-n|t>>>n;t.rotrSL=d;const f=(e,t,n)=>e<<64-n|t>>>n-32;t.rotrBH=f;const h=(e,t,n)=>e>>>n-32|t<<64-n;t.rotrBL=h;const p=(e,t)=>t;t.rotr32H=p;const y=(e,t)=>e;t.rotr32L=y;const g=(e,t,n)=>e<<n|t>>>32-n;t.rotlSH=g;const v=(e,t,n)=>t<<n|e>>>32-n;t.rotlSL=v;const E=(e,t,n)=>t<<n-32|e>>>64-n;t.rotlBH=E;const m=(e,t,n)=>e<<n-32|t>>>64-n;function w(e,t,n,r){const i=(t>>>0)+(r>>>0);return{h:e+n+(i/2**32|0)|0,l:0|i}}t.rotlBL=m;const S=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0);t.add3L=S;const b=(e,t,n,r)=>t+n+r+(e/2**32|0)|0;t.add3H=b;const _=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0);t.add4L=_;const T=(e,t,n,r,i)=>t+n+r+i+(e/2**32|0)|0;t.add4H=T;const I=(e,t,n,r,i)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(i>>>0);t.add5L=I;const R=(e,t,n,r,i,o)=>t+n+r+i+o+(e/2**32|0)|0;t.add5H=R;const N={fromBig:o,split:a,toBig:s,shrSH:u,shrSL:c,rotrSH:l,rotrSL:d,rotrBH:f,rotrBL:h,rotr32H:p,rotr32L:y,rotlSH:g,rotlSL:v,rotlBH:E,rotlBL:m,add:w,add3L:S,add3H:b,add4L:_,add4H:T,add5H:R,add5L:I};t.default=N},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.expand_message_xmd=l,t.expand_message_xof=d,t.hash_to_field=f,t.isogenyMap=function(e,t){const n=t.map((e=>Array.from(e).reverse()));return(t,r)=>{const[i,o,a,s]=n.map((n=>n.reduce(((n,r)=>e.add(e.mul(n,t),r)))));return t=e.div(i,o),r=e.mul(r,e.div(a,s)),{x:t,y:r}}},t.createHasher=function(e,t,n){if("function"!==typeof t)throw new Error("mapToCurve() must be defined");return{hashToCurve(i,o){const a=f(i,2,r(r({},n),{},{DST:n.DST},o)),s=e.fromAffine(t(a[0])),u=e.fromAffine(t(a[1])),c=s.add(u).clearCofactor();return c.assertValidity(),c},encodeToCurve(i,o){const a=f(i,1,r(r({},n),{},{DST:n.encodeDST},o)),s=e.fromAffine(t(a[0])).clearCofactor();return s.assertValidity(),s},mapToCurve(n){if(!Array.isArray(n))throw new Error("mapToCurve: expected array of bigints");for(const e of n)if("bigint"!==typeof e)throw new Error("mapToCurve: expected array of bigints");const r=e.fromAffine(t(n)).clearCofactor();return r.assertValidity(),r}}};const i=n(24),o=n(18),a=o.bytesToNumberBE;function s(e,t){if(c(e),c(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=255&e,e>>>=8;return new Uint8Array(n)}function u(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function c(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function l(e,t,n,r){(0,o.abytes)(e),(0,o.abytes)(t),c(n),t.length>255&&(t=r((0,o.concatBytes)((0,o.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:a}=r,l=Math.ceil(n/i);if(n>65535||l>255)throw new Error("expand_message_xmd: invalid lenInBytes");const d=(0,o.concatBytes)(t,s(t.length,1)),f=s(0,a),h=s(n,2),p=new Array(l),y=r((0,o.concatBytes)(f,e,h,s(0,1),d));p[0]=r((0,o.concatBytes)(y,s(1,1),d));for(let c=1;c<=l;c++){const e=[u(y,p[c-1]),s(c+1,1),d];p[c]=r((0,o.concatBytes)(...e))}return(0,o.concatBytes)(...p).slice(0,n)}function d(e,t,n,r,i){if((0,o.abytes)(e),(0,o.abytes)(t),c(n),t.length>255){const e=Math.ceil(2*r/8);t=i.create({dkLen:e}).update((0,o.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(e).update(s(n,2)).update(t).update(s(t.length,1)).digest()}function f(e,t,n){(0,o.validateObject)(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:u,hash:f,expand:h,DST:p}=n;(0,o.abytes)(e),c(t);const y="string"===typeof p?(0,o.utf8ToBytes)(p):p,g=r.toString(2).length,v=Math.ceil((g+s)/8),E=t*u*v;let m;if("xmd"===h)m=l(e,y,E,f);else if("xof"===h)m=d(e,y,E,s,f);else{if("_internal_pass"!==h)throw new Error('expand must be "xmd" or "xof"');m=e}const w=new Array(t);for(let o=0;o<t;o++){const e=new Array(u);for(let t=0;t<u;t++){const n=v*(t+o*u),s=m.subarray(n,n+v);e[t]=(0,i.mod)(a(s),r)}w[o]=e}return w}},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.DER=t.DERErr=void 0,t.weierstrassPoints=v,t.weierstrass=function(e){const n=function(e){const t=(0,i.validateBasic)(e);return a.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze(r({lowS:!0},t))}(e),{Fp:c,n:l}=n,d=c.BYTES+1,p=2*c.BYTES+1;function y(e){return o.mod(e,l)}function g(e){return o.invert(e,l)}const{ProjectivePoint:E,normPrivateKeyToScalar:m,weierstrassEquation:w,isWithinCurveOrder:S}=v(r(r({},n),{},{toBytes(e,t,n){const r=t.toAffine(),i=c.toBytes(r.x),o=a.concatBytes;return(0,s.abool)("isCompressed",n),n?o(Uint8Array.from([t.hasEvenY()?2:3]),i):o(Uint8Array.from([4]),i,c.toBytes(r.y))},fromBytes(e){const t=e.length,n=e[0],r=e.subarray(1);if(t!==d||2!==n&&3!==n){if(t===p&&4===n){return{x:c.fromBytes(r.subarray(0,c.BYTES)),y:c.fromBytes(r.subarray(c.BYTES,2*c.BYTES))}}throw new Error("invalid Point, expected length of "+d+", or uncompressed "+p+", got "+t)}{const e=a.bytesToNumberBE(r);if(!a.inRange(e,h,c.ORDER))throw new Error("Point is not on curve");const t=w(e);let o;try{o=c.sqrt(t)}catch(i){const e=i instanceof Error?": "+i.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&n)!==((o&h)===h)&&(o=c.neg(o)),{x:e,y:o}}}})),b=e=>a.bytesToHex(a.numberToBytesBE(e,n.nByteLength));function _(e){return e>l>>h}const T=(e,t,n)=>a.bytesToNumberBE(e.slice(t,n));class I{constructor(e,t,n){this.r=e,this.s=t,this.recovery=n,this.assertValidity()}static fromCompact(e){const t=n.nByteLength;return e=(0,s.ensureBytes)("compactSignature",e,2*t),new I(T(e,0,t),T(e,t,2*t))}static fromDER(e){const{r:n,s:r}=t.DER.toSig((0,s.ensureBytes)("DER",e));return new I(n,r)}assertValidity(){a.aInRange("r",this.r,h,l),a.aInRange("s",this.s,h,l)}addRecoveryBit(e){return new I(this.r,this.s,e)}recoverPublicKey(e){const{r:t,s:r,recovery:i}=this,o=O((0,s.ensureBytes)("msgHash",e));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");const a=2===i||3===i?t+n.n:t;if(a>=c.ORDER)throw new Error("recovery id 2 or 3 invalid");const u=0===(1&i)?"02":"03",l=E.fromHex(u+b(a)),d=g(a),f=y(-o*d),h=y(r*d),p=E.BASE.multiplyAndAddUnsafe(l,f,h);if(!p)throw new Error("point at infinify");return p.assertValidity(),p}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new I(this.r,y(-this.s),this.recovery):this}toDERRawBytes(){return a.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return a.hexToBytes(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const R={isValidPrivateKey(e){try{return m(e),!0}catch(t){return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{const e=o.getMinHashLength(n.n);return o.mapHashToField(n.randomBytes(e),n.n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:E.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};function N(e){const t=a.isBytes(e),n="string"===typeof e,r=(t||n)&&e.length;return t?r===d||r===p:n?r===2*d||r===2*p:e instanceof E}const A=n.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const t=a.bytesToNumberBE(e),r=8*e.length-n.nBitLength;return r>0?t>>BigInt(r):t},O=n.bits2int_modN||function(e){return y(A(e))},k=a.bitMask(n.nBitLength);function C(e){return a.aInRange("num < 2^"+n.nBitLength,e,f,k),a.numberToBytesBE(e,n.nByteLength)}function x(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;if(["recovered","canonical"].some((e=>e in r)))throw new Error("sign() legacy options not supported");const{hash:i,randomBytes:o}=n;let{lowS:l,prehash:d,extraEntropy:p}=r;null==l&&(l=!0),e=(0,s.ensureBytes)("msgHash",e),u(r),d&&(e=(0,s.ensureBytes)("prehashed msgHash",i(e)));const v=O(e),w=m(t),b=[C(w),C(v)];if(null!=p&&!1!==p){const e=!0===p?o(c.BYTES):p;b.push((0,s.ensureBytes)("extraEntropy",e))}const T=a.concatBytes(...b),R=v;return{seed:T,k2sig:function(e){const t=A(e);if(!S(t))return;const n=g(t),r=E.BASE.multiply(t).toAffine(),i=y(r.x);if(i===f)return;const o=y(n*y(R+i*w));if(o===f)return;let a=(r.x===i?0:2)|Number(r.y&h),s=o;return l&&_(o)&&(s=function(e){return _(e)?y(-e):e}(o),a^=1),new I(i,s,a)}}}const M={lowS:n.lowS,prehash:!1},P={lowS:n.lowS,prehash:!1};return E.BASE._setWindowSize(8),{CURVE:n,getPublicKey:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return E.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(N(e))throw new Error("first arg must be private key");if(!N(t))throw new Error("second arg must be public key");return E.fromHex(t).multiply(m(e)).toRawBytes(n)},sign:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M;const{seed:i,k2sig:o}=x(e,t,r),s=n;return a.createHmacDrbg(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,i){var o;let c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P;const l=e;r=(0,s.ensureBytes)("msgHash",r),i=(0,s.ensureBytes)("publicKey",i);const{lowS:d,prehash:f,format:h}=c;if(u(c),"strict"in c)throw new Error("options.strict was renamed to lowS");if(void 0!==h&&"compact"!==h&&"der"!==h)throw new Error("format must be compact or der");const p="string"===typeof l||a.isBytes(l),v=!p&&!h&&"object"===typeof l&&null!==l&&"bigint"===typeof l.r&&"bigint"===typeof l.s;if(!p&&!v)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let m,w;try{if(v&&(m=new I(l.r,l.s)),p){try{"compact"!==h&&(m=I.fromDER(l))}catch(k){if(!(k instanceof t.DER.Err))throw k}m||"der"===h||(m=I.fromCompact(l))}w=E.fromHex(i)}catch(C){return!1}if(!m)return!1;if(d&&m.hasHighS())return!1;f&&(r=n.hash(r));const{r:S,s:b}=m,_=O(r),T=g(b),R=y(_*T),N=y(S*T),A=null===(o=E.BASE.multiplyAndAddUnsafe(w,R,N))||void 0===o?void 0:o.toAffine();if(!A)return!1;return y(A.x)===S},ProjectivePoint:E,Signature:I,utils:R}},t.SWUFpSqrtRatio=E,t.mapToCurveSimpleSWU=function(e,t){if(o.validateField(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=E(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,o,a,s,u,c,l,d;i=e.sqr(r),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),a=e.add(o,e.ONE),a=e.mul(a,t.B),s=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),s=e.mul(s,t.A),o=e.sqr(a),c=e.sqr(s),u=e.mul(c,t.A),o=e.add(o,u),o=e.mul(o,a),c=e.mul(c,s),u=e.mul(c,t.B),o=e.add(o,u),l=e.mul(i,a);const{isValid:f,value:h}=n(o,c);d=e.mul(i,r),d=e.mul(d,h),l=e.cmov(l,a,f),d=e.cmov(d,h,f);const p=e.isOdd(r)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),l=e.div(l,s),{x:l,y:d}}};const i=n(49),o=n(24),a=n(18),s=n(18);function u(e){void 0!==e.lowS&&(0,s.abool)("lowS",e.lowS),void 0!==e.prehash&&(0,s.abool)("prehash",e.prehash)}const{bytesToNumberBE:c,hexToBytes:l}=a;class d extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")}}t.DERErr=d,t.DER={Err:d,_tlv:{encode:(e,n)=>{const{Err:r}=t.DER;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&n.length)throw new r("tlv.encode: unpadded data");const i=n.length/2,o=a.numberToHexUnpadded(i);if(o.length/2&128)throw new r("tlv.encode: long form length too big");const s=i>127?a.numberToHexUnpadded(o.length/2|128):"";return a.numberToHexUnpadded(e)+s+o+n},decode(e,n){const{Err:r}=t.DER;let i=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(n.length<2||n[i++]!==e)throw new r("tlv.decode: wrong tlv");const o=n[i++];let a=0;if(!!(128&o)){const e=127&o;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const t=n.subarray(i,i+e);if(t.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===t[0])throw new r("tlv.decode(long): zero leftmost byte");for(const n of t)a=a<<8|n;if(i+=e,a<128)throw new r("tlv.decode(long): not minimal encoding")}else a=o;const s=n.subarray(i,i+a);if(s.length!==a)throw new r("tlv.decode: wrong value length");return{v:s,l:n.subarray(i+a)}}},_int:{encode(e){const{Err:n}=t.DER;if(e<f)throw new n("integer: negative integers are not allowed");let r=a.numberToHexUnpadded(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new n("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:n}=t.DER;if(128&e[0])throw new n("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new n("invalid signature integer: unnecessary leading zero");return c(e)}},toSig(e){const{Err:n,_int:r,_tlv:i}=t.DER,o="string"===typeof e?l(e):e;a.abytes(o);const{v:s,l:u}=i.decode(48,o);if(u.length)throw new n("invalid signature: left bytes after parsing");const{v:c,l:d}=i.decode(2,s),{v:f,l:h}=i.decode(2,d);if(h.length)throw new n("invalid signature: left bytes after parsing");return{r:r.decode(c),s:r.decode(f)}},hexFromSig(e){const{_tlv:n,_int:r}=t.DER,i=n.encode(2,r.encode(e.r))+n.encode(2,r.encode(e.s));return n.encode(48,i)}};const f=BigInt(0),h=BigInt(1),p=BigInt(2),y=BigInt(3),g=BigInt(4);function v(e){const t=function(e){const t=(0,i.validateBasic)(e);a.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:o,a:s}=t;if(n){if(!o.eql(s,o.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze(r({},t))}(e),{Fp:n}=t,u=o.Field(t.n,t.nBitLength),c=t.toBytes||((e,t,r)=>{const i=t.toAffine();return a.concatBytes(Uint8Array.from([4]),n.toBytes(i.x),n.toBytes(i.y))}),l=t.fromBytes||(e=>{const t=e.subarray(1);return{x:n.fromBytes(t.subarray(0,n.BYTES)),y:n.fromBytes(t.subarray(n.BYTES,2*n.BYTES))}});function d(e){const{a:r,b:i}=t,o=n.sqr(e),a=n.mul(o,e);return n.add(n.add(a,n.mul(e,r)),i)}if(!n.eql(n.sqr(t.Gy),d(t.Gx)))throw new Error("bad generator point: equation left != right");function p(e){const{allowedPrivateKeyLengths:n,nByteLength:r,wrapPrivateKey:i,n:u}=t;if(n&&"bigint"!==typeof e){if(a.isBytes(e)&&(e=a.bytesToHex(e)),"string"!==typeof e||!n.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*r,"0")}let c;try{c="bigint"===typeof e?e:a.bytesToNumberBE((0,s.ensureBytes)("private key",e,r))}catch(l){throw new Error("invalid private key, expected hex or "+r+" bytes, got "+typeof e)}return i&&(c=o.mod(c,u)),a.aInRange("private key",c,h,u),c}function g(e){if(!(e instanceof m))throw new Error("ProjectivePoint expected")}const v=(0,s.memoized)(((e,t)=>{const{px:r,py:i,pz:o}=e;if(n.eql(o,n.ONE))return{x:r,y:i};const a=e.is0();null==t&&(t=a?n.ONE:n.inv(o));const s=n.mul(r,t),u=n.mul(i,t),c=n.mul(o,t);if(a)return{x:n.ZERO,y:n.ZERO};if(!n.eql(c,n.ONE))throw new Error("invZ was invalid");return{x:s,y:u}})),E=(0,s.memoized)((e=>{if(e.is0()){if(t.allowInfinityPoint&&!n.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:r,y:i}=e.toAffine();if(!n.isValid(r)||!n.isValid(i))throw new Error("bad point: x or y not FE");const o=n.sqr(i),a=d(r);if(!n.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class m{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!n.isValid(e))throw new Error("x required");if(null==t||!n.isValid(t))throw new Error("y required");if(null==r||!n.isValid(r))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:r}=e||{};if(!e||!n.isValid(t)||!n.isValid(r))throw new Error("invalid affine point");if(e instanceof m)throw new Error("projective point not allowed");const i=e=>n.eql(e,n.ZERO);return i(t)&&i(r)?m.ZERO:new m(t,r,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.pz)));return e.map(((e,n)=>e.toAffine(t[n]))).map(m.fromAffine)}static fromHex(e){const t=m.fromAffine(l((0,s.ensureBytes)("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return m.BASE.multiply(p(e))}static msm(e,t){return(0,i.pippenger)(m,u,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){E(this)}hasEvenY(){const{y:e}=this.toAffine();if(n.isOdd)return!n.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){g(e);const{px:t,py:r,pz:i}=this,{px:o,py:a,pz:s}=e,u=n.eql(n.mul(t,s),n.mul(o,i)),c=n.eql(n.mul(r,s),n.mul(a,i));return u&&c}negate(){return new m(this.px,n.neg(this.py),this.pz)}double(){const{a:e,b:r}=t,i=n.mul(r,y),{px:o,py:a,pz:s}=this;let u=n.ZERO,c=n.ZERO,l=n.ZERO,d=n.mul(o,o),f=n.mul(a,a),h=n.mul(s,s),p=n.mul(o,a);return p=n.add(p,p),l=n.mul(o,s),l=n.add(l,l),u=n.mul(e,l),c=n.mul(i,h),c=n.add(u,c),u=n.sub(f,c),c=n.add(f,c),c=n.mul(u,c),u=n.mul(p,u),l=n.mul(i,l),h=n.mul(e,h),p=n.sub(d,h),p=n.mul(e,p),p=n.add(p,l),l=n.add(d,d),d=n.add(l,d),d=n.add(d,h),d=n.mul(d,p),c=n.add(c,d),h=n.mul(a,s),h=n.add(h,h),d=n.mul(h,p),u=n.sub(u,d),l=n.mul(h,f),l=n.add(l,l),l=n.add(l,l),new m(u,c,l)}add(e){g(e);const{px:r,py:i,pz:o}=this,{px:a,py:s,pz:u}=e;let c=n.ZERO,l=n.ZERO,d=n.ZERO;const f=t.a,h=n.mul(t.b,y);let p=n.mul(r,a),v=n.mul(i,s),E=n.mul(o,u),w=n.add(r,i),S=n.add(a,s);w=n.mul(w,S),S=n.add(p,v),w=n.sub(w,S),S=n.add(r,o);let b=n.add(a,u);return S=n.mul(S,b),b=n.add(p,E),S=n.sub(S,b),b=n.add(i,o),c=n.add(s,u),b=n.mul(b,c),c=n.add(v,E),b=n.sub(b,c),d=n.mul(f,S),c=n.mul(h,E),d=n.add(c,d),c=n.sub(v,d),d=n.add(v,d),l=n.mul(c,d),v=n.add(p,p),v=n.add(v,p),E=n.mul(f,E),S=n.mul(h,S),v=n.add(v,E),E=n.sub(p,E),E=n.mul(f,E),S=n.add(S,E),p=n.mul(v,S),l=n.add(l,p),p=n.mul(b,S),c=n.mul(w,c),c=n.sub(c,p),p=n.mul(w,v),d=n.mul(b,d),d=n.add(d,p),new m(c,l,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(m.ZERO)}wNAF(e){return S.wNAFCached(this,e,m.normalizeZ)}multiplyUnsafe(e){const{endo:r,n:i}=t;a.aInRange("scalar",e,f,i);const o=m.ZERO;if(e===f)return o;if(this.is0()||e===h)return this;if(!r||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,e,m.normalizeZ);let{k1neg:s,k1:u,k2neg:c,k2:l}=r.splitScalar(e),d=o,p=o,y=this;for(;u>f||l>f;)u&h&&(d=d.add(y)),l&h&&(p=p.add(y)),y=y.double(),u>>=h,l>>=h;return s&&(d=d.negate()),c&&(p=p.negate()),p=new m(n.mul(p.px,r.beta),p.py,p.pz),d.add(p)}multiply(e){const{endo:r,n:i}=t;let o,s;if(a.aInRange("scalar",e,h,i),r){const{k1neg:t,k1:i,k2neg:a,k2:u}=r.splitScalar(e);let{p:c,f:l}=this.wNAF(i),{p:d,f:f}=this.wNAF(u);c=S.constTimeNegate(t,c),d=S.constTimeNegate(a,d),d=new m(n.mul(d.px,r.beta),d.py,d.pz),o=c.add(d),s=l.add(f)}else{const{p:t,f:n}=this.wNAF(e);o=t,s=n}return m.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,n){const r=m.BASE,i=(e,t)=>t!==f&&t!==h&&e.equals(r)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,n));return o.is0()?void 0:o}toAffine(e){return v(this,e)}isTorsionFree(){const{h:e,isTorsionFree:n}=t;if(e===h)return!0;if(n)return n(m,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:n}=t;return e===h?this:n?n(m,this):this.multiplyUnsafe(t.h)}toRawBytes(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,s.abool)("isCompressed",e),this.assertValidity(),c(m,this,e)}toHex(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(0,s.abool)("isCompressed",e),a.bytesToHex(this.toRawBytes(e))}}m.BASE=new m(t.Gx,t.Gy,n.ONE),m.ZERO=new m(n.ZERO,n.ONE,n.ZERO);const w=t.nBitLength,S=(0,i.wNAF)(m,t.endo?Math.ceil(w/2):w);return{CURVE:t,ProjectivePoint:m,normPrivateKeyToScalar:p,weierstrassEquation:d,isWithinCurveOrder:function(e){return a.inRange(e,h,t.n)}}}function E(e,t){const n=e.ORDER;let r=f;for(let y=n-h;y%p===f;y/=p)r+=h;const i=r,o=p<<i-h-h,a=o*p,s=(n-h)/a,u=(s-h)/p,c=a-h,l=o,d=e.pow(t,s),v=e.pow(t,(s+h)/p);let E=(t,n)=>{let r=d,o=e.pow(n,c),a=e.sqr(o);a=e.mul(a,n);let s=e.mul(t,a);s=e.pow(s,u),s=e.mul(s,o),o=e.mul(s,n),a=e.mul(s,t);let f=e.mul(a,o);s=e.pow(f,l);let y=e.eql(s,e.ONE);o=e.mul(a,v),s=e.mul(f,r),a=e.cmov(o,a,y),f=e.cmov(s,f,y);for(let u=i;u>h;u--){let t=u-p;t=p<<t-h;let n=e.pow(f,t);const i=e.eql(n,e.ONE);o=e.mul(a,r),r=e.mul(r,r),n=e.mul(f,r),a=e.cmov(o,a,i),f=e.cmov(n,f,i)}return{isValid:y,value:a}};if(e.ORDER%g===y){const n=(e.ORDER-y)/g,r=e.sqrt(e.neg(t));E=(t,i)=>{let o=e.sqr(i);const a=e.mul(t,i);o=e.mul(o,a);let s=e.pow(o,n);s=e.mul(s,a);const u=e.mul(s,r),c=e.mul(e.sqr(s),i),l=e.eql(c,t);return{isValid:l,value:e.cmov(u,s,l)}}}return E}},function(e,t,n){var r=n(127);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(163),i=n(161),o=n(21),a=n(6),s=n(60),u=n(7),c=n(96),l=n(27);const d=Object(u.prefixLogger)("SolanaChainImplementation").debug,f=Object(u.prefixLogger)("SolanaChainImplementation").warn;class h{constructor(e){this.inputs=e,this.listeners=[],this.chainDetails={chainType:u.ChainType.SOLANA,chainNetwork:e.cluster}}async ownerDids(){return["did:sol:".concat(this.inputs.publicKey.toBase58())]}on(e,t){var n;if("TOKEN_CREATED"===e){const e=Object(o.onGatewayToken)(this.inputs.connection,this.inputs.publicKey,this.inputs.gatekeeperNetworkAddress,(e=>{this.gatewayToken||(this.gatewayToken=e,t({issuingGatekeeper:e.issuingGatekeeper.toBase58(),gatekeeperNetworkAddress:e.gatekeeperNetwork.toBase58(),owner:e.owner.toBase58(),state:u.State[e.state],identifier:e.publicKey.toBase58(),expiryTime:e.expiryTime}))}));return this.listeners.push(e),this}if("TOKEN_CHANGED"===e){const e=(null===(n=this.gatewayToken)||void 0===n?void 0:n.publicKey.toBase58())||Object(o.getGatewayTokenAddressForOwnerAndGatekeeperNetwork)(this.inputs.publicKey,this.inputs.gatekeeperNetworkAddress),r=Object(o.onGatewayTokenChange)(this.inputs.connection,new a.PublicKey(e),(e=>{t({issuingGatekeeper:e.issuingGatekeeper.toBase58(),gatekeeperNetworkAddress:e.gatekeeperNetwork.toBase58(),owner:e.owner.toBase58(),state:u.State[e.state],identifier:e.publicKey.toBase58(),expiryTime:e.expiryTime})}));return this.listeners.push(r),this}return this}async findGatewayToken(){const{connection:e,publicKey:t,gatekeeperNetworkAddress:n}=this.inputs,r=await Object(o.findGatewayToken)(e,t,new a.PublicKey(n),!0);if(r)return{issuingGatekeeper:r.issuingGatekeeper.toBase58(),gatekeeperNetworkAddress:r.gatekeeperNetwork.toBase58(),owner:r.owner.toBase58(),state:u.State[r.state],identifier:r.publicKey.toBase58(),expiryTime:r.expiryTime}}async proveWalletOwnership(t){const{publicKey:n,signMessage:r,signTransaction:i,connection:o,cluster:a}=this.inputs;try{d("proveWalletOwnership",{message:t});const l=r&&t?()=>Object(s.a)((t=>r(e.from(t))),t):void 0,h=()=>Object(s.b)(n,i,Object(c.a)(o.rpcEndpoint,a)).then((e=>e.toString("base64"))),p=await(async(e,t)=>{try{if(!t){d("createSignMessageProofIfSupported no signMessageFn passed, using proveTransactionFn...");const t=await e();return d("createSignMessageProofIfSupported proveTransactionFn successful",{proof:t,signatureMethod:u.SignatureMethod.TRANSACTION}),{proof:t,signatureMethod:u.SignatureMethod.TRANSACTION}}d("createSignMessageProofIfSupported signMessageFn exists, calling proveSignMessageFn...");const n=await t();return d("createSignMessageProofIfSupported proveSignMessageFn successful",{proof:n,signatureMethod:u.SignatureMethod.MESSAGE}),{proof:n,signatureMethod:u.SignatureMethod.MESSAGE}}catch(n){const t=n;if(f("createSignMessageProofIfSupported error",{error:n,useError:t}),(e=>{var t;return-32603===e.code||(null===(t=e.message)||void 0===t?void 0:t.toLowerCase().includes("unsupportedoperation"))})(t)){d("error is an unsupported operation error, trying proveTransaction");const t=await e();return d("createSignMessageProofIfSupported proveTransactionFn successful",{proof:t,signatureMethod:u.SignatureMethod.TRANSACTION}),{proof:t,signatureMethod:u.SignatureMethod.TRANSACTION}}throw n}})(h,l);return d("proveWalletOwnership",p),p}catch(h){const e=h;throw d("proveWalletOwnership",{error:h,errorMessage:e.message,parsedErrorCode:Object(l.c)(e),useErrorCode:u.ErrorCode.POWO_ERROR}),new u.ChainError(e.message,u.ErrorCode.POWO_ERROR)}}async signMessage(e){const{signMessage:t}=this.inputs;if(!t)throw new u.ChainError("signMessage not implemented");return t(e)}async handleTransaction(e,t){const{handleTransaction:n,signTransaction:r}=this.inputs;d("handleUserSignedTransaction, user-provided handleTransaction",!!n);const i=Object(l.b)(e);if(n)return d("custom handleTransaction function present, calling now..."),n(i).catch((e=>{throw new u.ChainError(e.message,u.ErrorCode.CUSTOM_HANDLE_TRANSACTION_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"))}));let o=i;this.requiresSignature(i)&&(o=await r(i).catch((e=>{throw new u.ChainError(e.message,Object(l.c)(e),Object(u.prefixLogger)("SolanaChainImplementation"))})));const a=t?1e3*t:25e3;return this.submitTransaction(o,a).catch((e=>{if(e instanceof u.ChainError)throw e;throw new u.ChainError(e.message,u.ErrorCode.SEND_TRANSACTION_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"))}))}requiresSignature(e){return void 0!==e.signatures.find((e=>e.publicKey.equals(this.inputs.publicKey)))}handleTxSendError(e){const t=Object(l.c)(e);if(e instanceof a.SendTransactionError||t!==u.ErrorCode.SIGN_TRANSACTION_UNKNOWN_ERROR)throw new u.ChainError(e.message,t,Object(u.prefixLogger)("SolanaChainImplementation"));throw new u.ChainError("sendRawTransaction failed ".concat(null===e||void 0===e?void 0:e.message),u.ErrorCode.SEND_TRANSACTION_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"))}async handleTxConfirmError(e,t,n){var r;const{connection:i}=this.inputs;if(t instanceof u.ChainError)throw t;if(t instanceof l.a){const t=await i.getSignatureStatuses([e]),o=null===(r=null===t||void 0===t?void 0:t.value)||void 0===r?void 0:r[0];if(!o)throw new u.ChainError("confirmTransaction timed out after ".concat(n," ms and tx not found on-chain"),u.ErrorCode.TRANSACTION_DROPPED_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"));if(o.err)throw new u.ChainError("Transaction failed on-chain ".concat(o.err.toString()),u.ErrorCode.TRANSACTION_FAILED_ON_CHAIN_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"));return e}throw new u.ChainError("confirmTransaction threw an error: ".concat(null===t||void 0===t?void 0:t.message),u.ErrorCode.TRANSACTION_CONFIRMATION_UNKNOWN_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"))}async submitTransaction(e,t){const{connection:n}=this.inputs;let r="";try{const t=e.serialize();r=await n.sendRawTransaction(t),this.pendingTransaction=r}catch(o){this.pendingTransaction=void 0,this.handleTxSendError(o)}const i=await n.getLatestBlockhash("processed");try{const e=await Object(l.d)((()=>n.confirmTransaction(Object.assign(Object.assign({},i),{signature:r}),"processed")),t);if(this.pendingTransaction=void 0,e.value.err)throw new u.ChainError("Transaction failed on-chain ".concat(e.value.err.toString()),u.ErrorCode.TRANSACTION_FAILED_ON_CHAIN_ERROR,Object(u.prefixLogger)("SolanaChainImplementation"));return r}catch(a){return this.pendingTransaction=void 0,this.handleTxConfirmError(r,a,t)}}async onDestroy(){const e=this.listeners.filter(r.a(i.a)).map((e=>Object(o.removeAccountChangeListener)(this.inputs.connection,e)));await Promise.all(e),this.listeners=[],this.pendingTransaction=void 0}}}).call(this,n(4).Buffer)},function(e,t,n){const r=n(53),i=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],o=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];t.getBlocksCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}},t.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}}},function(e,t){t.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}},function(e,t){const n="[0-9]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+")(?:.|[\r\n]))+";t.KANJI=new RegExp(r,"g"),t.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),t.BYTE=new RegExp(i,"g"),t.NUMERIC=new RegExp(n,"g"),t.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const o=new RegExp("^"+r+"$"),a=new RegExp("^"+n+"$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");t.testKanji=function(e){return o.test(e)},t.testNumeric=function(e){return a.test(e)},t.testAlphanumeric=function(e){return s.test(e)}},function(e,t){function n(e){if("number"===typeof e&&(e=e.toString()),"string"!==typeof e)throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");const n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});const t="undefined"===typeof e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){const r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){const i=n.modules.size,o=n.modules.data,a=t.getScale(i,r),s=Math.floor((i+2*r.margin)*a),u=r.margin*a,c=[r.color.light,r.color.dark];for(let t=0;t<s;t++)for(let n=0;n<s;n++){let l=4*(t*s+n),d=r.color.light;if(t>=u&&n>=u&&t<s-u&&n<s-u){d=c[o[Math.floor((t-u)/a)*i+Math.floor((n-u)/a)]?1:0]}e[l++]=d.r,e[l++]=d.g,e[l++]=d.b,e[l]=d.a}}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return y})),n.d(t,"v3",(function(){return I})),n.d(t,"v4",(function(){return R})),n.d(t,"v5",(function(){return O})),n.d(t,"NIL",(function(){return k})),n.d(t,"version",(function(){return C})),n.d(t,"validate",(function(){return s})),n.d(t,"stringify",(function(){return f})),n.d(t,"parse",(function(){return g}));var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l,d,f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n},h=0,p=0;var y=function(e,t,n){var r=t&&n||0,i=t||new Array(16),a=(e=e||{}).node||l,s=void 0!==e.clockseq?e.clockseq:d;if(null==a||null==s){var u=e.random||(e.rng||o)();null==a&&(a=l=[1|u[0],u[1],u[2],u[3],u[4],u[5]]),null==s&&(s=d=16383&(u[6]<<8|u[7]))}var c=void 0!==e.msecs?e.msecs:Date.now(),y=void 0!==e.nsecs?e.nsecs:p+1,g=c-h+(y-p)/1e4;if(g<0&&void 0===e.clockseq&&(s=s+1&16383),(g<0||c>h)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");h=c,p=y,d=s;var v=(1e4*(268435455&(c+=122192928e5))+y)%4294967296;i[r++]=v>>>24&255,i[r++]=v>>>16&255,i[r++]=v>>>8&255,i[r++]=255&v;var E=c/4294967296*1e4&268435455;i[r++]=E>>>8&255,i[r++]=255&E,i[r++]=E>>>24&15|16,i[r++]=E>>>16&255,i[r++]=s>>>8|128,i[r++]=255&s;for(var m=0;m<6;++m)i[r+m]=a[m];return t||f(i)};var g=function(e){if(!s(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var v=function(e,t,n){function r(e,r,i,o){if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(r),a.set(e,r.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,i){o=o||0;for(var s=0;s<16;++s)i[o+s]=a[s];return i}return f(a)}try{r.name=e}catch(i){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function E(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function w(e,t,n,r,i,o){return m((a=m(m(t,e),m(r,o)))<<(s=i)|a>>>32-s,n);var a,s}function S(e,t,n,r,i,o,a){return w(t&n|~t&r,e,t,i,o,a)}function b(e,t,n,r,i,o,a){return w(t&r|n&~r,e,t,i,o,a)}function _(e,t,n,r,i,o,a){return w(t^n^r,e,t,i,o,a)}function T(e,t,n,r,i,o,a){return w(n^(t|~r),e,t,i,o,a)}var I=v("v3",48,(function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[E(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,o=271733878,a=0;a<e.length;a+=16){var s=n,u=r,c=i,l=o;n=S(n,r,i,o,e[a],7,-680876936),o=S(o,n,r,i,e[a+1],12,-389564586),i=S(i,o,n,r,e[a+2],17,606105819),r=S(r,i,o,n,e[a+3],22,-1044525330),n=S(n,r,i,o,e[a+4],7,-176418897),o=S(o,n,r,i,e[a+5],12,1200080426),i=S(i,o,n,r,e[a+6],17,-1473231341),r=S(r,i,o,n,e[a+7],22,-45705983),n=S(n,r,i,o,e[a+8],7,1770035416),o=S(o,n,r,i,e[a+9],12,-1958414417),i=S(i,o,n,r,e[a+10],17,-42063),r=S(r,i,o,n,e[a+11],22,-1990404162),n=S(n,r,i,o,e[a+12],7,1804603682),o=S(o,n,r,i,e[a+13],12,-40341101),i=S(i,o,n,r,e[a+14],17,-1502002290),n=b(n,r=S(r,i,o,n,e[a+15],22,1236535329),i,o,e[a+1],5,-165796510),o=b(o,n,r,i,e[a+6],9,-1069501632),i=b(i,o,n,r,e[a+11],14,643717713),r=b(r,i,o,n,e[a],20,-373897302),n=b(n,r,i,o,e[a+5],5,-701558691),o=b(o,n,r,i,e[a+10],9,38016083),i=b(i,o,n,r,e[a+15],14,-660478335),r=b(r,i,o,n,e[a+4],20,-405537848),n=b(n,r,i,o,e[a+9],5,568446438),o=b(o,n,r,i,e[a+14],9,-1019803690),i=b(i,o,n,r,e[a+3],14,-187363961),r=b(r,i,o,n,e[a+8],20,1163531501),n=b(n,r,i,o,e[a+13],5,-1444681467),o=b(o,n,r,i,e[a+2],9,-51403784),i=b(i,o,n,r,e[a+7],14,1735328473),n=_(n,r=b(r,i,o,n,e[a+12],20,-1926607734),i,o,e[a+5],4,-378558),o=_(o,n,r,i,e[a+8],11,-2022574463),i=_(i,o,n,r,e[a+11],16,1839030562),r=_(r,i,o,n,e[a+14],23,-35309556),n=_(n,r,i,o,e[a+1],4,-1530992060),o=_(o,n,r,i,e[a+4],11,1272893353),i=_(i,o,n,r,e[a+7],16,-155497632),r=_(r,i,o,n,e[a+10],23,-1094730640),n=_(n,r,i,o,e[a+13],4,681279174),o=_(o,n,r,i,e[a],11,-358537222),i=_(i,o,n,r,e[a+3],16,-722521979),r=_(r,i,o,n,e[a+6],23,76029189),n=_(n,r,i,o,e[a+9],4,-640364487),o=_(o,n,r,i,e[a+12],11,-421815835),i=_(i,o,n,r,e[a+15],16,530742520),n=T(n,r=_(r,i,o,n,e[a+2],23,-995338651),i,o,e[a],6,-198630844),o=T(o,n,r,i,e[a+7],10,1126891415),i=T(i,o,n,r,e[a+14],15,-1416354905),r=T(r,i,o,n,e[a+5],21,-57434055),n=T(n,r,i,o,e[a+12],6,1700485571),o=T(o,n,r,i,e[a+3],10,-1894986606),i=T(i,o,n,r,e[a+10],15,-1051523),r=T(r,i,o,n,e[a+1],21,-2054922799),n=T(n,r,i,o,e[a+8],6,1873313359),o=T(o,n,r,i,e[a+15],10,-30611744),i=T(i,o,n,r,e[a+6],15,-1560198380),r=T(r,i,o,n,e[a+13],21,1309151649),n=T(n,r,i,o,e[a+4],6,-145523070),o=T(o,n,r,i,e[a+11],10,-1120210379),i=T(i,o,n,r,e[a+2],15,718787259),r=T(r,i,o,n,e[a+9],21,-343485551),n=m(n,s),r=m(r,u),i=m(i,c),o=m(o,l)}return[n,r,i,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(E(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var R=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return f(r)};function N(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function A(e,t){return e<<t|e>>>32-t}var O=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a),u=0;u<a;++u){for(var c=new Uint32Array(16),l=0;l<16;++l)c[l]=e[64*u+4*l]<<24|e[64*u+4*l+1]<<16|e[64*u+4*l+2]<<8|e[64*u+4*l+3];s[u]=c}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<a;++d){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=s[d][h];for(var p=16;p<80;++p)f[p]=A(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var y=n[0],g=n[1],v=n[2],E=n[3],m=n[4],w=0;w<80;++w){var S=Math.floor(w/20),b=A(y,5)+N(S,g,v,E)+m+t[S]+f[w]>>>0;m=E,E=v,v=A(g,30)>>>0,g=y,y=b}n[0]=n[0]+y>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+E>>>0,n[4]=n[4]+m>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),k="00000000-0000-0000-0000-000000000000";var C=function(e){if(!s(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";var r=n(54);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},function(e,t,n){"use strict";const r=n(78).v4,i=n(116),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return r()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,n,r){const o=this;let a=null;const s=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&e&&"object"===typeof e&&"function"===typeof t)r=t,a=e;else{"function"===typeof n&&(r=n,n=void 0);const o="function"===typeof r;try{a=i(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(o)return r(c);throw c}if(!o)return a}let u;try{u=JSON.stringify(a,this.options.replacer)}catch(c){return r(c)}return this.callServer(u,(function(e,t){o._parseResponse(e,t,r)})),a},o.prototype._parseResponse=function(e,t,n){if(e)return void n(e);if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(e){return n(e)}if(3===n.length){if(Array.isArray(r)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return n(null,r.filter(e),r.filter(t))}return n(null,r.error,r.result)}n(null,r)}},function(e,t,n){"use strict";var r,i="object"===typeof Reflect?Reflect:null,o=i&&"function"===typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"===typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!==e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var i,o,a,s;if(c(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=f.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):g(i,i.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=i[e];if(void 0===u)return!1;if("function"===typeof u)o(u,this,t);else{var c=u.length,l=g(u,c);for(n=0;n<c;++n)o(l[n],this,t)}return!0},s.prototype.addListener=function(e,t){return d(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return d(this,e,t,!0)},s.prototype.once=function(e,t){return c(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,o,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},s.prototype.listenerCount=y,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(83),i=n.n(r),o=n(85),a=n.n(o),s=n(0),u=n.n(s),c=n(84),l=n.n(c);function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var h=["autoResize","bodyBackground","bodyMargin","bodyPadding","checkOrigin","inPageLinks","heightCalculationMethod","interval","log","maxHeight","maxWidth","minHeight","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","warningTimeout","tolerance","widthCalculationMethod","onClosed","onInit","onMessage","onResized"],p=["title","forwardRef"],y=function(e){var t=e.title,n=void 0===t?"iframe":t,r=e.forwardRef,o=f(e,p),a=function(e){return e.autoResize,e.bodyBackground,e.bodyMargin,e.bodyPadding,e.checkOrigin,e.inPageLinks,e.heightCalculationMethod,e.interval,e.log,e.maxHeight,e.maxWidth,e.minHeight,e.minWidth,e.resizeFrom,e.scrolling,e.sizeHeight,e.sizeWidth,e.warningTimeout,e.tolerance,e.widthCalculationMethod,e.onClosed,e.onInit,e.onMessage,e.onResized,f(e,h)}(o),c=Object(s.useRef)(null),y=function(){var e;return l()(!(null!=c&&c.current),"[iframeSizerReact]["+(null==c||null==(e=c.current)?void 0:e.id)+"] Close event ignored, to remove the iframe update your React component"),!(null!=c&&c.current)};return Object(s.useEffect)((function(){var e=c.current;return i()(d({},o,{onClose:y}),e),function(){var t;return null==e||null==(t=e.iFrameResizer)?void 0:t.removeListeners()}}),[]),Object(s.useImperativeHandle)(r,(function(){return{getIframeElement:function(){return c.current},resize:function(){return c.current.iFrameResizer.resize()},moveToAnchor:function(e){return c.current.iFrameResizer.moveToAnchor(e)},sendMessage:function(e,t){c.current.iFrameResizer.sendMessage(e,t)}}})),u.a.createElement("iframe",d({title:n},a,{ref:c}))};y.propTypes={title:a.a.string}},function(e,t,n){var r,i,o;console.info("\nIFRAME-RESIZER\n\nIframe-Resizer 5 is now available via the following two packages:\n\n * @iframe-resizer/parent\n * @iframe-resizer/child\n\nAdditionally their are also new versions of iframe-resizer for React, Vue, and jQuery.\n\nVersion 5 of iframe-resizer has been extensively rewritten to use modern browser APIs, which has enabled significantly better performance and greater accuracy in the detection of content resizing events.\n\nPlease see https://iframe-resizer.com/upgrade for more details.\n"),function(n){if("undefined"!==typeof window){var a,s,u=0,c=!1,l=!1,d="[iFrameSizer]",f=null,h=window.requestAnimationFrame,p=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),y={},g=null,v=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,license:"1jqr0si6pnt",log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){R("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}}),E={};window.jQuery!==n&&((s=window.jQuery).fn?s.fn.iFrameResize||(s.fn.iFrameResize=function(e){return this.filter("iframe").each((function(t,n){F(n,e)})).end()}):I("","Unable to bind to jQuery, it is not fully loaded.")),i=[],(o="function"===typeof(r=K)?r.apply(t,i):r)===n||(e.exports=o),window.iFrameResize=window.iFrameResize||K()}function m(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function w(e,t,n){e.addEventListener(t,n,!1)}function S(e,t,n){e.removeEventListener(t,n,!1)}function b(e){return d+"["+function(e){var t="Host page: "+e;return window.top!==window.self&&(t=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+e:"Nested host page: "+e),t}(e)+"]"}function _(e){return y[e]?y[e].log:c}function T(e,t){N("log",e,t,_(e))}function I(e,t){N("info",e,t,_(e))}function R(e,t){N("warn",e,t,!0)}function N(e,t,n,r){!0===r&&"object"===typeof window.console&&console[e](b(t),n)}function A(e){function t(){i("Height"),i("Width"),U((function(){D(g),M(v),h("onResized",g)}),g,"init")}function n(e){return"border-box"!==e.boxSizing?0:(e.paddingTop?parseInt(e.paddingTop,10):0)+(e.paddingBottom?parseInt(e.paddingBottom,10):0)}function r(e){return"border-box"!==e.boxSizing?0:(e.borderTopWidth?parseInt(e.borderTopWidth,10):0)+(e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0)}function i(e){var t=Number(y[v]["max"+e]),n=Number(y[v]["min"+e]),r=e.toLowerCase(),i=Number(g[r]);T(v,"Checking "+r+" is in range "+n+"-"+t),i<n&&(i=n,T(v,"Set "+r+" to min value")),i>t&&(i=t,T(v,"Set "+r+" to max value")),g[r]=""+i}function o(e){return p.slice(p.indexOf(":")+7+e)}function a(e,t){var n,r,i;n=function(){j("Send Page Info","pageInfo:"+function(){var e=document.body.getBoundingClientRect(),t=g.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(t.top-e.top,10),offsetLeft:parseInt(t.left-e.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}(),e,t)},r=32,E[i=t]||(E[i]=setTimeout((function(){E[i]=null,n()}),r))}function s(e){var t=e.getBoundingClientRect();return x(v),{x:Math.floor(Number(t.left)+Number(f.x)),y:Math.floor(Number(t.top)+Number(f.y))}}function u(e){var t=e?s(g.iframe):{x:0,y:0},n={x:Number(g.width)+t.x,y:Number(g.height)+t.y};T(v,"Reposition requested from iFrame (offset x:"+t.x+" y:"+t.y+")"),window.top===window.self?(f=n,c(),T(v,"--")):window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](n.x,n.y):R(v,"Unable to scroll to requested position, window.parentIFrame not found")}function c(){!1===h("onScroll",f)?P():M(v)}function l(e){var t={};if(0===Number(g.width)&&0===Number(g.height)){var n=o(9).split(":");t={x:n[1],y:n[0]}}else t={x:g.width,y:g.height};h(e,{iframe:g.iframe,screenX:Number(t.x),screenY:Number(t.y),type:g.type})}function h(e,t){return O(v,e,t)}var p=e.data,g={},v=null;"[iFrameResizerChild]Ready"===p?function(){for(var e in y)j("iFrame requested init",G(e),y[e].iframe,e)}():d===(""+p).slice(0,13)&&p.slice(13).split(":")[0]in y?(g=function(){var e=p.slice(13).split(":"),t=e[1]?parseInt(e[1],10):0,i=y[e[0]]&&y[e[0]].iframe,o=getComputedStyle(i);return{iframe:i,id:e[0],height:t+n(o)+r(o),width:e[2],type:e[3]}}(),v=g.id,y[v]&&(y[v].loaded=!0),!function(){var e=g.type in{true:1,false:1,undefined:1};return e&&T(v,"Ignoring init message from meta parent page"),e}()&&function(e){var t=!0;return y[e]||(t=!1,R(g.type+" No settings for "+e+". Message was: "+p)),t}(v)&&(T(v,"Received: "+p),function(){var e=!0;return null===g.iframe&&(R(v,"IFrame ("+g.id+") not found"),e=!1),e}()&&function(){var t=e.origin,n=y[v]&&y[v].checkOrigin;if(n&&""+t!=="null"&&!(n.constructor===Array?function(){var e=0,r=!1;for(T(v,"Checking connection is from allowed list of origins: "+n);e<n.length;e++)if(n[e]===t){r=!0;break}return r}():function(){var e=y[v]&&y[v].remoteHost;return T(v,"Checking connection is from: "+e),t===e}()))throw new Error("Unexpected message received from: "+t+" for "+g.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(y[v]&&y[v].firstRun&&y[v]&&(y[v].firstRun=!1),g.type){case"close":C(g.iframe);break;case"message":e=o(6),T(v,"onMessage passed: {iframe: "+g.iframe.id+", message: "+e+"}"),h("onMessage",{iframe:g.iframe,message:JSON.parse(e)}),T(v,"--");break;case"mouseenter":l("onMouseEnter");break;case"mouseleave":l("onMouseLeave");break;case"autoResize":y[v].autoResize=JSON.parse(o(9));break;case"scrollTo":u(!1);break;case"scrollToOffset":u(!0);break;case"pageInfo":a(y[v]&&y[v].iframe,v),function(){function e(e,r){function i(){y[n]?a(y[n].iframe,n):t()}["scroll","resize"].forEach((function(t){T(n,e+t+" listener for sendPageInfo"),r(window,t,i)}))}function t(){e("Remove ",S)}var n=v;e("Add ",w),y[n]&&(y[n].stopPageInfo=t)}();break;case"pageInfoStop":y[v]&&y[v].stopPageInfo&&(y[v].stopPageInfo(),delete y[v].stopPageInfo);break;case"inPageLink":!function(e){var t=e.split("#")[1]||"",n=decodeURIComponent(t),r=document.getElementById(n)||document.getElementsByName(n)[0];r?function(){var e=s(r);T(v,"Moving to in page link (#"+t+") at x: "+e.x+" y: "+e.y),f={x:e.x,y:e.y},c(),T(v,"--")}():window.top===window.self?T(v,"In page link #"+t+" not found"):window.parentIFrame?window.parentIFrame.moveToAnchor(t):T(v,"In page link #"+t+" not found and window.parentIFrame not found")}(o(9));break;case"reset":L(g);break;case"init":t(),h("onInit",g.iframe);break;default:0===Number(g.width)&&0===Number(g.height)?R("Unsupported message received ("+g.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):t()}var e}())):I(v,"Ignored: "+p)}function O(e,t,n){var r=null,i=null;if(y[e]){if("function"!==typeof(r=y[e][t]))throw new TypeError(t+" on iFrame["+e+"] is not a function");i=r(n)}return i}function k(e){var t=e.id;delete y[t]}function C(e){var t=e.id;if(!1!==O(t,"onClose",t)){T(t,"Removing iFrame: "+t);try{e.parentNode&&e.parentNode.removeChild(e)}catch(n){R(n)}O(t,"onClosed",t),T(t,"--"),k(e),a&&(a.disconnect(),a=null)}else T(t,"Close iframe cancelled by onClose event")}function x(e){null===f&&T(e,"Get page position: "+(f={x:window.pageXOffset===n?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===n?document.documentElement.scrollTop:window.pageYOffset}).x+","+f.y)}function M(e){null!==f&&(window.scrollTo(f.x,f.y),T(e,"Set page position: "+f.x+","+f.y),P())}function P(){f=null}function L(e){T(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),x(e.id),U((function(){D(e),j("reset","reset",e.iframe,e.id)}),e,"reset")}function D(e){function t(t){l||"0"!==e[t]||(l=!0,T(r,"Hidden iFrame detected, creating visibility listener"),function(){function e(){function e(e){function t(t){return"0px"===(y[e]&&y[e].iframe.style[t])}function n(e){return null!==e.offsetParent}y[e]&&n(y[e].iframe)&&(t("height")||t("width"))&&j("Visibility change","resize",y[e].iframe,e)}Object.keys(y).forEach((function(t){e(t)}))}function t(t){T("window","Mutation observed: "+t[0].target+" "+t[0].type),B(e,16)}function n(){var e=document.querySelector("body"),n={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new r(t).observe(e,n)}var r=m();r&&n()}())}function n(n){!function(t){e.id?(e.iframe.style[t]=e[t]+"px",T(e.id,"IFrame ("+r+") "+t+" set to "+e[t]+"px")):T("undefined","messageData id not set")}(n),t(n)}var r=e.iframe.id;y[r]&&(y[r].sizeHeight&&n("height"),y[r].sizeWidth&&n("width"))}function U(e,t,n){n!==t.type&&h&&!window.jasmine?(T(t.id,"Requesting animation frame"),h(e)):e()}function j(e,t,n,r,i){var o=!1;r=r||n.id,y[r]&&(n&&"contentWindow"in n&&null!==n.contentWindow?function(){var i=y[r]&&y[r].targetOrigin;T(r,"["+e+"] Sending msg to iframe["+r+"] ("+t+") targetOrigin: "+i),n.contentWindow.postMessage(d+t,i)}():R(r,"["+e+"] IFrame("+r+") not found"),i&&y[r]&&y[r].warningTimeout&&(y[r].msgTimeout=setTimeout((function(){!y[r]||y[r].loaded||o||(o=!0,R(r,"IFrame has not responded within "+y[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),y[r].warningTimeout)))}function G(e){return e+":"+y[e].bodyMarginV1+":"+y[e].sizeWidth+":"+y[e].log+":"+y[e].interval+":"+y[e].enablePublicMethods+":"+y[e].autoResize+":"+y[e].bodyMargin+":"+y[e].heightCalculationMethod+":"+y[e].bodyBackground+":"+y[e].bodyPadding+":"+y[e].tolerance+":"+y[e].inPageLinks+":"+y[e].resizeFrom+":"+y[e].widthCalculationMethod+":"+y[e].mouseEvents}function F(e,t){function r(e){var t=e.split("Callback");if(2===t.length){var n="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1);this[n]=this[e],delete this[e],R(i,"Deprecated: '"+e+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var i=function(n){if("string"!==typeof n)throw new TypeError("Invaild id for iFrame. Expected String");return""===n&&(e.id=n=function(){var e=t&&t.id||v.id+u++;return null!==document.getElementById(e)&&(e+=u++),e}(),c=(t||{}).log,T(n,"Added missing iframe ID: "+n+" ("+e.src+")")),n}(e.id);i in y&&"iFrameResizer"in e?R(i,"Ignored iFrame, already setup."):(!function(t){var n;t=t||{},y[i]=Object.create(null),y[i].iframe=e,y[i].firstRun=!0,y[i].remoteHost=e.src&&e.src.split("/").slice(0,3).join("/"),function(e){if("object"!==typeof e)throw new TypeError("Options is not an object")}(t),Object.keys(t).forEach(r,t),function(e){for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&(y[i][t]=Object.prototype.hasOwnProperty.call(e,t)?e[t]:v[t])}(t),y[i]&&(y[i].targetOrigin=!0===y[i].checkOrigin?""===(n=y[i].remoteHost)||null!==n.match(/^(about:blank|javascript:|file:\/\/)/)?"*":n:"*")}(t),function(){switch(T(i,"IFrame scrolling "+(y[i]&&y[i].scrolling?"enabled":"disabled")+" for "+i),e.style.overflow=!1===(y[i]&&y[i].scrolling)?"hidden":"auto",y[i]&&y[i].scrolling){case"omit":break;case!0:e.scrolling="yes";break;case!1:e.scrolling="no";break;default:e.scrolling=y[i]?y[i].scrolling:"no"}}(),function(){function t(t){var n=y[i][t];1/0!==n&&0!==n&&(e.style[t]="number"===typeof n?n+"px":n,T(i,"Set "+t+" = "+e.style[t]))}function n(e){if(y[i]["min"+e]>y[i]["max"+e])throw new Error("Value for min"+e+" can not be greater than max"+e)}n("Height"),n("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),"number"!==typeof(y[i]&&y[i].bodyMargin)&&"0"!==(y[i]&&y[i].bodyMargin)||(y[i].bodyMarginV1=y[i].bodyMargin,y[i].bodyMargin=y[i].bodyMargin+"px"),function(t){var r=m();r&&(a=function(t){if(!e.parentNode)return null;var n=new t((function(t){t.forEach((function(t){Array.prototype.slice.call(t.removedNodes).forEach((function(t){t===e&&C(e)}))}))}));return n.observe(e.parentNode,{childList:!0}),n}(r)),w(e,"load",(function(){j("iFrame.onload",t,e,n,!0),function(){var t=y[i]&&y[i].firstRun,n=y[i]&&y[i].heightCalculationMethod in p;!t&&n&&L({iframe:e,height:0,width:0,type:"init"})}()})),j("init",t,e,n,!0)}(G(i)),y[i]&&(y[i].iframe.iFrameResizer={close:C.bind(null,y[i].iframe),removeListeners:k.bind(null,y[i].iframe),resize:j.bind(null,"Window resize","resize",y[i].iframe),moveToAnchor:function(e){j("Move to anchor","moveToAnchor:"+e,y[i].iframe,i)},sendMessage:function(e){j("Send Message","message:"+(e=JSON.stringify(e)),y[i].iframe,i)}}))}function B(e,t){null===g&&(g=setTimeout((function(){g=null,e()}),t))}function z(){"hidden"!==document.visibilityState&&(T("document","Trigger event: Visibility change"),B((function(){W("Tab Visible","resize")}),16))}function W(e,t){Object.keys(y).forEach((function(n){(function(e){return y[e]&&"parent"===y[e].resizeFrom&&y[e].autoResize&&!y[e].firstRun})(n)&&j(e,t,y[n].iframe,n)}))}function H(){w(window,"message",A),w(window,"resize",(function(){var e;T("window","Trigger event: "+(e="resize")),B((function(){W("Window "+e,"resize")}),16)})),w(document,"visibilitychange",z),w(document,"-webkit-visibilitychange",z)}function K(){function e(e,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),F(n,e),t.push(n))}var t;return function(){var e,t=["moz","webkit","o","ms"];for(e=0;e<t.length&&!h;e+=1)h=window[t[e]+"RequestAnimationFrame"];h?h=h.bind(window):T("setup","RequestAnimationFrame not supported")}(),H(),function(r,i){switch(t=[],function(e){e&&e.enablePublicMethods&&R("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(r),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(n,r));break;case"object":e(r,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return t}}}()},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){e.exports=n(128)()},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(2),i=n(8),o=n(57),a=n(87),s=n(23);const u={background:"rgba(0, 0, 0, 0.5)",position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",minHeight:"26",overflow:"hidden",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},c={display:"flex",flexDirection:"column",maxWidth:"526px",width:"100%",minHeight:"26",maxHeight:"100",background:"rgba(255, 255, 255, 0)",borderRadius:"32px",boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.25)",overflow:"hidden"},l={top:"5px",right:"5px",padding:"10px",background:"transparent",border:"none",borderRadius:"25px",height:"50px",width:"50px",cursor:"pointer",margin:"10px 0 0 0"},d=Object.assign(Object.assign({},l),{margin:"0 0 0 0"}),f={height:"80px",flexGrow:0,flexShrink:0,flexBasis:"80px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"32px 32px 0 0",borderBottom:"1px solid #ddd",position:"relative",background:"#fff"},h={maxHeight:"40px",maxWidth:"100%",height:"auto",width:"auto"},p={height:"48px"},y=t=>{let{children:n=null,onClose:y,logo:g,loaded:v=!1,loading:E=!1}=t;const m=g?l:d,w="undefined"!==typeof e&&!!Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})&&"true"===Object({NODE_ENV:"production",PUBLIC_URL:"/joppie_MVP",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_CI;return i.logger.debug("DefaultWrapper",{loaded:v,loading:E}),Object(r.jsx)("div",Object.assign({style:Object.assign(Object.assign({},u),{position:"fixed",flexDirection:"column",zIndex:999})},{children:Object(r.jsxs)("div",Object.assign({style:Object.assign(Object.assign(Object.assign({},c),{flexDirection:"column",position:"relative"}),E?{filter:"contrast(0.5)",background:"#fff"}:{})},{children:[g&&v&&Object(r.jsx)("header",Object.assign({style:Object.assign(Object.assign({},f),{position:"relative"})},{children:Object(r.jsx)("img",{style:h,src:g,alt:"logo"})})),!g&&v&&w&&Object(r.jsx)("div",{style:p}),!v&&Object(r.jsx)(a.a,{}),Object(r.jsx)("button",Object.assign({"data-testid":s.c,type:"button",onClick:y,style:Object.assign(Object.assign({},m),{display:v?"block":"none",position:"absolute"})},{children:Object(r.jsx)(o.a,{})})),n]}))}))},g=e=>{let{wrapper:t,onClose:n,children:i=null,logo:a,loaded:s=!1,loading:u=!1}=e;if(t){const e=t;return Object(r.jsxs)(e,{children:[s&&Object(r.jsx)("button",Object.assign({type:"button",onClick:n,style:Object.assign(Object.assign({},l),{display:s?"block":"none",position:"absolute"})},{children:Object(r.jsx)(o.a,{})})),i]})}return Object(r.jsx)(y,Object.assign({onClose:n,logo:a,loaded:s,loading:u},{children:i}))}}).call(this,n(48))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r,i,o=n(32),a=n(2),s=n(33);const u={position:"absolute",top:0,left:0},c=Object(s.b)(r||(r=Object(o.a)(["\n  0% {\n    transform: translate(-328px, 0);\n  }\n\n  to {\n    transform: translate(328px, 0);\n  }\n"]))),l=s.a.path(i||(i=Object(o.a)(["\n  animation: 1s linear infinite both ",";\n"])),c);function d(){return Object(a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision",viewBox:"0 0 324 16","white-space":"pre",height:"26",width:"100%",style:Object.assign(Object.assign({},u),{position:"absolute"})},{children:[Object(a.jsx)("defs",{children:Object(a.jsxs)("linearGradient",Object.assign({id:"Gradient-0",x2:"320",y1:"15",y2:"15",gradientUnits:"userSpaceOnUse"},{children:[Object(a.jsx)("stop",{offset:"0",stopColor:"#ffffff"}),Object(a.jsx)("stop",{offset:".511",stopColor:"#9A9DA6"}),Object(a.jsx)("stop",{offset:"1",stopColor:"#ffffff"})]}))}),Object(a.jsx)("path",{id:"rect",fill:"#f6f7f8",d:"M0 0h324v16H0z"}),Object(a.jsx)(l,{id:"shimmer",fill:"url(#Gradient-0)",d:"M0 0h324v16H0z",transform:"translate(-324)"})]}))}},function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],d=t[c];if(!1===(i=n?n.call(r,l,d,c):void 0)||void 0===i&&l!==d)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,r,u,c,f){for(var h,p,y,g,w,b=0,_=0,T=0,I=0,R=0,x=0,P=y=h=0,D=0,U=0,j=0,G=0,F=u.length,B=F-1,z="",W="",H="",K="";D<F;){if(p=u.charCodeAt(D),D===B&&0!==_+I+T+b&&(0!==_&&(p=47===_?10:47),I=T=b=0,F++,B++),0===_+I+T+b){if(D===B&&(0<U&&(z=z.replace(d,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(D)}p=59}switch(p){case 123:for(h=(z=z.trim()).charCodeAt(0),y=1,G=++D;D<F;){switch(p=u.charCodeAt(D)){case 123:y++;break;case 125:y--;break;case 47:switch(p=u.charCodeAt(D+1)){case 42:case 47:e:{for(P=D+1;P<B;++P)switch(u.charCodeAt(P)){case 47:if(42===p&&42===u.charCodeAt(P-1)&&D+2!==P){D=P+1;break e}break;case 10:if(47===p){D=P+1;break e}}D=P}}break;case 91:p++;case 40:p++;case 34:case 39:for(;D++<B&&u.charCodeAt(D)!==p;);}if(0===y)break;D++}if(y=u.substring(G,D),0===h&&(h=(z=z.replace(l,"").trim()).charCodeAt(0)),64===h){switch(0<U&&(z=z.replace(d,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:U=r;break;default:U=C}if(G=(y=t(r,U,y,p,f+1)).length,0<M&&(w=s(3,y,U=n(C,z,j),r,A,N,G,p,f,c),z=U.join(""),void 0!==w&&0===(G=(y=w.trim()).length)&&(p=0,y="")),0<G)switch(p){case 115:z=z.replace(S,a);case 100:case 109:case 45:y=z+"{"+y+"}";break;case 107:y=(z=z.replace(v,"$1 $2"))+"{"+y+"}",y=1===k||2===k&&o("@"+y,3)?"@-webkit-"+y+"@"+y:"@"+y;break;default:y=z+y,112===c&&(W+=y,y="")}else y=""}else y=t(r,n(r,z,j),y,c,f+1);H+=y,y=j=U=P=h=0,z="",p=u.charCodeAt(++D);break;case 125:case 59:if(1<(G=(z=(0<U?z.replace(d,""):z).trim()).length))switch(0===P&&(h=z.charCodeAt(0),45===h||96<h&&123>h)&&(G=(z=z.replace(" ",":")).length),0<M&&void 0!==(w=s(1,z,r,e,A,N,W.length,c,f,c))&&0===(G=(z=w.trim()).length)&&(z="\0\0"),h=z.charCodeAt(0),p=z.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){K+=z+u.charAt(D);break}default:58!==z.charCodeAt(G-1)&&(W+=i(z,h,p,z.charCodeAt(2)))}j=U=P=h=0,z="",p=u.charCodeAt(++D)}}switch(p){case 13:case 10:47===_?_=0:0===1+h&&107!==c&&0<z.length&&(U=1,z+="\0"),0<M*L&&s(0,z,r,e,A,N,W.length,c,f,c),N=1,A++;break;case 59:case 125:if(0===_+I+T+b){N++;break}default:switch(N++,g=u.charAt(D),p){case 9:case 32:if(0===I+b+_)switch(R){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===I+_+b&&(U=j=1,g="\f"+g);break;case 108:if(0===I+_+b+O&&0<P)switch(D-P){case 2:112===R&&58===u.charCodeAt(D-3)&&(O=R);case 8:111===x&&(O=x)}break;case 58:0===I+_+b&&(P=D);break;case 44:0===_+T+I+b&&(U=1,g+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+T&&b++;break;case 93:0===I+_+T&&b--;break;case 41:0===I+_+b&&T--;break;case 40:if(0===I+_+b){if(0===h)if(2*R+3*x===533);else h=1;T++}break;case 64:0===_+T+I+b+P+y&&(y=1);break;case 42:case 47:if(!(0<I+b+T))switch(_){case 0:switch(2*p+3*u.charCodeAt(D+1)){case 235:_=47;break;case 220:G=D,_=42}break;case 42:47===p&&42===R&&G+2!==D&&(33===u.charCodeAt(G+2)&&(W+=u.substring(G,D+1)),g="",_=0)}}0===_&&(z+=g)}x=R,R=p,D++}if(0<(G=W.length)){if(U=r,0<M&&(void 0!==(w=s(2,W,U,e,A,N,G,c,f,c))&&0===(W=w).length))return K+W+H;if(W=U.join(",")+"{"+W+"}",0!==k*O){switch(2!==k||o(W,2)||(O=0),O){case 111:W=W.replace(m,":-moz-$1")+W;break;case 112:W=W.replace(E,"::-webkit-input-$1")+W.replace(E,"::-moz-$1")+W.replace(E,":-ms-input-$1")+W}O=0}}return K+W+H}function n(e,t,n){var i=t.trim().split(y);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===k||2===k&&o(u,1)?"-webkit-"+u+u:u}if(0===k||2===k&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(R,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return h.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),P(2!==t?r:r.replace(T,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(b," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var d,f=0,h=t;f<M;++f)switch(d=x[f].call(c,e,h,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:h=d}if(h!==t)return h}function u(e){return void 0!==(e=e.prefix)&&(P=null,e?"function"!==typeof e?k=1:(k=2,P=e):k=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<M){var i=s(-1,n,r,r,A,N,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(C,r,n,0,0);return 0<M&&(void 0!==(i=s(-2,o,r,r,A,N,o.length,0,0,0))&&(o=i)),O=0,N=A=1,o}var l=/^\0+/g,d=/[\0\r\f]/g,f=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,y=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,E=/::(place)/g,m=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,S=/\(\s*(.*)\s*\)/g,b=/([\s\S]*?);/g,_=/-self|flex-/g,T=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,R=/([^-])(image-set\()/,N=1,A=1,O=0,k=1,C=[],x=[],M=0,P=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:M=x.length=0;break;default:if("function"===typeof t)x[M++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=u,void 0!==e&&u(e),c}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5);const i=e=>e?r.a[e.toUpperCase()]:r.a.UNKNOWN},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="@civic/gateway-client-react:1.2.4"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(8),i=n(0);const o=(e,t)=>{const n=Object(i.useRef)(!1);(()=>{var o,a;const s=Object(i.useCallback)((async()=>{var i,o,a,s;e?n.current?r.logger.debug("Page close analytics event already sent. Not sending again."):(null===(o=null===(i=null===t||void 0===t?void 0:t.inputs)||void 0===i?void 0:i.chainImplementation)||void 0===o?void 0:o.pendingTransaction)&&(r.logger.debug("Sending analytics event on page close."),n.current=!0,await Object(r.sendOnCloseAnalyticsEvent)(e,null===(s=null===(a=null===t||void 0===t?void 0:t.inputs)||void 0===a?void 0:a.chainImplementation)||void 0===s?void 0:s.pendingTransaction,navigator.sendBeacon.bind(navigator))):r.logger.debug("No flowParameters. Cannot send analytics event.")}),[JSON.stringify(e),null===(a=null===(o=null===t||void 0===t?void 0:t.inputs)||void 0===o?void 0:o.chainImplementation)||void 0===a?void 0:a.pendingTransaction]),u=Object(i.useCallback)((()=>{"hidden"===document.visibilityState&&(r.logger.debug("visibilitychange to hidden. Calling sendOnCloseAnalyticsEvent."),s())}),[s]),c=Object(i.useCallback)((()=>{r.logger.debug("pagehide event fired. Calling abort on core."),s()}),[s]),l=Object(i.useCallback)((async e=>{await s(),e.returnValue=""}),[s]),d=Object(i.useCallback)((()=>{r.logger.debug("Removing all page close listeners"),window.removeEventListener("beforeunload",l),window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",c)}),[l,u,c]);Object(i.useEffect)((()=>document.visibilityState?(r.logger.debug("Browser supports visibilitychange event. Registering listener for it (core)."),document.addEventListener("visibilitychange",u),d):"onpagehide"in window?(r.logger.debug("Browser supports pagehide event. Registering listener for it."),window.addEventListener("pagehide",c),d):(r.logger.debug("Adding beforeunload listener"),window.addEventListener("beforeunload",l),d)),[s,d])})()}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(6);n(8);const i=t=>r.Transaction.from(e.from(t,"base64"))}).call(this,n(4).Buffer)},function(e,t,n){!function(e){"use strict";var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),s=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=255&r}function y(e,t,n,r,i){var o,a=0;for(o=0;o<i;o++)a|=e[t+o]^n[r+o];return(1&a-1>>>8)-1}function g(e,t,n,r){return y(e,t,n,r,16)}function v(e,t,n,r){return y(e,t,n,r,32)}function E(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,E=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,S=o,b=a,_=s,T=u,I=c,R=l,N=d,A=f,O=h,k=p,C=y,x=g,M=v,P=E,L=m,D=w,U=0;U<20;U+=2)S^=(i=(M^=(i=(O^=(i=(I^=(i=S+M|0)<<7|i>>>25)+S|0)<<9|i>>>23)+I|0)<<13|i>>>19)+O|0)<<18|i>>>14,R^=(i=(b^=(i=(P^=(i=(k^=(i=R+b|0)<<7|i>>>25)+R|0)<<9|i>>>23)+k|0)<<13|i>>>19)+P|0)<<18|i>>>14,C^=(i=(N^=(i=(_^=(i=(L^=(i=C+N|0)<<7|i>>>25)+C|0)<<9|i>>>23)+L|0)<<13|i>>>19)+_|0)<<18|i>>>14,D^=(i=(x^=(i=(A^=(i=(T^=(i=D+x|0)<<7|i>>>25)+D|0)<<9|i>>>23)+T|0)<<13|i>>>19)+A|0)<<18|i>>>14,S^=(i=(T^=(i=(_^=(i=(b^=(i=S+T|0)<<7|i>>>25)+S|0)<<9|i>>>23)+b|0)<<13|i>>>19)+_|0)<<18|i>>>14,R^=(i=(I^=(i=(A^=(i=(N^=(i=R+I|0)<<7|i>>>25)+R|0)<<9|i>>>23)+N|0)<<13|i>>>19)+A|0)<<18|i>>>14,C^=(i=(k^=(i=(O^=(i=(x^=(i=C+k|0)<<7|i>>>25)+C|0)<<9|i>>>23)+x|0)<<13|i>>>19)+O|0)<<18|i>>>14,D^=(i=(L^=(i=(P^=(i=(M^=(i=D+L|0)<<7|i>>>25)+D|0)<<9|i>>>23)+M|0)<<13|i>>>19)+P|0)<<18|i>>>14;S=S+o|0,b=b+a|0,_=_+s|0,T=T+u|0,I=I+c|0,R=R+l|0,N=N+d|0,A=A+f|0,O=O+h|0,k=k+p|0,C=C+y|0,x=x+g|0,M=M+v|0,P=P+E|0,L=L+m|0,D=D+w|0,e[0]=S>>>0&255,e[1]=S>>>8&255,e[2]=S>>>16&255,e[3]=S>>>24&255,e[4]=b>>>0&255,e[5]=b>>>8&255,e[6]=b>>>16&255,e[7]=b>>>24&255,e[8]=_>>>0&255,e[9]=_>>>8&255,e[10]=_>>>16&255,e[11]=_>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=I>>>0&255,e[17]=I>>>8&255,e[18]=I>>>16&255,e[19]=I>>>24&255,e[20]=R>>>0&255,e[21]=R>>>8&255,e[22]=R>>>16&255,e[23]=R>>>24&255,e[24]=N>>>0&255,e[25]=N>>>8&255,e[26]=N>>>16&255,e[27]=N>>>24&255,e[28]=A>>>0&255,e[29]=A>>>8&255,e[30]=A>>>16&255,e[31]=A>>>24&255,e[32]=O>>>0&255,e[33]=O>>>8&255,e[34]=O>>>16&255,e[35]=O>>>24&255,e[36]=k>>>0&255,e[37]=k>>>8&255,e[38]=k>>>16&255,e[39]=k>>>24&255,e[40]=C>>>0&255,e[41]=C>>>8&255,e[42]=C>>>16&255,e[43]=C>>>24&255,e[44]=x>>>0&255,e[45]=x>>>8&255,e[46]=x>>>16&255,e[47]=x>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=P>>>0&255,e[53]=P>>>8&255,e[54]=P>>>16&255,e[55]=P>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=D>>>0&255,e[61]=D>>>8&255,e[62]=D>>>16&255,e[63]=D>>>24&255}(e,t,n,r)}function m(e,t,n,r){!function(e,t,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,u=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,l=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,d=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,f=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,h=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,g=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,v=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,E=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,m=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,w=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,S=0;S<20;S+=2)o^=(i=(v^=(i=(h^=(i=(c^=(i=o+v|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+h|0)<<18|i>>>14,l^=(i=(a^=(i=(E^=(i=(p^=(i=l+a|0)<<7|i>>>25)+l|0)<<9|i>>>23)+p|0)<<13|i>>>19)+E|0)<<18|i>>>14,y^=(i=(d^=(i=(s^=(i=(m^=(i=y+d|0)<<7|i>>>25)+y|0)<<9|i>>>23)+m|0)<<13|i>>>19)+s|0)<<18|i>>>14,w^=(i=(g^=(i=(f^=(i=(u^=(i=w+g|0)<<7|i>>>25)+w|0)<<9|i>>>23)+u|0)<<13|i>>>19)+f|0)<<18|i>>>14,o^=(i=(u^=(i=(s^=(i=(a^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+a|0)<<13|i>>>19)+s|0)<<18|i>>>14,l^=(i=(c^=(i=(f^=(i=(d^=(i=l+c|0)<<7|i>>>25)+l|0)<<9|i>>>23)+d|0)<<13|i>>>19)+f|0)<<18|i>>>14,y^=(i=(p^=(i=(h^=(i=(g^=(i=y+p|0)<<7|i>>>25)+y|0)<<9|i>>>23)+g|0)<<13|i>>>19)+h|0)<<18|i>>>14,w^=(i=(m^=(i=(E^=(i=(v^=(i=w+m|0)<<7|i>>>25)+w|0)<<9|i>>>23)+v|0)<<13|i>>>19)+E|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=l>>>0&255,e[5]=l>>>8&255,e[6]=l>>>16&255,e[7]=l>>>24&255,e[8]=y>>>0&255,e[9]=y>>>8&255,e[10]=y>>>16&255,e[11]=y>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=d>>>0&255,e[17]=d>>>8&255,e[18]=d>>>16&255,e[19]=d>>>24&255,e[20]=f>>>0&255,e[21]=f>>>8&255,e[22]=f>>>16&255,e[23]=f>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,n,r)}var w=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,n,r,i,o,a){var s,u,c=new Uint8Array(16),l=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(E(l,c,a,w),u=0;u<64;u++)e[t+u]=n[r+u]^l[u];for(s=1,u=8;u<16;u++)s=s+(255&c[u])|0,c[u]=255&s,s>>>=8;i-=64,t+=64,r+=64}if(i>0)for(E(l,c,a,w),u=0;u<i;u++)e[t+u]=n[r+u]^l[u];return 0}function b(e,t,n,r,i){var o,a,s=new Uint8Array(16),u=new Uint8Array(64);for(a=0;a<16;a++)s[a]=0;for(a=0;a<8;a++)s[a]=r[a];for(;n>=64;){for(E(u,s,i,w),a=0;a<64;a++)e[t+a]=u[a];for(o=1,a=8;a<16;a++)o=o+(255&s[a])|0,s[a]=255&o,o>>>=8;n-=64,t+=64}if(n>0)for(E(u,s,i,w),a=0;a<n;a++)e[t+a]=u[a];return 0}function _(e,t,n,r,i){var o=new Uint8Array(32);m(o,r,i,w);for(var a=new Uint8Array(8),s=0;s<8;s++)a[s]=r[s+16];return b(e,t,n,a,o)}function T(e,t,n,r,i,o,a){var s=new Uint8Array(32);m(s,o,a,w);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return S(e,t,n,r,i,u,s)}var I=function(e){var t,n,r,i,o,a,s,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,n=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|n<<3),r=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|a<<2),s=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|s<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(s>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function R(e,t,n,r,i,o){var a=new I(o);return a.update(n,r,i),a.finish(e,t),0}function N(e,t,n,r,i,o){var a=new Uint8Array(16);return R(a,0,n,r,i,o),g(e,t,a,0)}function A(e,t,n,r,i){var o;if(n<32)return-1;for(T(e,0,t,0,n,r,i),R(e,16,e,32,n-32,e),o=0;o<16;o++)e[o]=0;return 0}function O(e,t,n,r,i){var o,a=new Uint8Array(32);if(n<32)return-1;if(_(a,0,32,r,i),0!==N(t,16,t,32,n-32,a))return-1;for(T(e,0,t,0,n,r,i),o=0;o<32;o++)e[o]=0;return 0}function k(e,t){var n;for(n=0;n<16;n++)e[n]=0|t[n]}function C(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-65536*r;e[0]+=r-1+37*(r-1)}function x(e,t,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(e[o]^t[o]),e[o]^=r,t[o]^=r}function M(e,n){var r,i,o,a=t(),s=t();for(r=0;r<16;r++)s[r]=n[r];for(C(s),C(s),C(s),i=0;i<2;i++){for(a[0]=s[0]-65517,r=1;r<15;r++)a[r]=s[r]-65535-(a[r-1]>>16&1),a[r-1]&=65535;a[15]=s[15]-32767-(a[14]>>16&1),o=a[15]>>16&1,a[14]&=65535,x(s,a,1-o)}for(r=0;r<16;r++)e[2*r]=255&s[r],e[2*r+1]=s[r]>>8}function P(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return M(n,e),M(r,t),v(n,0,r,0)}function L(e){var t=new Uint8Array(32);return M(t,e),1&t[0]}function D(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function U(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function j(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function G(e,t,n){var r,i,o=0,a=0,s=0,u=0,c=0,l=0,d=0,f=0,h=0,p=0,y=0,g=0,v=0,E=0,m=0,w=0,S=0,b=0,_=0,T=0,I=0,R=0,N=0,A=0,O=0,k=0,C=0,x=0,M=0,P=0,L=0,D=n[0],U=n[1],j=n[2],G=n[3],F=n[4],B=n[5],z=n[6],W=n[7],H=n[8],K=n[9],V=n[10],q=n[11],Y=n[12],Q=n[13],Z=n[14],X=n[15];o+=(r=t[0])*D,a+=r*U,s+=r*j,u+=r*G,c+=r*F,l+=r*B,d+=r*z,f+=r*W,h+=r*H,p+=r*K,y+=r*V,g+=r*q,v+=r*Y,E+=r*Q,m+=r*Z,w+=r*X,a+=(r=t[1])*D,s+=r*U,u+=r*j,c+=r*G,l+=r*F,d+=r*B,f+=r*z,h+=r*W,p+=r*H,y+=r*K,g+=r*V,v+=r*q,E+=r*Y,m+=r*Q,w+=r*Z,S+=r*X,s+=(r=t[2])*D,u+=r*U,c+=r*j,l+=r*G,d+=r*F,f+=r*B,h+=r*z,p+=r*W,y+=r*H,g+=r*K,v+=r*V,E+=r*q,m+=r*Y,w+=r*Q,S+=r*Z,b+=r*X,u+=(r=t[3])*D,c+=r*U,l+=r*j,d+=r*G,f+=r*F,h+=r*B,p+=r*z,y+=r*W,g+=r*H,v+=r*K,E+=r*V,m+=r*q,w+=r*Y,S+=r*Q,b+=r*Z,_+=r*X,c+=(r=t[4])*D,l+=r*U,d+=r*j,f+=r*G,h+=r*F,p+=r*B,y+=r*z,g+=r*W,v+=r*H,E+=r*K,m+=r*V,w+=r*q,S+=r*Y,b+=r*Q,_+=r*Z,T+=r*X,l+=(r=t[5])*D,d+=r*U,f+=r*j,h+=r*G,p+=r*F,y+=r*B,g+=r*z,v+=r*W,E+=r*H,m+=r*K,w+=r*V,S+=r*q,b+=r*Y,_+=r*Q,T+=r*Z,I+=r*X,d+=(r=t[6])*D,f+=r*U,h+=r*j,p+=r*G,y+=r*F,g+=r*B,v+=r*z,E+=r*W,m+=r*H,w+=r*K,S+=r*V,b+=r*q,_+=r*Y,T+=r*Q,I+=r*Z,R+=r*X,f+=(r=t[7])*D,h+=r*U,p+=r*j,y+=r*G,g+=r*F,v+=r*B,E+=r*z,m+=r*W,w+=r*H,S+=r*K,b+=r*V,_+=r*q,T+=r*Y,I+=r*Q,R+=r*Z,N+=r*X,h+=(r=t[8])*D,p+=r*U,y+=r*j,g+=r*G,v+=r*F,E+=r*B,m+=r*z,w+=r*W,S+=r*H,b+=r*K,_+=r*V,T+=r*q,I+=r*Y,R+=r*Q,N+=r*Z,A+=r*X,p+=(r=t[9])*D,y+=r*U,g+=r*j,v+=r*G,E+=r*F,m+=r*B,w+=r*z,S+=r*W,b+=r*H,_+=r*K,T+=r*V,I+=r*q,R+=r*Y,N+=r*Q,A+=r*Z,O+=r*X,y+=(r=t[10])*D,g+=r*U,v+=r*j,E+=r*G,m+=r*F,w+=r*B,S+=r*z,b+=r*W,_+=r*H,T+=r*K,I+=r*V,R+=r*q,N+=r*Y,A+=r*Q,O+=r*Z,k+=r*X,g+=(r=t[11])*D,v+=r*U,E+=r*j,m+=r*G,w+=r*F,S+=r*B,b+=r*z,_+=r*W,T+=r*H,I+=r*K,R+=r*V,N+=r*q,A+=r*Y,O+=r*Q,k+=r*Z,C+=r*X,v+=(r=t[12])*D,E+=r*U,m+=r*j,w+=r*G,S+=r*F,b+=r*B,_+=r*z,T+=r*W,I+=r*H,R+=r*K,N+=r*V,A+=r*q,O+=r*Y,k+=r*Q,C+=r*Z,x+=r*X,E+=(r=t[13])*D,m+=r*U,w+=r*j,S+=r*G,b+=r*F,_+=r*B,T+=r*z,I+=r*W,R+=r*H,N+=r*K,A+=r*V,O+=r*q,k+=r*Y,C+=r*Q,x+=r*Z,M+=r*X,m+=(r=t[14])*D,w+=r*U,S+=r*j,b+=r*G,_+=r*F,T+=r*B,I+=r*z,R+=r*W,N+=r*H,A+=r*K,O+=r*V,k+=r*q,C+=r*Y,x+=r*Q,M+=r*Z,P+=r*X,w+=(r=t[15])*D,a+=38*(b+=r*j),s+=38*(_+=r*G),u+=38*(T+=r*F),c+=38*(I+=r*B),l+=38*(R+=r*z),d+=38*(N+=r*W),f+=38*(A+=r*H),h+=38*(O+=r*K),p+=38*(k+=r*V),y+=38*(C+=r*q),g+=38*(x+=r*Y),v+=38*(M+=r*Q),E+=38*(P+=r*Z),m+=38*(L+=r*X),o=(r=(o+=38*(S+=r*U))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o=(r=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(r/65536)),a=(r=a+i+65535)-65536*(i=Math.floor(r/65536)),s=(r=s+i+65535)-65536*(i=Math.floor(r/65536)),u=(r=u+i+65535)-65536*(i=Math.floor(r/65536)),c=(r=c+i+65535)-65536*(i=Math.floor(r/65536)),l=(r=l+i+65535)-65536*(i=Math.floor(r/65536)),d=(r=d+i+65535)-65536*(i=Math.floor(r/65536)),f=(r=f+i+65535)-65536*(i=Math.floor(r/65536)),h=(r=h+i+65535)-65536*(i=Math.floor(r/65536)),p=(r=p+i+65535)-65536*(i=Math.floor(r/65536)),y=(r=y+i+65535)-65536*(i=Math.floor(r/65536)),g=(r=g+i+65535)-65536*(i=Math.floor(r/65536)),v=(r=v+i+65535)-65536*(i=Math.floor(r/65536)),E=(r=E+i+65535)-65536*(i=Math.floor(r/65536)),m=(r=m+i+65535)-65536*(i=Math.floor(r/65536)),w=(r=w+i+65535)-65536*(i=Math.floor(r/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=u,e[4]=c,e[5]=l,e[6]=d,e[7]=f,e[8]=h,e[9]=p,e[10]=y,e[11]=g,e[12]=v,e[13]=E,e[14]=m,e[15]=w}function F(e,t){G(e,t,t)}function B(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=253;r>=0;r--)F(i,i),2!==r&&4!==r&&G(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function z(e,n){var r,i=t();for(r=0;r<16;r++)i[r]=n[r];for(r=250;r>=0;r--)F(i,i),1!==r&&G(i,i,n);for(r=0;r<16;r++)e[r]=i[r]}function W(e,n,r){var i,o,a=new Uint8Array(32),s=new Float64Array(80),c=t(),l=t(),d=t(),f=t(),h=t(),p=t();for(o=0;o<31;o++)a[o]=n[o];for(a[31]=127&n[31]|64,a[0]&=248,D(s,r),o=0;o<16;o++)l[o]=s[o],f[o]=c[o]=d[o]=0;for(c[0]=f[0]=1,o=254;o>=0;--o)x(c,l,i=a[o>>>3]>>>(7&o)&1),x(d,f,i),U(h,c,d),j(c,c,d),U(d,l,f),j(l,l,f),F(f,h),F(p,c),G(c,d,c),G(d,l,h),U(h,c,d),j(c,c,d),F(l,c),j(d,f,p),G(c,d,u),U(c,c,f),G(d,d,c),G(c,f,p),G(f,l,s),F(l,h),x(c,l,i),x(d,f,i);for(o=0;o<16;o++)s[o+16]=c[o],s[o+32]=d[o],s[o+48]=l[o],s[o+64]=f[o];var y=s.subarray(32),g=s.subarray(16);return B(y,y),G(g,g,y),M(e,g),0}function H(e,t){return W(e,t,o)}function K(e,t){return r(t,32),H(e,t)}function V(e,t,n){var r=new Uint8Array(32);return W(r,n,t),m(e,i,r,w)}I.prototype.blocks=function(e,t,n){for(var r,i,o,a,s,u,c,l,d,f,h,p,y,g,v,E,m,w,S,b=this.fin?0:2048,_=this.h[0],T=this.h[1],I=this.h[2],R=this.h[3],N=this.h[4],A=this.h[5],O=this.h[6],k=this.h[7],C=this.h[8],x=this.h[9],M=this.r[0],P=this.r[1],L=this.r[2],D=this.r[3],U=this.r[4],j=this.r[5],G=this.r[6],F=this.r[7],B=this.r[8],z=this.r[9];n>=16;)f=d=0,f+=(_+=8191&(r=255&e[t+0]|(255&e[t+1])<<8))*M,f+=(T+=8191&(r>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*z),f+=(I+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*B),f+=(R+=8191&(o>>>7|(a=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*F),d=(f+=(N+=8191&(a>>>4|(s=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*G))>>>13,f&=8191,f+=(A+=s>>>1&8191)*(5*j),f+=(O+=8191&(s>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*U),f+=(k+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*D),f+=(C+=8191&(c>>>8|(l=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*L),h=d+=(f+=(x+=l>>>5|b)*(5*P))>>>13,h+=_*P,h+=T*M,h+=I*(5*z),h+=R*(5*B),d=(h+=N*(5*F))>>>13,h&=8191,h+=A*(5*G),h+=O*(5*j),h+=k*(5*U),h+=C*(5*D),d+=(h+=x*(5*L))>>>13,h&=8191,p=d,p+=_*L,p+=T*P,p+=I*M,p+=R*(5*z),d=(p+=N*(5*B))>>>13,p&=8191,p+=A*(5*F),p+=O*(5*G),p+=k*(5*j),p+=C*(5*U),y=d+=(p+=x*(5*D))>>>13,y+=_*D,y+=T*L,y+=I*P,y+=R*M,d=(y+=N*(5*z))>>>13,y&=8191,y+=A*(5*B),y+=O*(5*F),y+=k*(5*G),y+=C*(5*j),g=d+=(y+=x*(5*U))>>>13,g+=_*U,g+=T*D,g+=I*L,g+=R*P,d=(g+=N*M)>>>13,g&=8191,g+=A*(5*z),g+=O*(5*B),g+=k*(5*F),g+=C*(5*G),v=d+=(g+=x*(5*j))>>>13,v+=_*j,v+=T*U,v+=I*D,v+=R*L,d=(v+=N*P)>>>13,v&=8191,v+=A*M,v+=O*(5*z),v+=k*(5*B),v+=C*(5*F),E=d+=(v+=x*(5*G))>>>13,E+=_*G,E+=T*j,E+=I*U,E+=R*D,d=(E+=N*L)>>>13,E&=8191,E+=A*P,E+=O*M,E+=k*(5*z),E+=C*(5*B),m=d+=(E+=x*(5*F))>>>13,m+=_*F,m+=T*G,m+=I*j,m+=R*U,d=(m+=N*D)>>>13,m&=8191,m+=A*L,m+=O*P,m+=k*M,m+=C*(5*z),w=d+=(m+=x*(5*B))>>>13,w+=_*B,w+=T*F,w+=I*G,w+=R*j,d=(w+=N*U)>>>13,w&=8191,w+=A*D,w+=O*L,w+=k*P,w+=C*M,S=d+=(w+=x*(5*z))>>>13,S+=_*z,S+=T*B,S+=I*F,S+=R*G,d=(S+=N*j)>>>13,S&=8191,S+=A*U,S+=O*D,S+=k*L,S+=C*P,_=f=8191&(d=(d=((d+=(S+=x*M)>>>13)<<2)+d|0)+(f&=8191)|0),T=h+=d>>>=13,I=p&=8191,R=y&=8191,N=g&=8191,A=v&=8191,O=E&=8191,k=m&=8191,C=w&=8191,x=S&=8191,t+=16,n-=16;this.h[0]=_,this.h[1]=T,this.h[2]=I,this.h[3]=R,this.h[4]=N,this.h[5]=A,this.h[6]=O,this.h[7]=k,this.h[8]=C,this.h[9]=x},I.prototype.finish=function(e,t){var n,r,i,o,a=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,a[0]=this.h[0]+5,n=a[0]>>>13,a[0]&=8191,o=1;o<10;o++)a[o]=this.h[o]+n,n=a[o]>>>13,a[o]&=8191;for(a[9]-=8192,r=(1^n)-1,o=0;o<10;o++)a[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|a[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},I.prototype.update=function(e,t,n){var r,i;if(this.leftover){for((i=16-this.leftover)>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(e,t,i),t+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};var q=A,Y=O;var Q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,r){for(var i,o,a,s,u,c,l,d,f,h,p,y,g,v,E,m,w,S,b,_,T,I,R,N,A,O,k=new Int32Array(16),C=new Int32Array(16),x=e[0],M=e[1],P=e[2],L=e[3],D=e[4],U=e[5],j=e[6],G=e[7],F=t[0],B=t[1],z=t[2],W=t[3],H=t[4],K=t[5],V=t[6],q=t[7],Y=0;r>=128;){for(b=0;b<16;b++)_=8*b+Y,k[b]=n[_+0]<<24|n[_+1]<<16|n[_+2]<<8|n[_+3],C[b]=n[_+4]<<24|n[_+5]<<16|n[_+6]<<8|n[_+7];for(b=0;b<80;b++)if(i=x,o=M,a=P,s=L,u=D,c=U,l=j,G,f=F,h=B,p=z,y=W,g=H,v=K,E=V,q,R=65535&(I=q),N=I>>>16,A=65535&(T=G),O=T>>>16,R+=65535&(I=(H>>>14|D<<18)^(H>>>18|D<<14)^(D>>>9|H<<23)),N+=I>>>16,A+=65535&(T=(D>>>14|H<<18)^(D>>>18|H<<14)^(H>>>9|D<<23)),O+=T>>>16,R+=65535&(I=H&K^~H&V),N+=I>>>16,A+=65535&(T=D&U^~D&j),O+=T>>>16,R+=65535&(I=Q[2*b+1]),N+=I>>>16,A+=65535&(T=Q[2*b]),O+=T>>>16,T=k[b%16],N+=(I=C[b%16])>>>16,A+=65535&T,O+=T>>>16,A+=(N+=(R+=65535&I)>>>16)>>>16,R=65535&(I=S=65535&R|N<<16),N=I>>>16,A=65535&(T=w=65535&A|(O+=A>>>16)<<16),O=T>>>16,R+=65535&(I=(F>>>28|x<<4)^(x>>>2|F<<30)^(x>>>7|F<<25)),N+=I>>>16,A+=65535&(T=(x>>>28|F<<4)^(F>>>2|x<<30)^(F>>>7|x<<25)),O+=T>>>16,N+=(I=F&B^F&z^B&z)>>>16,A+=65535&(T=x&M^x&P^M&P),O+=T>>>16,d=65535&(A+=(N+=(R+=65535&I)>>>16)>>>16)|(O+=A>>>16)<<16,m=65535&R|N<<16,R=65535&(I=y),N=I>>>16,A=65535&(T=s),O=T>>>16,N+=(I=S)>>>16,A+=65535&(T=w),O+=T>>>16,M=i,P=o,L=a,D=s=65535&(A+=(N+=(R+=65535&I)>>>16)>>>16)|(O+=A>>>16)<<16,U=u,j=c,G=l,x=d,B=f,z=h,W=p,H=y=65535&R|N<<16,K=g,V=v,q=E,F=m,b%16===15)for(_=0;_<16;_++)T=k[_],R=65535&(I=C[_]),N=I>>>16,A=65535&T,O=T>>>16,T=k[(_+9)%16],R+=65535&(I=C[(_+9)%16]),N+=I>>>16,A+=65535&T,O+=T>>>16,w=k[(_+1)%16],R+=65535&(I=((S=C[(_+1)%16])>>>1|w<<31)^(S>>>8|w<<24)^(S>>>7|w<<25)),N+=I>>>16,A+=65535&(T=(w>>>1|S<<31)^(w>>>8|S<<24)^w>>>7),O+=T>>>16,w=k[(_+14)%16],N+=(I=((S=C[(_+14)%16])>>>19|w<<13)^(w>>>29|S<<3)^(S>>>6|w<<26))>>>16,A+=65535&(T=(w>>>19|S<<13)^(S>>>29|w<<3)^w>>>6),O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,k[_]=65535&A|O<<16,C[_]=65535&R|N<<16;R=65535&(I=F),N=I>>>16,A=65535&(T=x),O=T>>>16,T=e[0],N+=(I=t[0])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[0]=x=65535&A|O<<16,t[0]=F=65535&R|N<<16,R=65535&(I=B),N=I>>>16,A=65535&(T=M),O=T>>>16,T=e[1],N+=(I=t[1])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[1]=M=65535&A|O<<16,t[1]=B=65535&R|N<<16,R=65535&(I=z),N=I>>>16,A=65535&(T=P),O=T>>>16,T=e[2],N+=(I=t[2])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[2]=P=65535&A|O<<16,t[2]=z=65535&R|N<<16,R=65535&(I=W),N=I>>>16,A=65535&(T=L),O=T>>>16,T=e[3],N+=(I=t[3])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[3]=L=65535&A|O<<16,t[3]=W=65535&R|N<<16,R=65535&(I=H),N=I>>>16,A=65535&(T=D),O=T>>>16,T=e[4],N+=(I=t[4])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[4]=D=65535&A|O<<16,t[4]=H=65535&R|N<<16,R=65535&(I=K),N=I>>>16,A=65535&(T=U),O=T>>>16,T=e[5],N+=(I=t[5])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[5]=U=65535&A|O<<16,t[5]=K=65535&R|N<<16,R=65535&(I=V),N=I>>>16,A=65535&(T=j),O=T>>>16,T=e[6],N+=(I=t[6])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[6]=j=65535&A|O<<16,t[6]=V=65535&R|N<<16,R=65535&(I=q),N=I>>>16,A=65535&(T=G),O=T>>>16,T=e[7],N+=(I=t[7])>>>16,A+=65535&T,O+=T>>>16,O+=(A+=(N+=(R+=65535&I)>>>16)>>>16)>>>16,e[7]=G=65535&A|O<<16,t[7]=q=65535&R|N<<16,Y+=128,r-=128}return r}function X(e,t,n){var r,i=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(i,o,t,n),n%=128,r=0;r<n;r++)a[r]=t[s-n+r];for(a[n]=128,a[(n=256-128*(n<112?1:0))-9]=0,p(a,n-8,s/536870912|0,s<<3),Z(i,o,a,n),r=0;r<8;r++)p(e,8*r,i[r],o[r]);return 0}function J(e,n){var r=t(),i=t(),o=t(),a=t(),s=t(),u=t(),c=t(),d=t(),f=t();j(r,e[1],e[0]),j(f,n[1],n[0]),G(r,r,f),U(i,e[0],e[1]),U(f,n[0],n[1]),G(i,i,f),G(o,e[3],n[3]),G(o,o,l),G(a,e[2],n[2]),U(a,a,a),j(s,i,r),j(u,a,o),U(c,a,o),U(d,i,r),G(e[0],s,u),G(e[1],d,c),G(e[2],c,u),G(e[3],s,d)}function $(e,t,n){var r;for(r=0;r<4;r++)x(e[r],t[r],n)}function ee(e,n){var r=t(),i=t(),o=t();B(o,n[2]),G(r,n[0],o),G(i,n[1],o),M(e,i),e[31]^=L(r)<<7}function te(e,t,n){var r,i;for(k(e[0],a),k(e[1],s),k(e[2],s),k(e[3],a),i=255;i>=0;--i)$(e,t,r=n[i/8|0]>>(7&i)&1),J(t,e),J(e,e),$(e,t,r)}function ne(e,n){var r=[t(),t(),t(),t()];k(r[0],d),k(r[1],f),k(r[2],s),G(r[3],d,f),te(e,r,n)}function re(e,n,i){var o,a=new Uint8Array(64),s=[t(),t(),t(),t()];for(i||r(n,32),X(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64,ne(s,a),ee(e,s),o=0;o<32;o++)n[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*ie[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*ie[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*ie[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function ae(e){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,n)}function se(e,n,r,i){var o,a,s=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),l=new Float64Array(64),d=[t(),t(),t(),t()];X(s,i,32),s[0]&=248,s[31]&=127,s[31]|=64;var f=r+64;for(o=0;o<r;o++)e[64+o]=n[o];for(o=0;o<32;o++)e[32+o]=s[32+o];for(X(c,e.subarray(32),r+32),ae(c),ne(d,c),ee(e,d),o=32;o<64;o++)e[o]=i[o];for(X(u,e,r+64),ae(u),o=0;o<64;o++)l[o]=0;for(o=0;o<32;o++)l[o]=c[o];for(o=0;o<32;o++)for(a=0;a<32;a++)l[o+a]+=u[o]*s[a];return oe(e.subarray(32),l),f}function ue(e,n,r,i){var o,u=new Uint8Array(32),l=new Uint8Array(64),d=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(r<64)return-1;if(function(e,n){var r=t(),i=t(),o=t(),u=t(),l=t(),d=t(),f=t();return k(e[2],s),D(e[1],n),F(o,e[1]),G(u,o,c),j(o,o,e[2]),U(u,e[2],u),F(l,u),F(d,l),G(f,d,l),G(r,f,o),G(r,r,u),z(r,r),G(r,r,o),G(r,r,u),G(r,r,u),G(e[0],r,u),F(i,e[0]),G(i,i,u),P(i,o)&&G(e[0],e[0],h),F(i,e[0]),G(i,i,u),P(i,o)?-1:(L(e[0])===n[31]>>7&&j(e[0],a,e[0]),G(e[3],e[0],e[1]),0)}(f,i))return-1;for(o=0;o<r;o++)e[o]=n[o];for(o=0;o<32;o++)e[o+32]=i[o];if(X(l,e,r),ae(l),te(d,f,l),ne(f,n.subarray(32)),J(d,f),ee(u,d),r-=64,v(n,0,u,0)){for(o=0;o<r;o++)e[o]=0;return-1}for(o=0;o<r;o++)e[o]=n[o+64];return r}var ce=16,le=64,de=32,fe=64;function he(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ye(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:m,crypto_stream_xor:T,crypto_stream:_,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:b,crypto_onetimeauth:R,crypto_onetimeauth_verify:N,crypto_verify_16:g,crypto_verify_32:v,crypto_secretbox:A,crypto_secretbox_open:O,crypto_scalarmult:W,crypto_scalarmult_base:H,crypto_box_beforenm:V,crypto_box_afternm:q,crypto_box:function(e,t,n,r,i,o){var a=new Uint8Array(32);return V(a,i,o),q(e,t,n,r,a)},crypto_box_open:function(e,t,n,r,i,o){var a=new Uint8Array(32);return V(a,i,o),Y(e,t,n,r,a)},crypto_box_keypair:K,crypto_hash:X,crypto_sign:se,crypto_sign_keypair:re,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:le,crypto_sign_PUBLICKEYBYTES:de,crypto_sign_SECRETKEYBYTES:fe,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:M,unpack25519:D,M:G,A:U,S:F,Z:j,pow2523:z,add:J,set25519:k,modL:oe,scalarmult:te,scalarbase:ne},e.randomBytes=function(e){var t=new Uint8Array(e);return r(t,e),t},e.secretbox=function(e,t,n){pe(e,t,n),he(n,t);for(var r=new Uint8Array(32+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+32]=e[o];return A(i,r,r.length,t,n),i.subarray(ce)},e.secretbox.open=function(e,t,n){pe(e,t,n),he(n,t);for(var r=new Uint8Array(ce+e.length),i=new Uint8Array(r.length),o=0;o<e.length;o++)r[o+ce]=e[o];return r.length<32||0!==O(i,r,r.length,t,n)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return W(n,e,t),n},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return H(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox(t,n,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var n=new Uint8Array(32);return V(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,i){var o=e.box.before(r,i);return e.secretbox.open(t,n,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return K(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return H(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==fe)throw new Error("bad secret key size");var n=new Uint8Array(le+e.length);return se(n,e,e.length,t),n},e.sign.open=function(e,t){if(pe(e,t),t.length!==de)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=ue(n,e,e.length,t);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached=function(t,n){for(var r=e.sign(t,n),i=new Uint8Array(le),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached.verify=function(e,t,n){if(pe(e,t,n),t.length!==le)throw new Error("bad signature size");if(n.length!==de)throw new Error("bad public key size");var r,i=new Uint8Array(le+e.length),o=new Uint8Array(le+e.length);for(r=0;r<le;r++)i[r]=t[r];for(r=0;r<e.length;r++)i[r+le]=e[r];return ue(o,i,i.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(de),t=new Uint8Array(fe);return re(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==fe)throw new Error("bad secret key size");for(var t=new Uint8Array(de),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(de),n=new Uint8Array(fe),r=0;r<32;r++)n[r]=e[r];return re(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=de,e.sign.secretKeyLength=fe,e.sign.seedLength=32,e.sign.signatureLength=le,e.hash=function(e){pe(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===y(e,0,t,0,e.length))},e.setPRNG=function(e){r=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,n){var r,i=new Uint8Array(n);for(r=0;r<n;r+=65536)t.getRandomValues(i.subarray(r,r+Math.min(n-r,65536)));for(r=0;r<n;r++)e[r]=i[r];ye(i)}))}else(t=n(137))&&t.randomBytes&&e.setPRNG((function(e,n){var r,i=t.randomBytes(n);for(r=0;r<n;r++)e[r]=i[r];ye(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t)=>({cluster:t,commitment:"confirmed",supportedClusterUrls:{[t]:e},recentBlockCheck:!1,broadcastCheck:!1})},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n(0);const i=[],o={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){a("call","select")},connect:()=>Promise.reject(a("call","connect")),disconnect:()=>Promise.reject(a("call","disconnect")),sendTransaction:()=>Promise.reject(a("call","sendTransaction")),signTransaction:()=>Promise.reject(a("call","signTransaction")),signAllTransactions:()=>Promise.reject(a("call","signAllTransactions")),signMessage:()=>Promise.reject(a("call","signMessage")),signIn:()=>Promise.reject(a("call","signIn"))};function a(e,t){const n=new Error("You have tried to ".concat(e,' "').concat(t,'" on a WalletContext without providing one. ')+"Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.");return console.error(n),n}Object.defineProperty(o,"wallets",{get:()=>(a("read","wallets"),i)}),Object.defineProperty(o,"wallet",{get:()=>(a("read","wallet"),null)}),Object.defineProperty(o,"publicKey",{get:()=>(a("read","publicKey"),null)});const s=Object(r.createContext)(o);function u(){return Object(r.useContext)(s)}},function(e,t,n){const r=n(140),i=n(141),o=n(158),a=n(159);function s(e,t,n,o,a){const s=[].slice.call(arguments,1),u=s.length,c="function"===typeof s[u-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=t,t=o=void 0):2!==u||t.getContext||(o=n,n=t,t=void 0),new Promise((function(r,a){try{const a=i.create(n,o);r(e(a,t,o))}catch(s){a(s)}}))}if(u<2)throw new Error("Too few arguments provided");2===u?(a=n,n=t,t=o=void 0):3===u&&(t.getContext&&"undefined"===typeof a?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0));try{const r=i.create(n,o);a(null,e(r,t,o))}catch(l){a(l)}}t.create=i.create,t.toCanvas=s.bind(null,o.render),t.toDataURL=s.bind(null,o.renderToDataURL),t.toString=s.bind(null,(function(e,t,n){return a.render(e,n)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));function r(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function i(e){return function t(n){return 0===arguments.length||r(n)?t:e.apply(this,arguments)}}Array.isArray;"undefined"!==typeof Symbol&&Symbol.iterator;function o(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var a=Object.prototype.toString,s=function(){return"[object Arguments]"===a.call(arguments)?function(e){return"[object Arguments]"===a.call(e)}:function(e){return o("callee",e)}}(),u=s,c=!{toString:null}.propertyIsEnumerable("toString"),l=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],d=function(){return arguments.propertyIsEnumerable("length")}(),f=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};Object.keys,Number.isInteger;function h(e){return new RegExp(e.source,(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":""))}var p=i((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function y(e,t,n,r){var i=function(i){for(var o=t.length,a=0;a<o;){if(e===t[a])return n[a];a+=1}for(var s in t[a]=e,n[a]=i,e)e.hasOwnProperty(s)&&(i[s]=r?y(e[s],t,n,!0):e[s]);return i};switch(p(e)){case"Object":return i(Object.create(Object.getPrototypeOf(e)));case"Array":return i([]);case"Date":return new Date(e.valueOf());case"RegExp":return h(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var g=i((function(e){return null!=e&&"function"===typeof e.clone?e.clone():y(e,[],[],!0)}));"function"===typeof Object.is&&Object.is;var v=function(e){return(e<10?"0":"")+e};Date.prototype.toISOString;"function"===typeof Object.assign&&Object.assign;var E="\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff";String.prototype.trim},,,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function E(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}function m(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||y}E.prototype.isReactComponent={},E.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=E.prototype;var S=w.prototype=new m;S.constructor=w,g(S,E.prototype),S.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,T={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,n){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)_.call(t,i)&&!I.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:r,type:e,key:a,ref:s,props:o,_owner:T.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var A=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,n,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case i:u=!0}}if(u)return a=a(u=e),e=""===o?"."+O(u,0):o,b(a)?(n="",null!=e&&(n=e.replace(A,"$&/")+"/"),k(a,t,n,"",(function(e){return e}))):null!=a&&(N(a)&&(a=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",b(e))for(var c=0;c<e.length;c++){var l=o+O(s=e[c],c);u+=k(s,t,n,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=k(s=s.value,t,n,l=o+O(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function C(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function x(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},P={transition:null},L={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:P,ReactCurrentOwner:T};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=E,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)_.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=n;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:r,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=R,t.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:x}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},function(e,t,n){"use strict";var r=n(0),i=n(104);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function y(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}function m(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(h,e)&&(f.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,E);g[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,E);g[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,E);g[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),b=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),N=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),x=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var D,U=Object.assign;function j(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var G=!1;function F(e,t){if(!e||G)return"";G=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{G=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case b:return"Portal";case I:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case k:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case R:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case x:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Z(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&m(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,de=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ve=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function me(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,_e=null,Te=null;function Ie(e){if(e=mi(e)){if("function"!==typeof be)throw Error(o(280));var t=e.stateNode;t&&(t=Si(t),be(e.stateNode,e.type,t))}}function Re(e){_e?Te?Te.push(e):Te=[e]:_e=e}function Ne(){if(_e){var e=_e,t=Te;if(Te=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ae(e,t){return e(t)}function Oe(){}var ke=!1;function Ce(e,t,n){if(ke)return e(t,n);ke=!0;try{return Ae(e,t,n)}finally{ke=!1,(null!==_e||null!==Te)&&(Oe(),Ne())}}function xe(e,t){var n=e.stateNode;if(null===n)return null;var r=Si(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Me=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Me=!1}function Le(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var De=!1,Ue=null,je=!1,Ge=null,Fe={onError:function(e){De=!0,Ue=e}};function Be(e,t,n,r,i,o,a,s,u){De=!1,Ue=null,Le.apply(Fe,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(ze(e)!==e)throw Error(o(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ze=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function Et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var mt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,bt,_t,Tt,It,Rt=!1,Nt=[],At=null,Ot=null,kt=null,Ct=new Map,xt=new Map,Mt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":kt=null;break;case"pointerover":case"pointerout":Ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=mi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=Ei(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=mi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Gt(e,t,n){jt(e)&&n.delete(t)}function Ft(){Rt=!1,null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),null!==kt&&jt(kt)&&(kt=null),Ct.forEach(Gt),xt.forEach(Gt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Rt||(Rt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function zt(e){function t(t){return Bt(t,e)}if(0<Nt.length){Bt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Ot&&Bt(Ot,e),null!==kt&&Bt(kt,e),Ct.forEach(t),xt.forEach(t),n=0;n<Mt.length;n++)(r=Mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Mt.length&&null===(n=Mt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Mt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=mt,o=Wt.transition;Wt.transition=null;try{mt=1,qt(e,t,n,r)}finally{mt=i,Wt.transition=o}}function Vt(e,t,n,r){var i=mt,o=Wt.transition;Wt.transition=null;try{mt=4,qt(e,t,n,r)}finally{mt=i,Wt.transition=o}}function qt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Yt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Dt(At,e,t,n,r,i),!0;case"dragenter":return Ot=Dt(Ot,e,t,n,r,i),!0;case"mouseover":return kt=Dt(kt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ct.set(o,Dt(Ct.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,Dt(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=mi(i);if(null!==o&&St(o),null===(o=Qt(e,t,n,r))&&Hr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Yt=null;function Qt(e,t,n,r){if(Yt=null,null!==(e=Ei(e=Se(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),dn=U({},cn,{view:0,detail:0}),fn=on(dn),hn=U({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),yn=on(U({},hn,{dataTransfer:0})),gn=on(U({},dn,{relatedTarget:0})),vn=on(U({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),En=U({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mn=on(En),wn=on(U({},cn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Tn}var Rn=U({},dn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=on(Rn),An=on(U({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(U({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),kn=on(U({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=U({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xn=on(Cn),Mn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Dn=l&&"TextEvent"in window&&!Ln,Un=l&&(!Pn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Gn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,n,r){Re(r),0<(t=Vr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,qn=null;function Yn(e){jr(e,0)}function Qn(e){if(q(wi(e)))return e}function Zn(e,t){if("change"===e)return t}var Xn=!1;if(l){var Jn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Jn=$n}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),qn=Vn=null)}function nr(e){if("value"===e.propertyName&&Qn(qn)){var t=[];Kn(t,qn,e,Se(e)),Ce(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(qn)}function or(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,Er=null,mr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&ur(Er,r)||(Er=r,0<(r=Vr(vr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Sr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionend:Sr("Transition","TransitionEnd")},_r={},Tr={};function Ir(e){if(_r[e])return _r[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return _r[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Rr=Ir("animationend"),Nr=Ir("animationiteration"),Ar=Ir("animationstart"),Or=Ir("transitionend"),kr=new Map,Cr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,t){kr.set(e,t),u(t,[e])}for(var Mr=0;Mr<Cr.length;Mr++){var Pr=Cr[Mr];xr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}xr(Rr,"onAnimationEnd"),xr(Nr,"onAnimationIteration"),xr(Ar,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),De){if(!De)throw Error(o(198));var l=Ue;De=!1,Ue=null,je||(je=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Ur(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Ur(i,s,c),o=u}}}if(je)throw e=Ge,je=!1,Ge=null,e}function Gr(e,t){var n=t[yi];void 0===n&&(n=t[yi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Zt(t)){case 1:var i=Kt;break;case 4:i=Vt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Ei(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ce((function(){var r=o,i=Se(n),a=[];e:{var s=kr.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Rr:case Nr:case Ar:u=vn;break;case Or:u=kn;break;case"scroll":u=fn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),d=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var y=(h=p).stateNode;if(5===h.tag&&null!==y&&(h=y,null!==f&&(null!=(y=xe(p,f))&&l.push(Kr(p,y,h)))),d)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!Ei(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Ei(c):null)&&(c!==(d=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,y="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,y="onPointerLeave",f="onPointerEnter",p="pointer"),d=null==u?s:wi(u),h=null==c?s:wi(c),(s=new l(y,p+"leave",u,n,i)).target=d,s.relatedTarget=h,y=null,Ei(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=h,l.relatedTarget=d,y=l),d=y,u&&c)e:{for(f=c,p=0,h=l=u;h;h=qr(h))p++;for(h=0,y=f;y;y=qr(y))h++;for(;0<p-h;)l=qr(l),p--;for(;0<h-p;)f=qr(f),h--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=qr(l),f=qr(f)}l=null}else l=null;null!==u&&Yr(a,s,u,l,!1),null!==c&&null!==d&&Yr(a,d,c,l,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Zn;else if(Hn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Kn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,Er=null);break;case"focusout":Er=vr=gr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,wr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":wr(a,n,i)}var E;if(Pn)e:{switch(e){case"compositionstart":var m="onCompositionStart";break e;case"compositionend":m="onCompositionEnd";break e;case"compositionupdate":m="onCompositionUpdate";break e}m=void 0}else zn?Fn(e,n)&&(m="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(m="onCompositionStart");m&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==m?"onCompositionEnd"===m&&zn&&(E=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Vr(r,m)).length&&(m=new wn(m,e,null,n,i),a.push({event:m,listeners:v}),E?m.data=E:null!==(E=Bn(n))&&(m.data=E))),(E=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Gn=!0,jn);case"textInput":return(e=t.data)===jn&&Gn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Fn(e,t)?(e=en(),$t=Jt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=E))}jr(a,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=xe(e,n))&&r.unshift(Kr(e,o,i)),null!=(o=xe(e,t))&&r.push(Kr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=xe(n,o))&&a.unshift(Kr(n,u,s)):i||null!=(u=xe(n,o))&&a.push(Kr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Zr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),fi="__reactFiber$"+di,hi="__reactProps$"+di,pi="__reactContainer$"+di,yi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function Ei(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function mi(e){return!(e=e[fi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Si(e){return e[hi]||null}var bi=[],_i=-1;function Ti(e){return{current:e}}function Ii(e){0>_i||(e.current=bi[_i],bi[_i]=null,_i--)}function Ri(e,t){_i++,bi[_i]=e.current,e.current=t}var Ni={},Ai=Ti(Ni),Oi=Ti(!1),ki=Ni;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Ni;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function xi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ii(Oi),Ii(Ai)}function Pi(e,t,n){if(Ai.current!==Ni)throw Error(o(168));Ri(Ai,t),Ri(Oi,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return U({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ni,ki=Ai.current,Ri(Ai,e),Ri(Oi,Oi.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Li(e,t,ki),r.__reactInternalMemoizedMergedChildContext=e,Ii(Oi),Ii(Ai),Ri(Ai,e)):Ii(Oi),Ri(Oi,n)}var ji=null,Gi=!1,Fi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Fi&&null!==ji){Fi=!0;var e=0,t=mt;try{var n=ji;for(mt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Gi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),qe($e,zi),i}finally{mt=t,Fi=!1}}return null}var Wi=[],Hi=0,Ki=null,Vi=0,qi=[],Yi=0,Qi=null,Zi=1,Xi="";function Ji(e,t){Wi[Hi++]=Vi,Wi[Hi++]=Ki,Ki=e,Vi=t}function $i(e,t,n){qi[Yi++]=Zi,qi[Yi++]=Xi,qi[Yi++]=Qi,Qi=e;var r=Zi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Zi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Zi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&(Ji(e,1),$i(e,1,0))}function to(e){for(;e===Ki;)Ki=Wi[--Hi],Wi[Hi]=null,Vi=Wi[--Hi],Wi[Hi]=null;for(;e===Qi;)Qi=qi[--Yi],qi[Yi]=null,Xi=qi[--Yi],qi[Yi]=null,Zi=qi[--Yi],qi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Cc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Zi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Cc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function yo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Eo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Mc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===x&&mo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Pc(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Pc(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case b:return(t=jc(t,e.mode,n)).return=e,t;case x:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?c(e,t,n,r):null;case b:return n.key===i?l(e,t,n,r):null;case x:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:d(e,t,n,r,null);Eo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function y(i,o,s,u){for(var c=null,l=null,d=o,y=o=0,g=null;null!==d&&y<s.length;y++){d.index>y?(g=d,d=null):g=d.sibling;var v=h(i,d,s[y],u);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,y),null===l?c=v:l.sibling=v,l=v,d=g}if(y===s.length)return n(i,d),io&&Ji(i,y),c;if(null===d){for(;y<s.length;y++)null!==(d=f(i,s[y],u))&&(o=a(d,o,y),null===l?c=d:l.sibling=d,l=d);return io&&Ji(i,y),c}for(d=r(i,d);y<s.length;y++)null!==(g=p(d,i,y,s[y],u))&&(e&&null!==g.alternate&&d.delete(null===g.key?y:g.key),o=a(g,o,y),null===l?c=g:l.sibling=g,l=g);return e&&d.forEach((function(e){return t(i,e)})),io&&Ji(i,y),c}function g(i,s,u,c){var l=L(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var d=l=null,y=s,g=s=0,v=null,E=u.next();null!==y&&!E.done;g++,E=u.next()){y.index>g?(v=y,y=null):v=y.sibling;var m=h(i,y,E.value,c);if(null===m){null===y&&(y=v);break}e&&y&&null===m.alternate&&t(i,y),s=a(m,s,g),null===d?l=m:d.sibling=m,d=m,y=v}if(E.done)return n(i,y),io&&Ji(i,g),l;if(null===y){for(;!E.done;g++,E=u.next())null!==(E=f(i,E.value,c))&&(s=a(E,s,g),null===d?l=E:d.sibling=E,d=E);return io&&Ji(i,g),l}for(y=r(i,y);!E.done;g++,E=u.next())null!==(E=p(y,i,g,E.value,c))&&(e&&null!==E.alternate&&y.delete(null===E.key?g:E.key),s=a(E,s,g),null===d?l=E:d.sibling=E,d=E);return e&&y.forEach((function(e){return t(i,e)})),io&&Ji(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case S:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===_){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===x&&mo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=vo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===_?((o=Lc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Pc(a.type,a.key,a.props,null,r.mode,u)).ref=vo(r,o,a),u.return=r,r=u)}return s(r);case b:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=jc(a,r.mode,u)).return=r,r=o}return s(r);case x:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return y(r,o,a,u);if(L(a))return g(r,o,a,u);Eo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Uc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var So=wo(!0),bo=wo(!1),_o=Ti(null),To=null,Io=null,Ro=null;function No(){Ro=Io=To=null}function Ao(e){var t=_o.current;Ii(_o),e._currentValue=t}function Oo(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ko(e,t){To=e,Ro=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ms=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(Ro!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===To)throw Error(o(308));Io=e,To.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var xo=null;function Mo(e){null===xo?xo=[e]:xo.push(e)}function Po(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Mo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Lo(e,r)}function Lo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Uo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Go(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Lo(e,n)}return null===(i=r.interleaved)?(t.next=t,Mo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Lo(e,n)}function Bo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Et(e,n)}}function zo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var d=i.baseState;for(a=0,l=c=u=null,s=o;;){var f=s.lane,h=s.eventTime;if((r&f)===f){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,y=s;switch(f=t,h=n,y.tag){case 1:if("function"===typeof(p=y.payload)){d=p.call(h,d,f);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=y.payload)?p.call(h,d,f):p)||void 0===f)break e;d=U({},d,f);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[s]:f.push(s))}else h={eventTime:h,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=d):l=l.next=h,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===l&&(u=d),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Du|=a,e.lanes=a,e.memoizedState=d}}function Ho(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Ko={},Vo=Ti(Ko),qo=Ti(Ko),Yo=Ti(Ko);function Qo(e){if(e===Ko)throw Error(o(174));return e}function Zo(e,t){switch(Ri(Yo,t),Ri(qo,e),Ri(Vo,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Vo),Ri(Vo,t)}function Xo(){Ii(Vo),Ii(qo),Ii(Yo)}function Jo(e){Qo(Yo.current);var t=Qo(Vo.current),n=ue(t,e.type);t!==n&&(Ri(qo,e),Ri(Vo,n))}function $o(e){qo.current===e&&(Ii(Vo),Ii(qo))}var ea=Ti(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,oa=w.ReactCurrentBatchConfig,aa=0,sa=null,ua=null,ca=null,la=!1,da=!1,fa=0,ha=0;function pa(){throw Error(o(321))}function ya(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?$a:es,e=n(r,i),da){a=0;do{if(da=!1,fa=0,25<=a)throw Error(o(301));a+=1,ca=ua=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Ja,t=null!==ua&&null!==ua.next,aa=0,ca=ua=sa=null,la=!1,t)throw Error(o(300));return e}function va(){var e=0!==fa;return fa=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?sa.memoizedState=ca=e:ca=ca.next=e,ca}function ma(){if(null===ua){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=ua.next;var t=null===ca?sa.memoizedState:ca.next;if(null!==t)ca=t,ua=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ua=e).memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},null===ca?sa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function Sa(e){var t=ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ua,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var d=l.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var f={lane:d,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=f,s=r):c=c.next=f,sa.lanes|=d,Du|=d}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ms=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Du|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ba(e){var t=ma(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _a(){}function Ta(e,t){var n=sa,r=ma(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ms=!0),r=r.queue,Da(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ca(9,Ra.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&aa)||Ia(n,t,i)}return i}function Ia(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,r){t.value=n,t.getSnapshot=r,Aa(t)&&Oa(e)}function Na(e,t,n){return n((function(){Aa(t)&&Oa(e)}))}function Aa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Oa(e){var t=Lo(e,1);null!==t&&nc(t,e,1,-1)}function ka(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,sa,e),[t.memoizedState,e]}function Ca(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function xa(){return ma().memoizedState}function Ma(e,t,n,r){var i=Ea();sa.flags|=e,i.memoizedState=Ca(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=ma();r=void 0===r?null:r;var o=void 0;if(null!==ua){var a=ua.memoizedState;if(o=a.destroy,null!==r&&ya(r,a.deps))return void(i.memoizedState=Ca(t,n,o,r))}sa.flags|=e,i.memoizedState=Ca(1|t,n,o,r)}function La(e,t){return Ma(8390656,8,e,t)}function Da(e,t){return Pa(2048,8,e,t)}function Ua(e,t){return Pa(4,2,e,t)}function ja(e,t){return Pa(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fa(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Ga.bind(null,t,e),n)}function Ba(){}function za(e,t){var n=ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Wa(e,t){var n=ma();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ya(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ha(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,ms=!0),e.memoizedState=n):(sr(n,t)||(n=yt(),sa.lanes|=n,Du|=n,e.baseState=!0),t)}function Ka(e,t){var n=mt;mt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{mt=n,oa.transition=r}}function Va(){return ma().memoizedState}function qa(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qa(e))Za(t,n);else if(null!==(n=Po(e,t,n,r))){nc(n,e,r,ec()),Xa(n,t,r)}}function Ya(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Za(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Mo(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Po(e,t,i,r))&&(nc(n,e,r,i=ec()),Xa(n,t,r))}}function Qa(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Za(e,t){da=la=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Et(e,n)}}var Ja={readContext:Co,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Co,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ma(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ma(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ma(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qa.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:ka,useDebugValue:Ba,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=ka(!1),t=e[0];return e=Ka.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=Ea();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&aa)||Ia(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ca(9,Ra.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Ou.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Zi&~(1<<32-at(Zi)-1)).toString(32)+n),0<(n=fa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ha++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Co,useCallback:za,useContext:Co,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ua,useLayoutEffect:ja,useMemo:Wa,useReducer:Sa,useRef:xa,useState:function(){return Sa(wa)},useDebugValue:Ba,useDeferredValue:function(e){return Ha(ma(),ua.memoizedState,e)},useTransition:function(){return[Sa(wa)[0],ma().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ta,useId:Va,unstable_isNewReconciler:!1},ts={readContext:Co,useCallback:za,useContext:Co,useEffect:Da,useImperativeHandle:Fa,useInsertionEffect:Ua,useLayoutEffect:ja,useMemo:Wa,useReducer:ba,useRef:xa,useState:function(){return ba(wa)},useDebugValue:Ba,useDeferredValue:function(e){var t=ma();return null===ua?t.memoizedState=e:Ha(t,ua.memoizedState,e)},useTransition:function(){return[ba(wa)[0],ma().memoizedState]},useMutableSource:_a,useSyncExternalStore:Ta,useId:Va,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Go(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Go(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Fo(e,o,i))&&(nc(t,e,i,r),Bo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Go(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Fo(e,i,r))&&(nc(t,e,r,n),Bo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function as(e,t,n){var r=!1,i=Ni,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=xi(t)?ki:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Ni),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function us(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Uo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=xi(t)?ki:Ai.current,i.context=Ci(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Wo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ls(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Go(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hu||(Hu=!0,Ku=r),ds(0,t)},n}function ps(e,t,n){(n=Go(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Vu?Vu=new Set([this]):Vu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ys(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Go(-1,1)).tag=2,Fo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var Es=w.ReactCurrentOwner,ms=!1;function ws(e,t,n,r){t.child=null===e?bo(t,null,n,r):So(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return ko(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||ms?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function bs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||xc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,_s(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Hs(e,t,i)}return t.flags|=1,(e=Mc(o,r)).ref=t.ref,e.return=t,t.child=e}function _s(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ms=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Hs(e,t,i);0!==(131072&e.flags)&&(ms=!0)}}return Rs(e,t,n,r,i)}function Ts(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ri(Mu,xu),xu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ri(Mu,xu),xu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ri(Mu,xu),xu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ri(Mu,xu),xu|=r;return ws(e,t,i,n),t.child}function Is(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rs(e,t,n,r,i){var o=xi(n)?ki:Ai.current;return o=Ci(t,o),ko(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||ms?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hs(e,t,i))}function Ns(e,t,n,r,i){if(xi(n)){var o=!0;Di(t)}else o=!1;if(ko(t,i),null===t.stateNode)Ws(e,t),as(t,n,r),us(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ci(t,c=xi(n)?ki:Ai.current);var l=n.getDerivedStateFromProps,d="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&ss(t,a,r,c),Do=!1;var f=t.memoizedState;a.state=f,Wo(t,r,a,i),u=t.memoizedState,s!==r||f!==u||Oi.current||Do?("function"===typeof l&&(rs(t,n,l,r),u=t.memoizedState),(s=Do||os(t,n,s,r,f,u,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,jo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),a.props=c,d=t.pendingProps,f=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Co(u):u=Ci(t,u=xi(n)?ki:Ai.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||f!==u)&&ss(t,a,r,u),Do=!1,f=t.memoizedState,a.state=f,Wo(t,r,a,i);var p=t.memoizedState;s!==d||f!==p||Oi.current||Do?("function"===typeof h&&(rs(t,n,h,r),p=t.memoizedState),(c=Do||os(t,n,c,r,f,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return As(e,t,n,r,o,i)}function As(e,t,n,r,i,o){Is(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Ui(t,n,!1),Hs(e,t,o);r=t.stateNode,Es.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=So(t,e.child,null,o),t.child=So(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),Zo(e,t.containerInfo)}function ks(e,t,n,r,i){return po(),yo(i),t.flags|=256,ws(e,t,n,r),t.child}var Cs,xs,Ms,Ps,Ls={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Us(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ri(ea,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Dc(u,i,0,null),e=Lc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ls,e):js(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Gs(e,t,s,r=ls(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Dc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&So(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ls,a);if(0===(1&t.mode))return Gs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Gs(e,t,s,r=ls(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ms||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Lo(e,i),nc(r,e,i,-1))}return yc(),Gs(e,t,s,r=ls(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Yi++]=Zi,qi[Yi++]=Xi,qi[Yi++]=Qi,Zi=e.id,Xi=e.overflow,Qi=t),t=js(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Mc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Mc(r,s):(s=Lc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ds(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ls,i}return e=(s=e.child).sibling,i=Mc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function js(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Gs(e,t,n,r){return null!==r&&yo(r),So(t,e.child,null,n),(e=js(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oo(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function zs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fs(e,n,t);else if(19===e.tag)Fs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ri(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Mc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Mc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ks(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vs(t),null;case 1:case 17:return xi(t.type)&&Mi(),Vs(t),null;case 3:return r=t.stateNode,Xo(),Ii(Oi),Ii(Ai),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),xs(e,t),Vs(t),null;case 5:$o(t);var i=Qo(Yo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ms(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Vs(t),null}if(e=Qo(Vo.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Gr("cancel",r),Gr("close",r);break;case"iframe":case"object":case"embed":Gr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Gr(Lr[i],r);break;case"source":Gr("error",r);break;case"img":case"image":case"link":Gr("error",r),Gr("load",r);break;case"details":Gr("toggle",r);break;case"input":Z(r,a),Gr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Gr("invalid",r);break;case"textarea":ie(r,a),Gr("invalid",r)}for(var u in Ee(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Gr("scroll",r)}switch(n){case"input":V(r),$(r,a,!0);break;case"textarea":V(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fi]=t,e[hi]=r,Cs(e,t,!1,!1),t.stateNode=e;e:{switch(u=me(n,r),n){case"dialog":Gr("cancel",e),Gr("close",e),i=r;break;case"iframe":case"object":case"embed":Gr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Gr(Lr[i],e);i=r;break;case"source":Gr("error",e),i=r;break;case"img":case"image":case"link":Gr("error",e),Gr("load",e),i=r;break;case"details":Gr("toggle",e),i=r;break;case"input":Z(e,r),i=Q(e,r),Gr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),Gr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Gr("invalid",e)}for(a in Ee(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&de(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&fe(e,l):"number"===typeof l&&fe(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Gr("scroll",e):null!=l&&m(e,a,l,u))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vs(t),null;case 6:if(e&&null!=t.stateNode)Ps(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Qo(Yo.current),Qo(Vo.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Vs(t),null;case 13:if(Ii(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[fi]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vs(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Pu&&(Pu=3):yc())),null!==t.updateQueue&&(t.flags|=4),Vs(t),null);case 4:return Xo(),xs(e,t),null===e&&zr(t.stateNode.containerInfo),Vs(t),null;case 10:return Ao(t.type._context),Vs(t),null;case 19:if(Ii(ea),null===(a=t.memoizedState))return Vs(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ks(a,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ta(e))){for(t.flags|=128,Ks(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ri(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>zu&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ks(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Vs(t),null}else 2*Xe()-a.renderingStartTime>zu&&1073741824!==n&&(t.flags|=128,r=!0,Ks(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=ea.current,Ri(ea,r?1&n|2:1&n),t):(Vs(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&xu)&&(Vs(t),6&t.subtreeFlags&&(t.flags|=8192)):Vs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return xi(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xo(),Ii(Oi),Ii(Ai),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $o(t),null;case 13:if(Ii(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ea),null;case 4:return Xo(),null;case 10:return Ao(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Cs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xs=function(){},Ms=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qo(Vo.current);var o,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in Ee(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Gr("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Zs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Js=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Tc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[yi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,du=!1;function fu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Zs||$s(n,t);case 6:var r=lu,i=du;lu=null,fu(e,t,n),du=i,null!==(lu=r)&&(du?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(du?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),zt(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=du,lu=n.stateNode.containerInfo,du=!0,fu(e,t,n),lu=r,du=i;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}fu(e,t,n);break;case 1:if(!Zs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tc(n,t,s)}fu(e,t,n);break;case 21:fu(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,fu(e,t,n),Zs=r):fu(e,t,n);break;default:fu(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function yu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,du=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,du=!0;break e}u=u.return}if(null===lu)throw Error(o(160));hu(a,s,i),lu=null,du=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Tc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yu(t,e),vu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Tc(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:yu(t,e),vu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(yu(t,e),vu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(g){Tc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&X(i,a),me(u,s);var l=me(u,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];"style"===d?ge(i,f):"dangerouslySetInnerHTML"===d?de(i,f):"children"===d?fe(i,f):m(i,d,f,l)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){Tc(e,e.return,g)}}break;case 6:if(yu(t,e),vu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tc(e,e.return,g)}}break;case 3:if(yu(t,e),vu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:yu(t,e),vu(e);break;case 13:yu(t,e),vu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Xe())),4&r&&pu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(l=Zs)||d,yu(t,e),Zs=l):yu(t,e),vu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:$s(h,h.return);var y=h.stateNode;if("function"===typeof y.componentWillUnmount){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Tc(r,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){Su(f);continue}}null!==p?(p.return=h,Js=p):Su(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{i=f.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=f.stateNode,s=void 0!==(c=f.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ye("display",s))}catch(g){Tc(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=l?"":f.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:yu(t,e),vu(e),4&r&&pu(e);case 21:}}function vu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Tc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Eu(e,t,n){Js=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Qs;var c=Zs;if(Qs=a,(Zs=u)&&!c)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?bu(i):null!==u?(u.return=a,Js=u):bu(i);for(;null!==o;)Js=o,mu(o,t,n),o=o.sibling;Js=i,Qs=s,Zs=c}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ho(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ho(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var d=l.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&zt(f)}}}break;default:throw Error(o(163))}Zs||512&t.flags&&iu(t)}catch(h){Tc(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function bu(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Tc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Tc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Tc(t,a,u)}}}catch(u){Tc(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var _u,Tu=Math.ceil,Iu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Nu=w.ReactCurrentBatchConfig,Au=0,Ou=null,ku=null,Cu=0,xu=0,Mu=Ti(0),Pu=0,Lu=null,Du=0,Uu=0,ju=0,Gu=null,Fu=null,Bu=0,zu=1/0,Wu=null,Hu=!1,Ku=null,Vu=null,qu=!1,Yu=null,Qu=0,Zu=0,Xu=null,Ju=-1,$u=0;function ec(){return 0!==(6&Au)?Xe():-1!==Ju?Ju:Ju=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Cu?Cu&-Cu:null!==go.transition?(0===$u&&($u=yt()),$u):0!==(e=mt)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function nc(e,t,n,r){if(50<Zu)throw Zu=0,Xu=null,Error(o(185));vt(e,n,r),0!==(2&Au)&&e===Ou||(e===Ou&&(0===(2&Au)&&(Uu|=n),4===Pu&&sc(e,Cu)),rc(e,r),1===n&&0===Au&&0===(1&t.mode)&&(zu=Xe()+500,Gi&&zi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ft(e,e===Ou?Cu:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Gi=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&Au)&&zi()})),n=null;else{switch(wt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Oc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Ju=-1,$u=0,0!==(6&Au))throw Error(o(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ft(e,e===Ou?Cu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Au;Au|=2;var a=pc();for(Ou===e&&Cu===t||(Wu=null,zu=Xe()+500,fc(e,t));;)try{Ec();break}catch(u){hc(e,u)}No(),Iu.current=a,Au=i,null!==ku?t=0:(Ou=null,Cu=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Lu,fc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Lu,fc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Fu,Wu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Xe())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Fu,Wu),t);break}Sc(e,Fu,Wu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Fu,Wu),r);break}Sc(e,Fu,Wu);break;default:throw Error(o(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Gu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fu,Fu=n,null!==t&&ac(t)),e}function ac(e){null===Fu?Fu=e:Fu.push.apply(Fu,e)}function sc(e,t){for(t&=~ju,t&=~Uu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Au))throw Error(o(327));bc();var t=ft(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Lu,fc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Fu,Wu),rc(e,Xe()),null}function cc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(zu=Xe()+500,Gi&&zi())}}function lc(e){null!==Yu&&0===Yu.tag&&0===(6&Au)&&bc();var t=Au;Au|=1;var n=Nu.transition,r=mt;try{if(Nu.transition=null,mt=1,e)return e()}finally{mt=r,Nu.transition=n,0===(6&(Au=t))&&zi()}}function dc(){xu=Mu.current,Ii(Mu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==ku)for(n=ku.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mi();break;case 3:Xo(),Ii(Oi),Ii(Ai),ra();break;case 5:$o(r);break;case 4:Xo();break;case 13:case 19:Ii(ea);break;case 10:Ao(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ou=e,ku=e=Mc(e.current,null),Cu=xu=t,Pu=0,Lu=null,ju=Uu=Du=0,Fu=Gu=null,null!==xo){for(t=0;t<xo.length;t++)if(null!==(r=(n=xo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}xo=null}return e}function hc(e,t){for(;;){var n=ku;try{if(No(),ia.current=Ja,la){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}la=!1}if(aa=0,ca=ua=sa=null,da=!1,fa=0,Ru.current=null,null===n||null===n.return){Pu=1,Lu=t,ku=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Cu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,vs(p,s,u,0,t),1&p.mode&&ys(a,l,t),c=l;var y=(t=p).updateQueue;if(null===y){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}if(0===(1&t)){ys(a,l,t),yc();break e}c=Error(o(426))}else if(io&&1&u.mode){var v=gs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),vs(v,s,u,0,t),yo(cs(c,u));break e}}a=c=cs(c,u),4!==Pu&&(Pu=2),null===Gu?Gu=[a]:Gu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,zo(a,hs(0,c,t));break e;case 1:u=c;var E=a.type,m=a.stateNode;if(0===(128&a.flags)&&("function"===typeof E.getDerivedStateFromError||null!==m&&"function"===typeof m.componentDidCatch&&(null===Vu||!Vu.has(m)))){a.flags|=65536,t&=-t,a.lanes|=t,zo(a,ps(a,u,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(w){t=w,ku===n&&null!==n&&(ku=n=n.return);continue}break}}function pc(){var e=Iu.current;return Iu.current=Ja,null===e?Ja:e}function yc(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Ou||0===(268435455&Du)&&0===(268435455&Uu)||sc(Ou,Cu)}function gc(e,t){var n=Au;Au|=2;var r=pc();for(Ou===e&&Cu===t||(Wu=null,fc(e,t));;)try{vc();break}catch(i){hc(e,i)}if(No(),Au=n,Iu.current=r,null!==ku)throw Error(o(261));return Ou=null,Cu=0,Pu}function vc(){for(;null!==ku;)mc(ku)}function Ec(){for(;null!==ku&&!Qe();)mc(ku)}function mc(e){var t=_u(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===t?wc(e):ku=t,Ru.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,xu)))return void(ku=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(ku=n);if(null===e)return Pu=6,void(ku=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ku=t);ku=t=e}while(null!==t);0===Pu&&(Pu=5)}function Sc(e,t,n){var r=mt,i=Nu.transition;try{Nu.transition=null,mt=1,function(e,t,n,r){do{bc()}while(null!==Yu);if(0!==(6&Au))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ou&&(ku=Ou=null,Cu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Oc(tt,(function(){return bc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nu.transition,Nu.transition=null;var s=mt;mt=1;var u=Au;Au|=4,Ru.current=null,function(e,t){if(ei=Ht,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(S){n=null;break e}var s=0,u=-1,c=-1,l=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(u=s+i),f!==a||0!==r&&3!==f.nodeType||(c=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(p=f.firstChild);)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++d===r&&(c=s),null!==(p=f.nextSibling))break;h=(f=h).parentNode}f=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var y=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==y){var g=y.memoizedProps,v=y.memoizedState,E=t.stateNode,m=E.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);E.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(S){Tc(t,t.return,S)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}y=tu,tu=!1}(e,n),gu(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,Eu(n,e,i),Ze(),Au=u,mt=s,Nu.transition=a}else e.current=n;if(qu&&(qu=!1,Yu=e,Qu=i),a=e.pendingLanes,0===a&&(Vu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hu)throw Hu=!1,e=Ku,Ku=null,e;0!==(1&Qu)&&0!==e.tag&&bc(),a=e.pendingLanes,0!==(1&a)?e===Xu?Zu++:(Zu=0,Xu=e):Zu=0,zi()}(e,t,n,r)}finally{Nu.transition=i,mt=r}return null}function bc(){if(null!==Yu){var e=wt(Qu),t=Nu.transition,n=mt;try{if(Nu.transition=null,mt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,Qu=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Js=l;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:nu(8,d,a)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var h=(d=Js).sibling,p=d.return;if(ou(d),d===l){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var y=a.alternate;if(null!==y){var g=y.child;if(null!==g){y.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var E=a.sibling;if(null!==E){E.return=a.return,Js=E;break e}Js=a.return}}var m=e.current;for(Js=m;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=m;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(b){Tc(u,u.return,b)}if(u===s){Js=null;break e}var S=u.sibling;if(null!==S){S.return=u.return,Js=S;break e}Js=u.return}}if(Au=i,zi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(b){}r=!0}return r}finally{mt=n,Nu.transition=t}}return!1}function _c(e,t,n){e=Fo(e,t=hs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vu||!Vu.has(r))){t=Fo(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Cu&n)===n&&(4===Pu||3===Pu&&(130023424&Cu)===Cu&&500>Xe()-Bu?fc(e,0):ju|=n),rc(e,t)}function Rc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Lo(e,t))&&(vt(e,t,n),rc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Rc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Rc(e,n)}function Oc(e,t){return qe(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cc(e,t,n,r){return new kc(e,t,n,r)}function xc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Mc(e,t){var n=e.alternate;return null===n?((n=Cc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)xc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Lc(n.children,i,a,t);case T:s=8,i|=8;break;case I:return(e=Cc(12,n,t,2|i)).elementType=I,e.lanes=a,e;case O:return(e=Cc(13,n,t,i)).elementType=O,e.lanes=a,e;case k:return(e=Cc(19,n,t,i)).elementType=k,e.lanes=a,e;case M:return Dc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case R:s=10;break e;case N:s=9;break e;case A:s=11;break e;case C:s=14;break e;case x:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Cc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Cc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Cc(22,e,r,t)).elementType=M,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Cc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Cc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,i,o,a,s,u){return e=new Gc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Cc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uo(o),e}function Bc(e){if(!e)return Ni;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(xi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Fc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=Go(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Fo(n,o,i),e.current.lanes=i,vt(e,i,r),rc(e,r),e}function Wc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Go(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fo(i,t,a))&&(nc(e,i,a,o),Bo(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}_u=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ms=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ms=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:Jo(t);break;case 1:xi(t.type)&&Di(t);break;case 4:Zo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ri(_o,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ri(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(Ri(ea,1&ea.current),null!==(e=Hs(e,t,n))?e.sibling:null);Ri(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ri(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ts(e,t,n)}return Hs(e,t,n)}(e,t,n);ms=0!==(131072&e.flags)}else ms=!1,io&&0!==(1048576&t.flags)&&$i(t,Vi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var i=Ci(t,Ai.current);ko(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Uo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,us(t,r,e,n),t=As(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return xc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===C)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Rs(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=bs(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Rs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,jo(e,t),Wo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=ks(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=ks(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=bo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Hs(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return Jo(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Is(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Us(e,t,n);case 4:return Zo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=So(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ri(_o,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=Hs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Go(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var d=(l=l.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Oo(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Oo(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ko(t,n),r=r(i=Co(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),bs(e,t,r,i=ns(r.type,i),n);case 15:return _s(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Ws(e,t),t.tag=1,xi(r)?(e=!0,Di(t)):e=!1,ko(t,n),as(t,r,i),us(t,r,i,n),As(null,t,r,!0,e,n);case 19:return zs(e,t,n);case 22:return Ts(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function $c(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Hc(a);s.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Hc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Hc(u);s.call(e)}}var u=Fc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=u,e[pi]=u.current,zr(8===e.nodeType?e.parentNode:e),lc((function(){Wc(t,u,n,r)})),u}(n,t,e,i,r);return Hc(a)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Wc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mt.length&&0!==t&&t<Mt[n].priority;n++);Mt.splice(n,0,e),0===n&&Ut(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(Et(t,1|n),rc(t,Xe()),0===(6&Au)&&(zu=Xe()+500,zi()))}break;case 13:lc((function(){var t=Lo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Vc(e,1)}},bt=function(e){if(13===e.tag){var t=Lo(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},_t=function(e){if(13===e.tag){var t=tc(e),n=Lo(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},Tt=function(){return mt},It=function(e,t){var n=mt;try{return mt=e,t()}finally{mt=n}},be=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Si(r);if(!i)throw Error(o(90));q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Oe=lc;var el={usingClientEntryPoint:!1,Events:[mi,wi,Si,Re,Ne,cc]},tl={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,r="",i=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){$c(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},function(e,t,n){"use strict";e.exports=n(105)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],d=1,f=null,h=3,p=!1,y=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,E="function"===typeof clearTimeout?clearTimeout:null,m="undefined"!==typeof e?e:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function S(e){if(g=!1,w(e),!y)if(null!==r(c))y=!0,M(b);else{var t=r(l);null!==t&&P(S,t.startTime-e)}}function b(e,n){y=!1,g&&(g=!1,E(R),R=-1),p=!0;var o=h;try{for(w(n),f=r(c);null!==f&&(!(f.expirationTime>n)||e&&!O());){var a=f.callback;if("function"===typeof a){f.callback=null,h=f.priorityLevel;var s=a(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(c)&&i(c),w(n)}else i(c);f=r(c)}if(null!==f)var u=!0;else{var d=r(l);null!==d&&P(S,d.startTime-n),u=!1}return u}finally{f=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,I=null,R=-1,N=5,A=-1;function O(){return!(t.unstable_now()-A<N)}function k(){if(null!==I){var e=t.unstable_now();A=e;var n=!0;try{n=I(!0,e)}finally{n?_():(T=!1,I=null)}}else T=!1}if("function"===typeof m)_=function(){m(k)};else if("undefined"!==typeof MessageChannel){var C=new MessageChannel,x=C.port2;C.port1.onmessage=k,_=function(){x.postMessage(null)}}else _=function(){v(k,0)};function M(e){I=e,T||(T=!0,_())}function P(e,n){R=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,M(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(E(R),R=-1):g=!0,P(S,o-a))):(e.sortIndex=s,n(c,e),y||p||(y=!0,M(b))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}).call(this,n(106).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(107),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(29))},function(e,t,n){(function(e,t){!function(e){"use strict";if(!e.setImmediate){var n,r=1,i={},o=!1,a=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){c(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",r=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),n=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},n=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;n=function(t){var n=a.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():n=function(e){setTimeout(c,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),o=0;o<t.length;o++)t[o]=arguments[o+1];var a={callback:e,args:t};return i[r]=a,n(r),r++},s.clearImmediate=u}function u(e){delete i[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=i[e];if(t){o=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{u(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(29),n(48))},,function(e,t,n){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=u(e),a=r[0],s=r[1],c=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,d=n?i-1:0,f=n?-1:1,h=e[t+d];for(d+=f,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+d],d+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+d],d+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,d=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(a++,u/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(t*u-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*y}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},,function(e,t,n){"use strict";var r=n(115).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),a=o.charCodeAt(0);if(255!==t[a])throw new TypeError(o+" is ambiguous");t[a]=i}var s=e.length,u=e.charAt(0),c=Math.log(s)/Math.log(256),l=Math.log(256)/Math.log(s);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===u;)i++,n++;for(var a=(e.length-n)*c+1>>>0,l=new Uint8Array(a);n<e.length;){var d=t[e.charCodeAt(n)];if(255===d)return;for(var f=0,h=a-1;(0!==d||f<o)&&-1!==h;h--,f++)d+=s*l[h]>>>0,l[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=f,n++}for(var p=a-o;p!==a&&0===l[p];)p++;var y=r.allocUnsafe(i+(a-p));y.fill(0,0,i);for(var g=i;p!==a;)y[g++]=l[p++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,a=t.length;o!==a&&0===t[o];)o++,n++;for(var c=(a-o)*l+1>>>0,d=new Uint8Array(c);o!==a;){for(var f=t[o],h=0,p=c-1;(0!==f||h<i)&&-1!==p;p--,h++)f+=256*d[p]>>>0,d[p]=f%s>>>0,f=f/s>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,o++}for(var y=c-i;y!==c&&0===d[y];)y++;for(var g=u.repeat(n);y<c;++y)g+=e.charAt(d[y]);return g},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},function(e,t,n){var r=n(4),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";const r=n(78).v4;e.exports=function(e,t,n,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const a={method:e};if(2===o&&(a.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");a.params=t}if("undefined"===typeof n){const e="function"===typeof i.generator?i.generator:function(){return r()};a.id=e(a,i)}else 2===o&&null===n?i.notificationIdNull&&(a.id=null):a.id=n;return a}},function(e,t,n){var r=n(118);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(67).default,i=n(119);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r=n(67).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha384=t.sha512_256=t.sha512_224=t.sha512=t.SHA384=t.SHA512_256=t.SHA512_224=t.SHA512=void 0;const r=n(68),i=n(69),o=n(22),[a,s]=(()=>i.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),u=new Uint32Array(80),c=new Uint32Array(80);class l extends r.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:n,Bl:r,Ch:i,Cl:o,Dh:a,Dl:s,Eh:u,El:c,Fh:l,Fl:d,Gh:f,Gl:h,Hh:p,Hl:y}=this;return[e,t,n,r,i,o,a,s,u,c,l,d,f,h,p,y]}set(e,t,n,r,i,o,a,s,u,c,l,d,f,h,p,y){this.Ah=0|e,this.Al=0|t,this.Bh=0|n,this.Bl=0|r,this.Ch=0|i,this.Cl=0|o,this.Dh=0|a,this.Dl=0|s,this.Eh=0|u,this.El=0|c,this.Fh=0|l,this.Fl=0|d,this.Gh=0|f,this.Gl=0|h,this.Hh=0|p,this.Hl=0|y}process(e,t){for(let i=0;i<16;i++,t+=4)u[i]=e.getUint32(t),c[i]=e.getUint32(t+=4);for(let a=16;a<80;a++){const e=0|u[a-15],t=0|c[a-15],n=i.default.rotrSH(e,t,1)^i.default.rotrSH(e,t,8)^i.default.shrSH(e,t,7),r=i.default.rotrSL(e,t,1)^i.default.rotrSL(e,t,8)^i.default.shrSL(e,t,7),o=0|u[a-2],s=0|c[a-2],l=i.default.rotrSH(o,s,19)^i.default.rotrBH(o,s,61)^i.default.shrSH(o,s,6),d=i.default.rotrSL(o,s,19)^i.default.rotrBL(o,s,61)^i.default.shrSL(o,s,6),f=i.default.add4L(r,d,c[a-7],c[a-16]),h=i.default.add4H(f,n,l,u[a-7],u[a-16]);u[a]=0|h,c[a]=0|f}let{Ah:n,Al:r,Bh:o,Bl:l,Ch:d,Cl:f,Dh:h,Dl:p,Eh:y,El:g,Fh:v,Fl:E,Gh:m,Gl:w,Hh:S,Hl:b}=this;for(let _=0;_<80;_++){const e=i.default.rotrSH(y,g,14)^i.default.rotrSH(y,g,18)^i.default.rotrBH(y,g,41),t=i.default.rotrSL(y,g,14)^i.default.rotrSL(y,g,18)^i.default.rotrBL(y,g,41),T=y&v^~y&m,I=g&E^~g&w,R=i.default.add5L(b,t,I,s[_],c[_]),N=i.default.add5H(R,S,e,T,a[_],u[_]),A=0|R,O=i.default.rotrSH(n,r,28)^i.default.rotrBH(n,r,34)^i.default.rotrBH(n,r,39),k=i.default.rotrSL(n,r,28)^i.default.rotrBL(n,r,34)^i.default.rotrBL(n,r,39),C=n&o^n&d^o&d,x=r&l^r&f^l&f;S=0|m,b=0|w,m=0|v,w=0|E,v=0|y,E=0|g,({h:y,l:g}=i.default.add(0|h,0|p,0|N,0|A)),h=0|d,p=0|f,d=0|o,f=0|l,o=0|n,l=0|r;const M=i.default.add3L(A,k,x);n=i.default.add3H(M,N,O,C),r=0|M}({h:n,l:r}=i.default.add(0|this.Ah,0|this.Al,0|n,0|r)),({h:o,l:l}=i.default.add(0|this.Bh,0|this.Bl,0|o,0|l)),({h:d,l:f}=i.default.add(0|this.Ch,0|this.Cl,0|d,0|f)),({h:h,l:p}=i.default.add(0|this.Dh,0|this.Dl,0|h,0|p)),({h:y,l:g}=i.default.add(0|this.Eh,0|this.El,0|y,0|g)),({h:v,l:E}=i.default.add(0|this.Fh,0|this.Fl,0|v,0|E)),({h:m,l:w}=i.default.add(0|this.Gh,0|this.Gl,0|m,0|w)),({h:S,l:b}=i.default.add(0|this.Hh,0|this.Hl,0|S,0|b)),this.set(n,r,o,l,d,f,h,p,y,g,v,E,m,w,S,b)}roundClean(){u.fill(0),c.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}t.SHA512=l;class d extends l{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}t.SHA512_224=d;class f extends l{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}t.SHA512_256=f;class h extends l{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}t.SHA384=h,t.sha512=(0,o.wrapConstructor)((()=>new l)),t.sha512_224=(0,o.wrapConstructor)((()=>new d)),t.sha512_256=(0,o.wrapConstructor)((()=>new f)),t.sha384=(0,o.wrapConstructor)((()=>new h))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.twistedEdwards=function(e){const t=function(e){const t=(0,i.validateBasic)(e);return a.validateObject(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze(r({},t))}(e),{Fp:n,n:h,prehash:p,hash:y,randomBytes:g,nByteLength:v,h:E}=t,m=l<<BigInt(8*v)-c,w=n.create,S=(0,o.Field)(t.n,t.nBitLength),b=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:n.sqrt(e*n.inv(t))}}catch(r){return{isValid:!1,value:u}}}),_=t.adjustScalarBytes||(e=>e),T=t.domain||((e,t,n)=>{if((0,s.abool)("phflag",n),t.length||n)throw new Error("Contexts/pre-hash are not supported");return e});function I(e,t){a.aInRange("coordinate "+e,t,u,m)}function R(e){if(!(e instanceof O))throw new Error("ExtendedPoint expected")}const N=(0,s.memoized)(((e,t)=>{const{ex:r,ey:i,ez:o}=e,a=e.is0();null==t&&(t=a?d:n.inv(o));const s=w(r*t),l=w(i*t),f=w(o*t);if(a)return{x:u,y:c};if(f!==c)throw new Error("invZ was invalid");return{x:s,y:l}})),A=(0,s.memoized)((e=>{const{a:n,d:r}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:a,et:s}=e,u=w(i*i),c=w(o*o),l=w(a*a),d=w(l*l),f=w(u*n);if(w(l*w(f+c))!==w(d+w(r*w(u*c))))throw new Error("bad point: equation left != right (1)");if(w(i*o)!==w(a*s))throw new Error("bad point: equation left != right (2)");return!0}));class O{constructor(e,t,n,r){this.ex=e,this.ey=t,this.ez=n,this.et=r,I("x",e),I("y",t),I("z",n),I("t",r),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof O)throw new Error("extended point not allowed");const{x:t,y:n}=e||{};return I("x",t),I("y",n),new O(t,n,c,w(t*n))}static normalizeZ(e){const t=n.invertBatch(e.map((e=>e.ez)));return e.map(((e,n)=>e.toAffine(t[n]))).map(O.fromAffine)}static msm(e,t){return(0,i.pippenger)(O,S,e,t)}_setWindowSize(e){x.setWindowSize(this,e)}assertValidity(){A(this)}equals(e){R(e);const{ex:t,ey:n,ez:r}=this,{ex:i,ey:o,ez:a}=e,s=w(t*a),u=w(i*r),c=w(n*a),l=w(o*r);return s===u&&c===l}is0(){return this.equals(O.ZERO)}negate(){return new O(w(-this.ex),this.ey,this.ez,w(-this.et))}double(){const{a:e}=t,{ex:n,ey:r,ez:i}=this,o=w(n*n),a=w(r*r),s=w(l*w(i*i)),u=w(e*o),c=n+r,d=w(w(c*c)-o-a),f=u+a,h=f-s,p=u-a,y=w(d*h),g=w(f*p),v=w(d*p),E=w(h*f);return new O(y,g,E,v)}add(e){R(e);const{a:n,d:r}=t,{ex:i,ey:o,ez:a,et:s}=this,{ex:c,ey:d,ez:f,et:h}=e;if(n===BigInt(-1)){const e=w((o-i)*(d+c)),t=w((o+i)*(d-c)),n=w(t-e);if(n===u)return this.double();const r=w(a*l*h),p=w(s*l*f),y=p+r,g=t+e,v=p-r,E=w(y*n),m=w(g*v),S=w(y*v),b=w(n*g);return new O(E,m,b,S)}const p=w(i*c),y=w(o*d),g=w(s*r*h),v=w(a*f),E=w((i+o)*(c+d)-p-y),m=v-g,S=v+g,b=w(y-n*p),_=w(E*m),T=w(S*b),I=w(E*b),N=w(m*S);return new O(_,T,N,I)}subtract(e){return this.add(e.negate())}wNAF(e){return x.wNAFCached(this,e,O.normalizeZ)}multiply(e){const t=e;a.aInRange("scalar",t,c,h);const{p:n,f:r}=this.wNAF(t);return O.normalizeZ([n,r])[0]}multiplyUnsafe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.ZERO;const n=e;return a.aInRange("scalar",n,u,h),n===u?C:this.is0()||n===c?this:x.wNAFCachedUnsafe(this,n,O.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(E).is0()}isTorsionFree(){return x.unsafeLadder(this,h).is0()}toAffine(e){return N(this,e)}clearCofactor(){const{h:e}=t;return e===c?this:this.multiplyUnsafe(e)}static fromHex(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{d:i,a:o}=t,l=n.BYTES;e=(0,s.ensureBytes)("pointHex",e,l),(0,s.abool)("zip215",r);const d=e.slice(),f=e[l-1];d[l-1]=-129&f;const h=a.bytesToNumberLE(d),p=r?m:n.ORDER;a.aInRange("pointHex.y",h,u,p);const y=w(h*h),g=w(y-c),v=w(i*y-o);let{isValid:E,value:S}=b(g,v);if(!E)throw new Error("Point.fromHex: invalid y coordinate");const _=(S&c)===c,T=0!==(128&f);if(!r&&S===u&&T)throw new Error("Point.fromHex: x=0 and x_0=1");return T!==_&&(S=w(-S)),O.fromAffine({x:S,y:h})}static fromPrivateKey(e){return L(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),r=a.numberToBytesLE(t,n.BYTES);return r[r.length-1]|=e&c?128:0,r}toHex(){return a.bytesToHex(this.toRawBytes())}}O.BASE=new O(t.Gx,t.Gy,c,w(t.Gx*t.Gy)),O.ZERO=new O(u,c,c,u);const{BASE:k,ZERO:C}=O,x=(0,i.wNAF)(O,8*v);function M(e){return(0,o.mod)(e,h)}function P(e){return M(a.bytesToNumberLE(e))}function L(e){const t=n.BYTES;e=(0,s.ensureBytes)("private key",e,t);const r=(0,s.ensureBytes)("hashed private key",y(e),2*t),i=_(r.slice(0,t)),o=r.slice(t,2*t),a=P(i),u=k.multiply(a),c=u.toRawBytes();return{head:i,prefix:o,scalar:a,point:u,pointBytes:c}}function D(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=a.concatBytes(...n);return P(y(T(i,(0,s.ensureBytes)("context",e),!!p)))}const U=f;k._setWindowSize(8);const j={getExtendedPublicKey:L,randomPrivateKey:()=>g(n.BYTES),precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:O.BASE;return t._setWindowSize(e),t.multiply(BigInt(3)),t}};return{CURVE:t,getPublicKey:function(e){return L(e).pointBytes},sign:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=(0,s.ensureBytes)("message",e),p&&(e=p(e));const{prefix:i,scalar:o,pointBytes:c}=L(t),l=D(r.context,i,e),d=k.multiply(l).toRawBytes(),f=M(l+D(r.context,d,c,e)*o);a.aInRange("signature.s",f,u,h);const y=a.concatBytes(d,a.numberToBytesLE(f,n.BYTES));return(0,s.ensureBytes)("result",y,2*n.BYTES)},verify:function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:U;const{context:o,zip215:u}=i,c=n.BYTES;e=(0,s.ensureBytes)("signature",e,2*c),t=(0,s.ensureBytes)("message",t),r=(0,s.ensureBytes)("publicKey",r,c),void 0!==u&&(0,s.abool)("zip215",u),p&&(t=p(t));const l=a.bytesToNumberLE(e.slice(c,2*c));let d,f,h;try{d=O.fromHex(r,u),f=O.fromHex(e.slice(0,c),u),h=k.multiplyUnsafe(l)}catch(g){return!1}if(!u&&d.isSmallOrder())return!1;const y=D(o,f.toRawBytes(),d.toRawBytes(),t);return f.add(d.multiplyUnsafe(y)).subtract(h).clearCofactor().equals(O.ZERO)},ExtendedPoint:O,utils:j}};const i=n(49),o=n(24),a=n(18),s=n(18),u=BigInt(0),c=BigInt(1),l=BigInt(2),d=BigInt(8),f={zip215:!0}},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.montgomery=function(e){const t=(p=e,(0,o.validateObject)(p,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze(r({},p))),{P:n}=t,u=e=>(0,i.mod)(e,n),c=t.montgomeryBits,l=Math.ceil(c/8),d=t.nByteLength,f=t.adjustScalarBytes||(e=>e),h=t.powPminus2||(e=>(0,i.pow)(e,n-BigInt(2),n));var p;function y(e,t,n){const r=u(e*(t-n));return[t=u(t-r),n=u(n+r)]}const g=(t.a-BigInt(2))/BigInt(4);function v(e){return(0,o.numberToBytesLE)(u(e),l)}function E(e,t){const r=function(e){const t=(0,o.ensureBytes)("u coordinate",e,l);return 32===d&&(t[31]&=127),(0,o.bytesToNumberLE)(t)}(t),i=function(e,t){(0,o.aInRange)("u",e,a,n),(0,o.aInRange)("scalar",t,a,n);const r=t,i=e;let l,d=s,f=a,p=e,v=s,E=a;for(let n=BigInt(c-1);n>=a;n--){const e=r>>n&s;E^=e,l=y(E,d,p),d=l[0],p=l[1],l=y(E,f,v),f=l[0],v=l[1],E=e;const t=d+f,o=u(t*t),a=d-f,c=u(a*a),h=o-c,m=p+v,w=u((p-v)*t),S=u(m*a),b=w+S,_=w-S;p=u(b*b),v=u(i*u(_*_)),d=u(o*c),f=u(h*(o+u(g*h)))}l=y(E,d,p),d=l[0],p=l[1],l=y(E,f,v),f=l[0],v=l[1];const m=h(f);return u(d*m)}(r,function(e){const t=(0,o.ensureBytes)("scalar",e),n=t.length;if(n!==l&&n!==d)throw new Error("invalid scalar, expected "+l+" or "+d+" bytes, got "+n);return(0,o.bytesToNumberLE)(f(t))}(e));if(i===a)throw new Error("invalid private or public key received");return v(i)}const m=v(t.Gu);function w(e){return E(e,m)}return{scalarMult:E,scalarMultBase:w,getSharedSecret:(e,t)=>E(e,t),getPublicKey:e=>w(e),utils:{randomPrivateKey:()=>t.randomBytes(t.nByteLength)},GuBytes:m}};const i=n(24),o=n(18),a=BigInt(0),s=BigInt(1)},function(e,t,n){"use strict";var r=n(19).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getHash=s,t.createCurve=function(e,t){const n=t=>(0,a.weierstrass)(r(r({},e),s(t)));return r(r({},n(t)),{},{create:n})};const i=n(125),o=n(22),a=n(71);function s(e){return{hash:e,hmac:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(0,i.hmac)(e,t,(0,o.concatBytes)(...r))},randomBytes:o.randomBytes}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const r=n(34),i=n(22);class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,r.ahash)(e);const n=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,a=new Uint8Array(o);a.set(n.length>o?e.create().update(n).digest():n);for(let r=0;r<a.length;r++)a[r]^=54;this.iHash.update(a),this.oHash=e.create();for(let r=0;r<a.length;r++)a[r]^=106;this.oHash.update(a),a.fill(0)}update(e){return(0,r.aexists)(this),this.iHash.update(e),this}digestInto(e){(0,r.aexists)(this),(0,r.abytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:n,finished:r,destroyed:i,blockLen:o,outputLen:a}=this;return e.finished=r,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,n)=>new o(e,t).update(n).digest(),t.hmac.create=(e,t)=>new o(e,t)},function(e,t,n){"use strict";var r=n(0),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},function(e,t){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";var r=n(129);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,u=60109,c=60110,l=60112,d=60113,f=60120,h=60115,p=60116,y=60121,g=60122,v=60117,E=60129,m=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),i=w("react.portal"),o=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),u=w("react.provider"),c=w("react.context"),l=w("react.forward_ref"),d=w("react.suspense"),f=w("react.suspense_list"),h=w("react.memo"),p=w("react.lazy"),y=w("react.block"),g=w("react.server.block"),v=w("react.fundamental"),E=w("react.debug_trace_mode"),m=w("react.legacy_hidden")}function S(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case l:case p:case h:case u:return e;default:return t}}case i:return t}}}var b=u,_=r,T=l,I=o,R=p,N=h,A=i,O=s,k=a,C=d;t.ContextConsumer=c,t.ContextProvider=b,t.Element=_,t.ForwardRef=T,t.Fragment=I,t.Lazy=R,t.Memo=N,t.Portal=A,t.Profiler=O,t.StrictMode=k,t.Suspense=C,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return S(e)===c},t.isContextProvider=function(e){return S(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return S(e)===l},t.isFragment=function(e){return S(e)===o},t.isLazy=function(e){return S(e)===p},t.isMemo=function(e){return S(e)===h},t.isPortal=function(e){return S(e)===i},t.isProfiler=function(e){return S(e)===s},t.isStrictMode=function(e){return S(e)===a},t.isSuspense=function(e){return S(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===E||e===a||e===d||e===f||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===u||e.$$typeof===c||e.$$typeof===l||e.$$typeof===v||e.$$typeof===y||e[0]===g)},t.typeOf=S},function(e,t,n){"use strict";e.exports=n(132)},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,p=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,E=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,S=r?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case f:case a:case u:case s:case p:return e;default:switch(e=e&&e.$$typeof){case l:case h:case v:case g:case c:return e;default:return t}}case o:return t}}}function _(e){return b(e)===f}t.AsyncMode=d,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=v,t.Memo=g,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||b(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return b(e)===l},t.isContextProvider=function(e){return b(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===v},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===o},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===s},t.isSuspense=function(e){return b(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===s||e===p||e===y||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===m||e.$$typeof===w||e.$$typeof===S||e.$$typeof===E)},t.typeOf=b},function(e,t,n){"use strict";(function(e,r){var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(n(31)),l=u(n(11)),d=s(n(66)),f=new("function"!==typeof e.TextDecoder?d.TextDecoder:e.TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=r.from(e,"utf8")),l.default.encode(r.from(e))},t.baseDecode=function(e){return r.from(l.default.decode(e))};const h=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class y{constructor(){this.buf=r.alloc(h),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=r.concat([this.buf,r.alloc(h)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(r.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=r.concat([r.from(this.buf.subarray(0,this.length)),e,r.alloc(h)]),this.length+=e.length}writeString(e){this.maybeResize();const t=r.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(r.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),t(n)}toArray(){return this.buf.subarray(0,this.length)}}function g(e,t,n){const r=n.value;n.value=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=y;class v{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p("Expected buffer length ".concat(e," isn't within bounds"));const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return f.decode(t)}catch(n){throw new p("Error decoding UTF-8 string: ".concat(n))}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),n=Array();for(let r=0;r<t;++r)n.push(e());return n}}function E(e){return e.charAt(0).toUpperCase()+e.slice(1)}function m(e,t,n,r,i){try{if("string"===typeof r)i["write".concat(E(r))](n);else if(r instanceof Array)if("number"===typeof r[0]){if(n.length!==r[0])throw new p("Expecting byte array of length ".concat(r[0],", but got ").concat(n.length," bytes"));i.writeFixedArray(n)}else i.writeArray(n,(n=>{m(e,t,n,r[0],i)}));else if(void 0!==r.kind){if("option"!==r.kind)throw new p("FieldType ".concat(r," unrecognized"));null===n||void 0===n?i.writeU8(0):(i.writeU8(1),m(e,t,n,r.type,i))}else w(e,n,i)}catch(o){throw o instanceof p&&o.addToFieldPath(t),o}}function w(e,t,n){const r=e.get(t.constructor);if(!r)throw new p("Class ".concat(t.constructor.name," is missing in schema"));if("struct"===r.kind)r.fields.map((r=>{let[i,o]=r;m(e,i,t[i],o,n)}));else{if("enum"!==r.kind)throw new p("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name));{const i=t[r.field];for(let o=0;o<r.values.length;++o){const[a,s]=r.values[o];if(a===i){n.writeU8(o),m(e,a,t[a],s,n);break}}}}}function S(e,t,n,r){try{if("string"===typeof n)return r["read".concat(E(n))]();if(n instanceof Array)return"number"===typeof n[0]?r.readFixedArray(n[0]):r.readArray((()=>S(e,t,n[0],r)));if("option"===n.kind){return r.readU8()?S(e,t,n.type,r):void 0}return b(e,n,r)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function b(e,t,n){const r=e.get(t);if(!r)throw new p("Class ".concat(t.name," is missing in schema"));if("struct"===r.kind){const r={};for(const[i,o]of e.get(t).fields)r[i]=S(e,i,o,n);return new t(r)}if("enum"===r.kind){const i=n.readU8();if(i>=r.values.length)throw new p("Enum index: ".concat(i," is out of range"));const[o,a]=r.values[i],s=S(e,o,a,n);return new t({[o]:s})}throw new p("Unexpected schema kind: ".concat(r.kind," for ").concat(t.constructor.name))}a([g],v.prototype,"readU8",null),a([g],v.prototype,"readU16",null),a([g],v.prototype,"readU32",null),a([g],v.prototype,"readU64",null),a([g],v.prototype,"readU128",null),a([g],v.prototype,"readU256",null),a([g],v.prototype,"readU512",null),a([g],v.prototype,"readString",null),a([g],v.prototype,"readFixedArray",null),a([g],v.prototype,"readArray",null),t.BinaryReader=v,t.serialize=function(e,t){const n=new y;return w(e,t,n),n.toArray()},t.deserialize=function(e,t,n){const r=new v(n),i=b(e,t,r);if(r.offset<n.length)throw new p("Unexpected ".concat(n.length-r.offset," bytes after deserialized data"));return i},t.deserializeUnchecked=function(e,t,n){return b(e,t,new v(n))}}).call(this,n(29),n(4).Buffer)},function(e,t,n){const r=n(135);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},function(e,t,n){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*u+1>>>0,c=new Uint8Array(o);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=a*c[f]>>>0,c[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,n++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(r+(o-h)),y=r;h!==o;)p[y++]=c[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var d=t[i],f=0,h=u-1;(0!==d||f<r)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var p=u-r;p!==u&&0===l[p];)p++;for(var y=s.repeat(n);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.burn=t.expireToken=t.removeFeatureFromNetwork=t.addFeatureToNetwork=t.updateExpiry=t.unfreeze=t.freeze=t.revoke=t.issue=t.revokeGatekeeper=t.addGatekeeper=t.GatewayInstruction=void 0;const i=n(36),o=n(38),a=n(6),s=n(35),u=n(52),c=n(37),l=n(51);class d extends i.Assignable{}class f extends i.Assignable{}class h extends i.Assignable{}class p extends i.Assignable{}class y extends i.Assignable{}class g extends i.Assignable{}class v extends i.Assignable{}class E extends i.Assignable{}class m extends i.Assignable{}class w extends i.Enum{static addGatekeeper(){return new w({addGatekeeper:new d({})})}static issue(e,t){return new w({issue:new f({seed:e,expireTime:t})})}static revoke(){return new w({setState:new h({state:new s.GatewayTokenState({revoked:new s.Revoked({})})})})}static freeze(){return new w({setState:new h({state:new s.GatewayTokenState({frozen:new s.Frozen({})})})})}static unfreeze(){return new w({setState:new h({state:new s.GatewayTokenState({active:new s.Active({})})})})}static updateExpiry(e){return new w({updateExpiry:new p({expireTime:e})})}static revokeGatekeeper(){return new w({revokeGatekeeper:new y({})})}static addFeatureToNetwork(e){return new w({addFeatureToNetwork:new g({feature:e})})}static removeFeatureFromNetwork(e){return new w({removeFeatureFromNetwork:new v({feature:e})})}static expireToken(e){return new w({expireToken:new E({gatekeeperNetwork:l.AssignablePublicKey.fromPublicKey(e)})})}static burnToken(){return new w({burnToken:new m({})})}}t.GatewayInstruction=w,t.addGatekeeper=function(e,t,n,r){const i=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],s=w.addGatekeeper().encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})},t.revokeGatekeeper=function(e,t,n,r){const i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],s=w.revokeGatekeeper().encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})},t.issue=function(e,t,n,r,i,s,u,c){const l=[{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],d=w.issue(u,c).encode();return new a.TransactionInstruction({keys:l,programId:o.PROGRAM_ID,data:d})};const S=(e,t,n)=>[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];t.revoke=function(e,t,n){const r=S(e,t,n),i=w.revoke().encode();return new a.TransactionInstruction({keys:r,programId:o.PROGRAM_ID,data:i})},t.freeze=function(e,t,n){const r=S(e,t,n),i=w.freeze().encode();return new a.TransactionInstruction({keys:r,programId:o.PROGRAM_ID,data:i})},t.unfreeze=function(e,t,n){const r=S(e,t,n),i=w.unfreeze().encode();return new a.TransactionInstruction({keys:r,programId:o.PROGRAM_ID,data:i})},t.updateExpiry=function(e,t,n,r){const i=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}],s=w.updateExpiry(r).encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})},t.addFeatureToNetwork=function(e,t,n){return r(this,void 0,void 0,(function*(){const r=(0,c.getFeatureAccountAddress)(n,t),i=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],s=w.addFeatureToNetwork(n).encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})}))},t.removeFeatureFromNetwork=function(e,t,n){return r(this,void 0,void 0,(function*(){const r=(0,c.getFeatureAccountAddress)(n,t),i=[{pubkey:e,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:a.SystemProgram.programId,isSigner:!1,isWritable:!1}],s=w.removeFeatureFromNetwork(n).encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})}))},t.expireToken=function(e,t,n){const r=new u.NetworkFeature({userTokenExpiry:new u.UserTokenExpiry({})}),i=(0,c.getFeatureAccountAddress)(r,n);console.log("featureAccount",i.toBase58());const s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!0,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1}],l=w.expireToken(n).encode();return new a.TransactionInstruction({keys:s,programId:o.PROGRAM_ID,data:l})},t.burn=function(e,t,n,r){const i=[...S(e,t,n),{pubkey:r,isSigner:!1,isWritable:!0}],s=w.burnToken().encode();return new a.TransactionInstruction({keys:i,programId:o.PROGRAM_ID,data:s})},i.SCHEMA.set(w,{kind:"enum",field:"enum",values:[["addGatekeeper",d],["issue",f],["setState",h],["updateExpiry",p],["revokeGatekeeper",y],["addFeatureToNetwork",g],["removeFeatureFromNetwork",v],["expireToken",E],["burnToken",m]]}),i.SCHEMA.set(d,{kind:"struct",fields:[]}),i.SCHEMA.set(f,{kind:"struct",fields:[["seed",{kind:"option",type:[8]}],["expireTime",{kind:"option",type:"u64"}]]}),i.SCHEMA.set(h,{kind:"struct",fields:[["state",s.GatewayTokenState]]}),i.SCHEMA.set(p,{kind:"struct",fields:[["expireTime","u64"]]}),i.SCHEMA.set(y,{kind:"struct",fields:[]}),i.SCHEMA.set(g,{kind:"struct",fields:[["feature",u.NetworkFeature]]}),i.SCHEMA.set(v,{kind:"struct",fields:[["feature",u.NetworkFeature]]}),i.SCHEMA.set(E,{kind:"struct",fields:[["padding",{kind:"option",type:[8]}],["gatekeeperNetwork",l.AssignablePublicKey]]}),i.SCHEMA.set(m,{kind:"struct",fields:[]})},,function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var i=e.charAt(r),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=r}var a=e.length,s=e.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,r=0,i=0;e[n]===s;)r++,n++;for(var o=(e.length-n)*u+1>>>0,c=new Uint8Array(o);e[n];){var l=t[e.charCodeAt(n)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=a*c[f]>>>0,c[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,n++}for(var h=o-i;h!==o&&0===c[h];)h++;for(var p=new Uint8Array(r+(o-h)),y=r;h!==o;)p[y++]=c[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,r=0,i=0,o=t.length;i!==o&&0===t[i];)i++,n++;for(var u=(o-i)*c+1>>>0,l=new Uint8Array(u);i!==o;){for(var d=t[i],f=0,h=u-1;(0!==d||f<r)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");r=f,i++}for(var p=u-r;p!==u&&0===l[p];)p++;for(var y=s.repeat(n);p<u;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},function(e,t){e.exports=function(){return"function"===typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(e,t,n){const r=n(25),i=n(53),o=n(142),a=n(143),s=n(144),u=n(145),c=n(146),l=n(74),d=n(147),f=n(150),h=n(151),p=n(26),y=n(152);function g(e,t,n){const r=e.size,i=h.getEncodedBits(t,n);let o,a;for(o=0;o<15;o++)a=1===(i>>o&1),o<6?e.set(o,8,a,!0):o<8?e.set(o+1,8,a,!0):e.set(r-15+o,8,a,!0),o<8?e.set(8,r-o-1,a,!0):o<9?e.set(8,15-o-1+1,a,!0):e.set(8,15-o-1,a,!0);e.set(r-8,8,1,!0)}function v(e,t,n){const i=new o;n.forEach((function(t){i.put(t.mode.bit,4),i.put(t.getLength(),p.getCharCountIndicator(t.mode,e)),t.write(i)}));const a=8*(r.getSymbolTotalCodewords(e)-l.getTotalCodewordsCount(e,t));for(i.getLengthInBits()+4<=a&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const s=(a-i.getLengthInBits())/8;for(let r=0;r<s;r++)i.put(r%2?17:236,8);return function(e,t,n){const i=r.getSymbolTotalCodewords(t),o=l.getTotalCodewordsCount(t,n),a=i-o,s=l.getBlocksCount(t,n),u=i%s,c=s-u,f=Math.floor(i/s),h=Math.floor(a/s),p=h+1,y=f-h,g=new d(y);let v=0;const E=new Array(s),m=new Array(s);let w=0;const S=new Uint8Array(e.buffer);for(let r=0;r<s;r++){const e=r<c?h:p;E[r]=S.slice(v,v+e),m[r]=g.encode(E[r]),v+=e,w=Math.max(w,e)}const b=new Uint8Array(i);let _,T,I=0;for(_=0;_<w;_++)for(T=0;T<s;T++)_<E[T].length&&(b[I++]=E[T][_]);for(_=0;_<y;_++)for(T=0;T<s;T++)b[I++]=m[T][_];return b}(i,e,t)}function E(e,t,n,i){let o;if(Array.isArray(e))o=y.fromArray(e);else{if("string"!==typeof e)throw new Error("Invalid data");{let r=t;if(!r){const t=y.rawSplit(e);r=f.getBestVersionForData(t,n)}o=y.fromString(e,r||40)}}const l=f.getBestVersionForData(o,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<l)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+l+".\n")}else t=l;const d=v(t,n,o),h=r.getSymbolSize(t),p=new a(h);return function(e,t){const n=e.size,r=u.getPositions(t);for(let i=0;i<r.length;i++){const t=r[i][0],o=r[i][1];for(let r=-1;r<=7;r++)if(!(t+r<=-1||n<=t+r))for(let i=-1;i<=7;i++)o+i<=-1||n<=o+i||(r>=0&&r<=6&&(0===i||6===i)||i>=0&&i<=6&&(0===r||6===r)||r>=2&&r<=4&&i>=2&&i<=4?e.set(t+r,o+i,!0,!0):e.set(t+r,o+i,!1,!0))}}(p,t),function(e){const t=e.size;for(let n=8;n<t-8;n++){const t=n%2===0;e.set(n,6,t,!0),e.set(6,n,t,!0)}}(p),function(e,t){const n=s.getPositions(t);for(let r=0;r<n.length;r++){const t=n[r][0],i=n[r][1];for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)-2===n||2===n||-2===r||2===r||0===n&&0===r?e.set(t+n,i+r,!0,!0):e.set(t+n,i+r,!1,!0)}}(p,t),g(p,n,0),t>=7&&function(e,t){const n=e.size,r=f.getEncodedBits(t);let i,o,a;for(let s=0;s<18;s++)i=Math.floor(s/3),o=s%3+n-8-3,a=1===(r>>s&1),e.set(i,o,a,!0),e.set(o,i,a,!0)}(p,t),function(e,t){const n=e.size;let r=-1,i=n-1,o=7,a=0;for(let s=n-1;s>0;s-=2)for(6===s&&s--;;){for(let n=0;n<2;n++)if(!e.isReserved(i,s-n)){let r=!1;a<t.length&&(r=1===(t[a]>>>o&1)),e.set(i,s-n,r),o--,-1===o&&(a++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}(p,d),isNaN(i)&&(i=c.getBestMask(p,g.bind(null,p,n))),c.applyMask(i,p),g(p,n,i),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:i,segments:o}}t.create=function(e,t){if("undefined"===typeof e||""===e)throw new Error("No input text");let n,o,a=i.M;return"undefined"!==typeof t&&(a=i.from(t.errorCorrectionLevel,i.M),n=f.from(t.version),o=c.from(t.maskPattern),t.toSJISFunc&&r.setToSJISFunction(t.toSJISFunc)),E(e,n,a,o)}},function(e,t){function n(){this.buffer=[],this.length=0}n.prototype={get:function(e){const t=Math.floor(e/8);return 1===(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(let n=0;n<t;n++)this.putBit(1===(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},e.exports=n},function(e,t){function n(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}n.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)},n.prototype.get=function(e,t){return this.data[e*this.size+t]},n.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},n.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},e.exports=n},function(e,t,n){const r=n(25).getSymbolSize;t.getRowColCoords=function(e){if(1===e)return[];const t=Math.floor(e/7)+2,n=r(e),i=145===n?26:2*Math.ceil((n-13)/(2*t-2)),o=[n-7];for(let r=1;r<t-1;r++)o[r]=o[r-1]-i;return o.push(6),o.reverse()},t.getPositions=function(e){const n=[],r=t.getRowColCoords(e),i=r.length;for(let t=0;t<i;t++)for(let e=0;e<i;e++)0===t&&0===e||0===t&&e===i-1||t===i-1&&0===e||n.push([r[t],r[e]]);return n}},function(e,t,n){const r=n(25).getSymbolSize;t.getPositions=function(e){const t=r(e);return[[0,0],[t-7,0],[0,t-7]]}},function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const n=3,r=3,i=40,o=10;function a(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2===0;case t.Patterns.PATTERN001:return n%2===0;case t.Patterns.PATTERN010:return r%3===0;case t.Patterns.PATTERN011:return(n+r)%3===0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2===0;case t.Patterns.PATTERN101:return n*r%2+n*r%3===0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2===0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){const t=e.size;let r=0,i=0,o=0,a=null,s=null;for(let u=0;u<t;u++){i=o=0,a=s=null;for(let c=0;c<t;c++){let t=e.get(u,c);t===a?i++:(i>=5&&(r+=n+(i-5)),a=t,i=1),t=e.get(c,u),t===s?o++:(o>=5&&(r+=n+(o-5)),s=t,o=1)}i>=5&&(r+=n+(i-5)),o>=5&&(r+=n+(o-5))}return r},t.getPenaltyN2=function(e){const t=e.size;let n=0;for(let r=0;r<t-1;r++)for(let i=0;i<t-1;i++){const t=e.get(r,i)+e.get(r,i+1)+e.get(r+1,i)+e.get(r+1,i+1);4!==t&&0!==t||n++}return n*r},t.getPenaltyN3=function(e){const t=e.size;let n=0,r=0,o=0;for(let i=0;i<t;i++){r=o=0;for(let a=0;a<t;a++)r=r<<1&2047|e.get(i,a),a>=10&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),a>=10&&(1488===o||93===o)&&n++}return n*i},t.getPenaltyN4=function(e){let t=0;const n=e.data.length;for(let r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},t.applyMask=function(e,t){const n=t.size;for(let r=0;r<n;r++)for(let i=0;i<n;i++)t.isReserved(i,r)||t.xor(i,r,a(e,i,r))},t.getBestMask=function(e,n){const r=Object.keys(t.Patterns).length;let i=0,o=1/0;for(let a=0;a<r;a++){n(a),t.applyMask(a,e);const r=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),r<o&&(o=r,i=a)}return i}},function(e,t,n){const r=n(148);function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=r.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const t=new Uint8Array(e.length+this.degree);t.set(e);const n=r.mod(t,this.genPoly),i=this.degree-n.length;if(i>0){const e=new Uint8Array(this.degree);return e.set(n,i),e}return n},e.exports=i},function(e,t,n){const r=n(149);t.mul=function(e,t){const n=new Uint8Array(e.length+t.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<t.length;o++)n[i+o]^=r.mul(e[i],t[o]);return n},t.mod=function(e,t){let n=new Uint8Array(e);for(;n.length-t.length>=0;){const e=n[0];for(let o=0;o<t.length;o++)n[o]^=r.mul(t[o],e);let i=0;for(;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let i=0;i<e;i++)n=t.mul(n,new Uint8Array([1,r.exp(i)]));return n}},function(e,t){const n=new Uint8Array(512),r=new Uint8Array(256);!function(){let e=1;for(let t=0;t<255;t++)n[t]=e,r[e]=t,e<<=1,256&e&&(e^=285);for(let t=255;t<512;t++)n[t]=n[t-255]}(),t.log=function(e){if(e<1)throw new Error("log("+e+")");return r[e]},t.exp=function(e){return n[e]},t.mul=function(e,t){return 0===e||0===t?0:n[r[e]+r[t]]}},function(e,t,n){const r=n(25),i=n(74),o=n(53),a=n(26),s=n(75),u=r.getBCHDigit(7973);function c(e,t){return a.getCharCountIndicator(e,t)+4}function l(e,t){let n=0;return e.forEach((function(e){const r=c(e.mode,t);n+=r+e.getBitsLength()})),n}t.from=function(e,t){return s.isValid(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!s.isValid(e))throw new Error("Invalid QR Code version");"undefined"===typeof n&&(n=a.BYTE);const o=8*(r.getSymbolTotalCodewords(e)-i.getTotalCodewordsCount(e,t));if(n===a.MIXED)return o;const u=o-c(n,e);switch(n){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},t.getBestVersionForData=function(e,n){let r;const i=o.from(n,o.M);if(Array.isArray(e)){if(e.length>1)return function(e,n){for(let r=1;r<=40;r++)if(l(e,r)<=t.getCapacity(r,n,a.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(let i=1;i<=40;i++)if(n<=t.getCapacity(i,r,e))return i}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!s.isValid(e)||e<7)throw new Error("Invalid QR Code version");let t=e<<12;for(;r.getBCHDigit(t)-u>=0;)t^=7973<<r.getBCHDigit(t)-u;return e<<12|t}},function(e,t,n){const r=n(25),i=r.getBCHDigit(1335);t.getEncodedBits=function(e,t){const n=e.bit<<3|t;let o=n<<10;for(;r.getBCHDigit(o)-i>=0;)o^=1335<<r.getBCHDigit(o)-i;return 21522^(n<<10|o)}},function(e,t,n){const r=n(26),i=n(153),o=n(154),a=n(155),s=n(156),u=n(76),c=n(25),l=n(157);function d(e){return unescape(encodeURIComponent(e)).length}function f(e,t,n){const r=[];let i;for(;null!==(i=e.exec(n));)r.push({data:i[0],index:i.index,mode:t,length:i[0].length});return r}function h(e){const t=f(u.NUMERIC,r.NUMERIC,e),n=f(u.ALPHANUMERIC,r.ALPHANUMERIC,e);let i,o;c.isKanjiModeEnabled()?(i=f(u.BYTE,r.BYTE,e),o=f(u.KANJI,r.KANJI,e)):(i=f(u.BYTE_KANJI,r.BYTE,e),o=[]);return t.concat(n,i,o).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function p(e,t){switch(t){case r.NUMERIC:return i.getBitsLength(e);case r.ALPHANUMERIC:return o.getBitsLength(e);case r.KANJI:return s.getBitsLength(e);case r.BYTE:return a.getBitsLength(e)}}function y(e,t){let n;const u=r.getBestModeForData(e);if(n=r.from(t,u),n!==r.BYTE&&n.bit<u.bit)throw new Error('"'+e+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new i(e);case r.ALPHANUMERIC:return new o(e);case r.KANJI:return new s(e);case r.BYTE:return new a(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"===typeof t?e.push(y(t,null)):t.data&&e.push(y(t.data,t.mode)),e}),[])},t.fromString=function(e,n){const i=function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n];switch(i.mode){case r.NUMERIC:t.push([i,{data:i.data,mode:r.ALPHANUMERIC,length:i.length},{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.ALPHANUMERIC:t.push([i,{data:i.data,mode:r.BYTE,length:i.length}]);break;case r.KANJI:t.push([i,{data:i.data,mode:r.BYTE,length:d(i.data)}]);break;case r.BYTE:t.push([{data:i.data,mode:r.BYTE,length:d(i.data)}])}}return t}(h(e,c.isKanjiModeEnabled())),o=function(e,t){const n={},i={start:{}};let o=["start"];for(let a=0;a<e.length;a++){const s=e[a],u=[];for(let e=0;e<s.length;e++){const c=s[e],l=""+a+e;u.push(l),n[l]={node:c,lastCount:0},i[l]={};for(let e=0;e<o.length;e++){const a=o[e];n[a]&&n[a].node.mode===c.mode?(i[a][l]=p(n[a].lastCount+c.length,c.mode)-p(n[a].lastCount,c.mode),n[a].lastCount+=c.length):(n[a]&&(n[a].lastCount=c.length),i[a][l]=p(c.length,c.mode)+4+r.getCharCountIndicator(c.mode,t))}}o=u}for(let r=0;r<o.length;r++)i[o[r]].end=0;return{map:i,table:n}}(i,n),a=l.find_path(o.map,"start","end"),s=[];for(let t=1;t<a.length-1;t++)s.push(o.table[a[t]].node);return t.fromArray(function(e){return e.reduce((function(e,t){const n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(s))},t.rawSplit=function(e){return t.fromArray(h(e,c.isKanjiModeEnabled()))}},function(e,t,n){const r=n(26);function i(e){this.mode=r.NUMERIC,this.data=e.toString()}i.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){let t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);const i=this.data.length-t;i>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*i+1))},e.exports=i},function(e,t,n){const r=n(26),i=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function o(e){this.mode=r.ALPHANUMERIC,this.data=e}o.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t+2<=this.data.length;t+=2){let n=45*i.indexOf(this.data[t]);n+=i.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(i.indexOf(this.data[t]),6)},e.exports=o},function(e,t,n){const r=n(26);function i(e){this.mode=r.BYTE,this.data="string"===typeof e?(new TextEncoder).encode(e):new Uint8Array(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},e.exports=i},function(e,t,n){const r=n(26),i=n(25);function o(e){this.mode=r.KANJI,this.data=e}o.getBitsLength=function(e){return 13*e},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=i.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},e.exports=o},function(e,t,n){"use strict";var r={single_source_shortest_paths:function(e,t,n){var i={},o={};o[t]=0;var a,s,u,c,l,d,f,h=r.PriorityQueue.make();for(h.push(t,0);!h.empty();)for(u in s=(a=h.pop()).value,c=a.cost,l=e[s]||{})l.hasOwnProperty(u)&&(d=c+l[u],f=o[u],("undefined"===typeof o[u]||f>d)&&(o[u]=d,h.push(u,d),i[u]=s));if("undefined"!==typeof n&&"undefined"===typeof o[n]){var p=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(p)}return i},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){var i=r.single_source_shortest_paths(e,t,n);return r.extract_shortest_path_from_predecessor_list(i,n)},PriorityQueue:{make:function(e){var t,n=r.PriorityQueue,i={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i.queue=[],i.sorter=e.sorter||n.default_sorter,i},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=r},function(e,t,n){const r=n(77);t.render=function(e,t,n){let i=n,o=t;"undefined"!==typeof i||t&&t.getContext||(i=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),i=r.getOptions(i);const a=r.getImageWidth(e.modules.size,i),s=o.getContext("2d"),u=s.createImageData(a,a);return r.qrToImageData(u.data,e,i),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(s,o,a),s.putImageData(u,0,0),o},t.renderToDataURL=function(e,n,r){let i=r;"undefined"!==typeof i||n&&n.getContext||(i=n,n=void 0),i||(i={});const o=t.render(e,n,i),a=i.type||"image/png",s=i.rendererOpts||{};return o.toDataURL(a,s.quality)}},function(e,t,n){const r=n(77);function i(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function o(e,t,n){let r=e+t;return"undefined"!==typeof n&&(r+=" "+n),r}t.render=function(e,t,n){const a=r.getOptions(t),s=e.modules.size,u=e.modules.data,c=s+2*a.margin,l=a.color.light.a?"<path "+i(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",d="<path "+i(a.color.dark,"stroke")+' d="'+function(e,t,n){let r="",i=0,a=!1,s=0;for(let u=0;u<e.length;u++){const c=Math.floor(u%t),l=Math.floor(u/t);c||a||(a=!0),e[u]?(s++,u>0&&c>0&&e[u-1]||(r+=a?o("M",c+n,.5+l+n):o("m",i,0),i=0,a=!1),c+1<t&&e[u+1]||(r+=o("h",s),s=0)):i++}return r}(u,s,a.margin)+'"/>',f='viewBox="0 0 '+c+" "+c+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+f+' shape-rendering="crispEdges">'+l+d+"</svg>\n";return"function"===typeof n&&n(null,h),h}},,function(e,t,n){"use strict";var r=n(13),i=Object(r.a)((function(e){return null==e}));t.a=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(10),i=n(15),o=n(9),a=n(46);const s=["signers"];class u extends i.a{async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!0;try{if(Object(a.a)(e)){if(!this.supportedTransactionVersions)throw new o.k("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(e.version))throw new o.k("Sending transaction version ".concat(e.version," isn't supported by this wallet"));try{const r=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(r,n)}catch(u){if(u instanceof o.n)throw i=!1,u;throw new o.k(null===u||void 0===u?void 0:u.message,u)}}else try{const{signers:i}=n,o=Object(r.a)(n,s);e=await this.prepareTransaction(e,t,o),(null===i||void 0===i?void 0:i.length)&&e.partialSign(...i);const a=(e=await this.signTransaction(e)).serialize();return await t.sendRawTransaction(a,o)}catch(u){if(u instanceof o.n)throw i=!1,u;throw new o.k(null===u||void 0===u?void 0:u.message,u)}}catch(u){throw i&&this.emit("error",u),u}}async signAllTransactions(e){for(const n of e)if(Object(a.a)(n)){if(!this.supportedTransactionVersions)throw new o.n("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new o.n("Signing transaction version ".concat(n.version," isn't supported by this wallet"))}const t=[];for(const n of e)t.push(await this.signTransaction(n));return t}}class c extends u{}class l extends c{}},function(e,t,n){"use strict";var r=n(13),i=n(17);function o(e){return function t(n,o){switch(arguments.length){case 0:return t;case 1:return Object(i.a)(n)?t:Object(r.a)((function(t){return e(n,t)}));default:return Object(i.a)(n)&&Object(i.a)(o)?t:Object(i.a)(n)?Object(r.a)((function(t){return e(t,o)})):Object(i.a)(o)?Object(r.a)((function(t){return e(n,t)})):e(n,o)}}}function a(e,t,n){for(var r=0,i=n.length;r<i;)t=e(t,n[r]),r+=1;return t}var s=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var u=Object(r.a)((function(e){return!!s(e)||!!e&&("object"===typeof e&&(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))})),c="undefined"!==typeof Symbol?Symbol.iterator:"@@iterator";function l(e,t,n){return function(r,i,o){if(u(o))return e(r,i,o);if(null==o)return i;if("function"===typeof o["fantasy-land/reduce"])return t(r,i,o,"fantasy-land/reduce");if(null!=o[c])return n(r,i,o[c]());if("function"===typeof o.next)return n(r,i,o);if("function"===typeof o.reduce)return t(r,i,o,"reduce");throw new TypeError("reduce: list must be array or iterable")}}function d(e,t,n){for(var r=n.next();!r.done;)t=e(t,r.value),r=n.next();return t}function f(e,t,n,r){return n[r](e,t)}var h=l(a,f,d);function p(e,t,n){return function(){if(0===arguments.length)return n();var r=arguments[arguments.length-1];if(!s(r)){for(var i=0;i<e.length;){if("function"===typeof r[e[i]])return r[e[i]].apply(r,Array.prototype.slice.call(arguments,0,-1));i+=1}if(function(e){return null!=e&&"function"===typeof e["@@transducer/step"]}(r))return t.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return n.apply(this,arguments)}}var y=function(){return this.xf["@@transducer/init"]()},g=function(e){return this.xf["@@transducer/result"](e)},v=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=y,e.prototype["@@transducer/result"]=g,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),E=function(e){return function(t){return new v(e,t)}};function m(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,i){return t.apply(this,arguments)};case 5:return function(e,n,r,i,o){return t.apply(this,arguments)};case 6:return function(e,n,r,i,o,a){return t.apply(this,arguments)};case 7:return function(e,n,r,i,o,a,s){return t.apply(this,arguments)};case 8:return function(e,n,r,i,o,a,s,u){return t.apply(this,arguments)};case 9:return function(e,n,r,i,o,a,s,u,c){return t.apply(this,arguments)};case 10:return function(e,n,r,i,o,a,s,u,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function w(e,t,n){return function(){for(var r=[],o=0,a=e,s=0,u=!1;s<t.length||o<arguments.length;){var c;s<t.length&&(!Object(i.a)(t[s])||o>=arguments.length)?c=t[s]:(c=arguments[o],o+=1),r[s]=c,Object(i.a)(c)?u=!0:a-=1,s+=1}return!u&&a<=0?n.apply(this,r):m(Math.max(0,a),w(e,r,n))}}var S=o((function(e,t){return 1===e?Object(r.a)(t):m(e,w(e,[],t))}));function b(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var _=Object.prototype.toString,T=function(){return"[object Arguments]"===_.call(arguments)?function(e){return"[object Arguments]"===_.call(e)}:function(e){return b("callee",e)}}(),I=T,R=!{toString:null}.propertyIsEnumerable("toString"),N=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],A=function(){return arguments.propertyIsEnumerable("length")}(),O=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1},k="function"!==typeof Object.keys||A?Object(r.a)((function(e){if(Object(e)!==e)return[];var t,n,r=[],i=A&&I(e);for(t in e)!b(t,e)||i&&"length"===t||(r[r.length]=t);if(R)for(n=N.length-1;n>=0;)b(t=N[n],e)&&!O(r,t)&&(r[r.length]=t),n-=1;return r})):Object(r.a)((function(e){return Object(e)!==e?[]:Object.keys(e)})),C=o(p(["fantasy-land/map","map"],E,(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return S(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return a((function(n,r){return n[r]=e(t[r]),n}),{},k(t));default:return function(e,t){for(var n=0,r=t.length,i=Array(r);n<r;)i[n]=e(t[n]),n+=1;return i}(e,t)}}))),x=C,M=o((function(e,t){return"function"===typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"===typeof e.ap?e.ap(t):"function"===typeof e?function(n){return e(n)(t(n))}:h((function(e,n){return function(e,t){var n;t=t||[];var r=(e=e||[]).length,i=t.length,o=[];for(n=0;n<r;)o[o.length]=e[n],n+=1;for(n=0;n<i;)o[o.length]=t[n],n+=1;return o}(e,x(n,t))}),[],e)})),P=o((function(e,t){var n=S(e,t);return S(e,(function(){return a(M,x(n,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),L=P,D=Object(r.a)((function(e){return L(e.length,e)}))(Object(r.a)((function(e){return!e})));t.a=D},,,,,,,,,function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(10),i=n(162),o=n(15),a=n(9),s=n(46),u=n(6);const c=["signers"];class l extends i.a{constructor(){super(),this.name="Phantom",this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"===typeof window||"undefined"===typeof document?o.b.Unsupported:o.b.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new a.d),this.emit("disconnect"))},this._accountChanged=e=>{const t=this._publicKey;if(t){try{e=new u.PublicKey(e.toBytes())}catch(n){return void this.emit("error",new a.j(null===n||void 0===n?void 0:n.message,n))}t.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==o.b.Unsupported&&(Object(o.c)()?(this._readyState=o.b.Loadable,this.emit("readyStateChange",this._readyState)):Object(o.d)((()=>{var e,t;return!!(null!==(e=window.phantom)&&void 0!==e&&null!==(e=e.solana)&&void 0!==e&&e.isPhantom||null!==(t=window.solana)&&void 0!==t&&t.isPhantom)&&(this._readyState=o.b.Installed,this.emit("readyStateChange",this._readyState),!0)})))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===o.b.Installed&&await this.connect()}async connect(){try{var e;if(this.connected||this.connecting)return;if(this.readyState===o.b.Loadable){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(window.location.origin);return void(window.location.href="https://phantom.app/ul/browse/".concat(e,"?ref=").concat(t))}if(this.readyState!==o.b.Installed)throw new a.i;this._connecting=!0;const n=(null===(e=window.phantom)||void 0===e?void 0:e.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(t){throw new a.c(null===t||void 0===t?void 0:t.message,t)}if(!n.publicKey)throw new a.a;let r;try{r=new u.PublicKey(n.publicKey.toBytes())}catch(t){throw new a.j(null===t||void 0===t?void 0:t.message,t)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new a.e(null===t||void 0===t?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const o=this._wallet;if(!o)throw new a.h;try{const{signers:i}=n,a=Object(r.a)(n,c);Object(s.a)(e)?(null===i||void 0===i?void 0:i.length)&&e.sign(i):(e=await this.prepareTransaction(e,t,a),(null===i||void 0===i?void 0:i.length)&&e.partialSign(...i)),a.preflightCommitment=a.preflightCommitment||t.commitment;const{signature:u}=await o.signAndSendTransaction(e,a);return u}catch(i){if(i instanceof a.f)throw i;throw new a.k(null===i||void 0===i?void 0:i.message,i)}}catch(i){throw this.emit("error",i),i}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new a.h;try{return await n.signTransaction(e)||e}catch(t){throw new a.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new a.h;try{return await n.signAllTransactions(e)||e}catch(t){throw new a.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const n=this._wallet;if(!n)throw new a.h;try{const{signature:t}=await n.signMessage(e);return t}catch(t){throw new a.m(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="standard:connect"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="standard:disconnect"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="standard:events"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="solana:signAndSendTransaction"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="solana:signTransaction"},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r="solana:signMessage"},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(6),i=n(0),o=n.n(i),a=n(42);const s=e=>{let{children:t,endpoint:n,config:s={commitment:"confirmed"}}=e;const u=Object(i.useMemo)((()=>new r.Connection(n,s)),[n,s]);return o.a.createElement(a.a.Provider,{value:{connection:u}},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ct}));var r=n(162),i=n(15),o=n(9),a=n(46),s=n(6);n(20);const u="".concat("(?:\\nURI: (?<uri>[^\\n]+))?").concat("(?:\\nVersion: (?<version>[^\\n]+))?").concat("(?:\\nChain ID: (?<chainId>[^\\n]+))?").concat("(?:\\nNonce: (?<nonce>[^\\n]+))?").concat("(?:\\nIssued At: (?<issuedAt>[^\\n]+))?").concat("(?:\\nExpiration Time: (?<expirationTime>[^\\n]+))?").concat("(?:\\nNot Before: (?<notBefore>[^\\n]+))?").concat("(?:\\nRequest ID: (?<requestId>[^\\n]+))?").concat("(?:\\nResources:(?<resources>(?:\\n- [^\\n]+)*))?");new RegExp("^".concat("(?<domain>[^\\n]+?) wants you to sign in with your Solana account:\\n").concat("(?<address>[^\\n]+)(?:\\n|$)").concat("(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))??").concat(u,"\\n*$"));function c(e){let t="".concat(e.domain," wants you to sign in with your Solana account:\n");t+="".concat(e.address),e.statement&&(t+="\n\n".concat(e.statement));const n=[];if(e.uri&&n.push("URI: ".concat(e.uri)),e.version&&n.push("Version: ".concat(e.version)),e.chainId&&n.push("Chain ID: ".concat(e.chainId)),e.nonce&&n.push("Nonce: ".concat(e.nonce)),e.issuedAt&&n.push("Issued At: ".concat(e.issuedAt)),e.expirationTime&&n.push("Expiration Time: ".concat(e.expirationTime)),e.notBefore&&n.push("Not Before: ".concat(e.notBefore)),e.requestId&&n.push("Request ID: ".concat(e.requestId)),e.resources){n.push("Resources:");for(const t of e.resources)n.push("- ".concat(t))}return n.length&&(t+="\n\n".concat(n.join("\n"))),t}const l="ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",d="ERROR_FORBIDDEN_WALLET_BASE_URL",f="ERROR_SECURE_CONTEXT_REQUIRED",h="ERROR_SESSION_CLOSED",p="ERROR_SESSION_TIMEOUT",y="ERROR_WALLET_NOT_FOUND",g="ERROR_INVALID_PROTOCOL_VERSION";class v extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o]=t;super(i),this.code=r,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class E extends Error{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[r,i,o,a]=t;super(o),this.code=i,this.data=a,this.jsonRpcMessageId=r,this.name="SolanaMobileWalletAdapterProtocolError"}}function m(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function w(e,t){return m(this,void 0,void 0,(function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),i=new Uint8Array(n.byteLength+r.byteLength);return i.set(new Uint8Array(n),0),i.set(new Uint8Array(r),n.byteLength),i}))}function S(e){return t=function(e){return c(e)}(e),window.btoa(t);var t}const b="solana:signTransactions",_="solana:cloneAuthorization";function T(e,t){return new Proxy({},{get:(n,r)=>(null==n[r]&&(n[r]=function(n){return m(this,void 0,void 0,(function*(){const{method:i,params:o}=function(e,t,n){let r=t,i=e.toString().replace(/[A-Z]/g,(e=>"_".concat(e.toLowerCase()))).toLowerCase();switch(e){case"authorize":{let{chain:e}=r;if("legacy"===n){switch(e){case"solana:testnet":e="testnet";break;case"solana:devnet":e="devnet";break;case"solana:mainnet":e="mainnet-beta";break;default:e=r.cluster}r.cluster=e}else{switch(e){case"testnet":case"devnet":e="solana:".concat(e);break;case"mainnet-beta":e="solana:mainnet"}r.chain=e}}case"reauthorize":{const{auth_token:e,identity:t}=r;if(e)if("legacy"===n)i="reauthorize",r={auth_token:e,identity:t};else i="authorize";break}}return{method:i,params:r}}(r,n,e),a=yield t(i,o);return"authorize"===i&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield function(e,t,n){var r;return m(this,void 0,void 0,(function*(){const i=null!==(r=e.domain)&&void 0!==r?r:window.location.host,o=t.accounts[0].address,a=S(Object.assign(Object.assign({},e),{domain:i,address:o}));return{address:o,signed_message:a,signature:(yield n("sign_messages",{addresses:[o],payloads:[a]})).signed_payloads[0].slice(a.length)}}))}(o.sign_in_payload,a,t)),function(e,t,n){if("getCapabilities"===e){const e=t;switch(n){case"legacy":{const t=[b];return!0===e.supports_clone_authorization&&t.push(_),Object.assign(Object.assign({},e),{features:t})}case"v1":return Object.assign(Object.assign({},e),{supports_sign_and_send_transactions:!0,supports_clone_authorization:e.features.includes(_)})}}return t}(r,a,e)}))}),n[r]),defineProperty:()=>!1,deleteProperty:()=>!1})}function I(e,t,n){return m(this,void 0,void 0,(function*(){const r=function(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(4);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}(t),i=new Uint8Array(12);crypto.getRandomValues(i);const o=yield crypto.subtle.encrypt(N(r,i),n,(new TextEncoder).encode(e)),a=new Uint8Array(r.byteLength+i.byteLength+o.byteLength);return a.set(new Uint8Array(r),0),a.set(new Uint8Array(i),r.byteLength),a.set(new Uint8Array(o),r.byteLength+i.byteLength),a}))}function R(e,t){return m(this,void 0,void 0,(function*(){const n=e.slice(0,4),r=e.slice(4,16),i=e.slice(16),o=yield crypto.subtle.decrypt(N(n,r),t,i);return function(){void 0===A&&(A=new TextDecoder("utf-8"));return A}().decode(o)}))}function N(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let A;function O(){return m(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])}))}function k(){return m(this,void 0,void 0,(function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])}))}function C(e,t){return m(this,void 0,void 0,(function*(){return I(JSON.stringify(e),e.id,t)}))}function x(e,t){return m(this,void 0,void 0,(function*(){const n=yield R(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new E(r.id,r.error.code,r.error.message);return r}))}function M(e,t,n){return m(this,void 0,void 0,(function*(){const[r,i]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,65),{name:"ECDH",namedCurve:"P-256"},!1,[])]),o=yield crypto.subtle.deriveBits({name:"ECDH",public:i},n,256),a=yield crypto.subtle.importKey("raw",o,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},a,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])}))}function P(e,t){return m(this,void 0,void 0,(function*(){const n=yield R(e,t),r=JSON.parse(n);let i="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":i="v1";break;case"legacy":i="legacy";break;default:throw new v(g,"Unknown/unsupported protocol version: ".concat(r.v))}return{protocol_version:i}}))}function L(e){if(e<49152||e>65535)throw new v(l,"Association port number must be between 49152 and 65535. ".concat(e," given."),{port:e});return e}function D(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)}function U(e){return e.replace(/[/+=]/g,(e=>({"/":"_","+":"-","=":"."}[e])))}function j(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function G(e,t){let n=null;if(t){try{n=new URL(t)}catch(i){}if("https:"!==(null===n||void 0===n?void 0:n.protocol))throw new v(d,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL("".concat("solana-wallet",":/")));const r=e.startsWith("/")?e:[...j(n.pathname),...j(e)].join("/");return new URL(r,n)}const F=0,B=1;let z=null;function W(e){return m(this,void 0,void 0,(function*(){if("https:"===e.protocol)window.location.assign(e);else try{const n=-1!==navigator.userAgent.indexOf("Firefox/")?F:B;switch(n){case F:t=e,null==z&&(z=document.createElement("iframe"),z.style.display="none",document.body.appendChild(z)),z.contentWindow.location.href=t.toString();break;case B:{const t=new Promise(((e,t)=>{function n(){clearTimeout(i),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const i=setTimeout((()=>{n(),t()}),2e3)}));window.location.assign(e),yield t;break}}}catch(n){throw new v(y,"Found no installed wallet that supports the mobile wallet protocol.")}var t}))}function H(e,t){return m(this,void 0,void 0,(function*(){const n=L(49152+Math.floor(16384*Math.random())),r=yield function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["v1"];return m(this,void 0,void 0,(function*(){const i=L(t),o=D(yield crypto.subtle.exportKey("raw",e)),a=G("v1/associate/local",n);return a.searchParams.set("association",U(o)),a.searchParams.set("port","".concat(i)),r.forEach((e=>{a.searchParams.set("v",e)})),a}))}(e,n,t);return yield W(r),n}))}const K={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},V="com.solana.mobilewalletadapter.v1";function q(){if("undefined"===typeof window||!0!==window.isSecureContext)throw new v(f,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Y(e){let t;try{t=new URL(e)}catch(n){throw new v(d,"Invalid base URL supplied by wallet")}if("https:"!==t.protocol)throw new v(d,"Base URLs supplied by wallets must be valid `https` URLs")}function Q(e){return new DataView(e).getUint32(0,!1)}var Z=n(61),X=n.n(Z);function J(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function $(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function ee(e){return window.btoa(String.fromCharCode.call(null,...e))}function te(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}function ne(e){return ee("version"in e?e.serialize():e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}function re(e){const t=e[0]*s.SIGNATURE_LENGTH_IN_BYTES+1;return"legacy"===s.VersionedMessage.deserializeMessageVersion(e.slice(t,e.length))?s.Transaction.from(e):s.VersionedTransaction.deserialize(e)}function ie(e,t){return $(this,void 0,void 0,(function*(){return yield function(e,t){return m(this,void 0,void 0,(function*(){q();const n=yield O(),r=yield H(n.publicKey,null===t||void 0===t?void 0:t.baseUri),i="ws://localhost:".concat(r,"/solana-wallet");let o;const a=(()=>{const e=[...K.retryDelayScheduleMs];return()=>e.length>1?e.shift():e[0]})();let s=1,u=0,c={__type:"disconnected"};return new Promise(((t,r)=>{let l;const d={},f=()=>m(this,void 0,void 0,(function*(){if("connecting"!==c.__type)return void console.warn("Expected adapter state to be `connecting` at the moment the websocket opens. "+"Got `".concat(c.__type,"`."));l.removeEventListener("open",f);const{associationKeypair:e}=c,t=yield k();l.send(yield w(t.publicKey,e.privateKey)),c={__type:"hello_req_sent",associationPublicKey:e.publicKey,ecdhPrivateKey:t.privateKey}})),y=e=>{e.wasClean?c={__type:"disconnected"}:r(new v(h,"The wallet session dropped unexpectedly (".concat(e.code,": ").concat(e.reason,")."),{closeEvent:e})),b()},g=e=>m(this,void 0,void 0,(function*(){b(),Date.now()-o>=K.timeoutMs?r(new v(p,"Failed to connect to the wallet websocket at ".concat(i,"."))):(yield new Promise((e=>{const t=a();_=window.setTimeout(e,t)})),I())})),S=i=>m(this,void 0,void 0,(function*(){const o=yield i.data.arrayBuffer();switch(c.__type){case"connecting":if(0!==o.byteLength)throw new Error("Encountered unexpected message while connecting");const i=yield k();l.send(yield w(i.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:i.privateKey};break;case"connected":try{const e=Q(o.slice(0,4));if(e!==u+1)throw new Error("Encrypted message has invalid sequence number");u=e;const t=yield x(o,c.sharedSecret),n=d[t.id];delete d[t.id],n.resolve(t.result)}catch(a){if(!(a instanceof E))throw a;{const e=d[a.jsonRpcMessageId];delete d[a.jsonRpcMessageId],e.reject(a)}}break;case"hello_req_sent":{if(0===o.byteLength){const e=yield k();l.send(yield w(e.publicKey,n.privateKey)),c={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:e.privateKey};break}const i=yield M(o,c.associationPublicKey,c.ecdhPrivateKey),f=o.slice(65),h=0!==f.byteLength?yield(()=>m(this,void 0,void 0,(function*(){const e=Q(f.slice(0,4));if(e!==u+1)throw new Error("Encrypted message has invalid sequence number");return u=e,P(f,i)})))():{protocol_version:"legacy"};c={__type:"connected",sharedSecret:i,sessionProperties:h};const p=T(h.protocol_version,((e,t)=>m(this,void 0,void 0,(function*(){const n=s++;return l.send(yield C({id:n,jsonrpc:"2.0",method:e,params:null!==t&&void 0!==t?t:{}},i)),new Promise(((t,r)=>{d[n]={resolve(n){switch(e){case"authorize":case"reauthorize":{const{wallet_uri_base:e}=n;if(null!=e)try{Y(e)}catch(a){return void r(a)}break}}t(n)},reject:r}}))}))));try{t(yield e(p))}catch(a){r(a)}finally{b(),l.close()}break}}}));let b,_;const I=()=>{b&&b(),c={__type:"connecting",associationKeypair:n},void 0===o&&(o=Date.now()),l=new WebSocket(i,[V]),l.addEventListener("open",f),l.addEventListener("close",y),l.addEventListener("error",g),l.addEventListener("message",S),b=()=>{window.clearTimeout(_),l.removeEventListener("open",f),l.removeEventListener("close",y),l.removeEventListener("error",g),l.removeEventListener("message",S)}};I()}))}))}((t=>{const n=new Proxy({},{get(e,n){if(null==e[n])switch(n){case"signAndSendTransactions":e[n]=function(e){var{minContextSlot:n,commitment:r,skipPreflight:i,maxRetries:o,waitForCommitmentToSendNextTransaction:a,transactions:s}=e,u=J(e,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return $(this,void 0,void 0,(function*(){const e=s.map(ne),c={min_context_slot:n,commitment:r,skip_preflight:i,max_retries:o,wait_for_commitment_to_send_next_transaction:a},{signatures:l}=yield t.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},u),Object.values(c).some((e=>null!=e))?{options:c}:null),{payloads:e}));return l.map(te).map(X.a.encode)}))};break;case"signMessages":e[n]=function(e){var{payloads:n}=e,r=J(e,["payloads"]);return $(this,void 0,void 0,(function*(){const e=n.map(ee),{signed_payloads:i}=yield t.signMessages(Object.assign(Object.assign({},r),{payloads:e}));return i.map(te)}))};break;case"signTransactions":e[n]=function(e){var{transactions:n}=e,r=J(e,["transactions"]);return $(this,void 0,void 0,(function*(){const e=n.map(ne),{signed_payloads:i}=yield t.signTransactions(Object.assign(Object.assign({},r),{payloads:e}));return i.map(te).map(re)}))};break;default:e[n]=t[n]}return e[n]},defineProperty:()=>!1,deleteProperty:()=>!1});return e(n)}),t)}))}n(98);const oe="function"===typeof Buffer,ae=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder&&new TextEncoder,Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=")),se=(e=>{let t={};return e.forEach(((e,n)=>t[e]=n)),t})(ae),ue=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ce=String.fromCharCode.bind(String),le=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/[^A-Za-z0-9\+\/]/g,"")),de=e=>{let t,n,r,i,o="";const a=e.length%3;for(let s=0;s<e.length;){if((n=e.charCodeAt(s++))>255||(r=e.charCodeAt(s++))>255||(i=e.charCodeAt(s++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=ae[t>>18&63]+ae[t>>12&63]+ae[t>>6&63]+ae[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},fe=e=>{if(e=e.replace(/\s+/g,""),!ue.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,i="";for(let o=0;o<e.length;)t=se[e.charAt(o++)]<<18|se[e.charAt(o++)]<<12|(n=se[e.charAt(o++)])<<6|(r=se[e.charAt(o++)]),i+=64===n?ce(t>>16&255):64===r?ce(t>>16&255,t>>8&255):ce(t>>16&255,t>>8&255,255&t);return i};function he(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function pe(e){return new Uint8Array(window.atob(e).split("").map((e=>e.charCodeAt(0))))}const ye="Mobile Wallet Adapter";function ge(e){return"version"in e}class ve extends r.b{constructor(e){var t;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=ye,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState="undefined"!==typeof window&&window.isSecureContext&&"undefined"!==typeof document&&/android/i.test(navigator.userAgent)?i.b.Loadable:i.b.Unsupported,this._authorizationResultCache=e.authorizationResultCache,this._addressSelector=e.addressSelector,this._appIdentity=e.appIdentity,this._chain=null!==(t=e.chain)&&void 0!==t?t:function(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet"}}(e.cluster),this._hostAuthority=e.remoteHostAuthority,this._onWalletNotFound=e.onWalletNotFound,this._readyState!==i.b.Unsupported&&this._authorizationResultCache.get().then((e=>{e&&this.declareWalletAsInstalled()}))}get publicKey(){if(null==this._publicKey&&null!=this._selectedAddress)try{this._publicKey=function(e){const t=pe(e);return new s.PublicKey(t)}(this._selectedAddress)}catch(e){throw new o.j(e instanceof Error&&(null===e||void 0===e?void 0:e.message)||"Unknown error",e)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==i.b.Installed&&this.emit("readyStateChange",this._readyState=i.b.Installed)}runWithGuard(e){return he(this,void 0,void 0,(function*(){try{return yield e()}catch(t){throw this.emit("error",t),t}}))}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return he(this,void 0,void 0,(function*(){return yield this.autoConnect()}))}autoConnect(){return he(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){if(this._readyState!==i.b.Installed&&this._readyState!==i.b.Loadable)throw new o.i;this._connecting=!0;try{const e=yield this._authorizationResultCache.get();e&&this.handleAuthorizationResult(e)}catch(e){throw new o.c(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}connect(){return he(this,void 0,void 0,(function*(){if(!this.connecting&&!this.connected)return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){if(this._readyState!==i.b.Installed&&this._readyState!==i.b.Loadable)throw new o.i;this._connecting=!0;try{yield this.performAuthorization()}catch(e){throw new o.c(e instanceof Error&&e.message||"Unknown error",e)}finally{this._connecting=!1}}))))}))}performAuthorization(e){return he(this,void 0,void 0,(function*(){try{const t=yield this._authorizationResultCache.get();return t?(this.handleAuthorizationResult(t),t):yield this.transact((t=>he(this,void 0,void 0,(function*(){const n=yield t.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:e});return Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)]),n}))))}catch(t){throw new o.c(t instanceof Error&&t.message||"Unknown error",t)}}))}handleAuthorizationResult(e){var t;return he(this,void 0,void 0,(function*(){const n=null==this._authorizationResult||(null===(t=this._authorizationResult)||void 0===t?void 0:t.accounts.length)!==e.accounts.length||this._authorizationResult.accounts.some(((t,n)=>t.address!==e.accounts[n].address));if(this._authorizationResult=e,this.declareWalletAsInstalled(),n){const t=yield this._addressSelector.select(e.accounts.map((e=>{let{address:t}=e;return t})));t!==this._selectedAddress&&(this._selectedAddress=t,delete this._publicKey,this.emit("connect",this.publicKey))}}))}performReauthorization(e,t){return he(this,void 0,void 0,(function*(){try{const n=yield e.authorize({auth_token:t,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new o.d(n instanceof Error&&(null===n||void 0===n?void 0:n.message)||"Unknown error",n)}}))}disconnect(){return he(this,void 0,void 0,(function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")}))}transact(e){var t;return he(this,void 0,void 0,(function*(){const n=null===(t=this._authorizationResult)||void 0===t?void 0:t.wallet_uri_base,r=n?{baseUri:n}:void 0,i=this._hostAuthority?{remoteHostAuthority:this._hostAuthority}:void 0,o=this._connectionGeneration;try{return yield ie(e,Object.assign(Object.assign({},r),i))}catch(a){throw this._connectionGeneration!==o&&(yield new Promise((()=>{}))),a instanceof Error&&"SolanaMobileWalletAdapterError"===a.name&&"ERROR_WALLET_NOT_FOUND"===a.code&&(yield this._onWalletNotFound(this)),a}}))}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new o.h;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(e){return he(this,void 0,void 0,(function*(){const{authToken:t}=this.assertIsAuthorized();try{return yield this.transact((n=>he(this,void 0,void 0,(function*(){yield this.performReauthorization(n,t);return yield n.signTransactions({transactions:e})}))))}catch(n){throw new o.n(null===n||void 0===n?void 0:n.message,n)}}))}sendTransaction(e,t,n){return he(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){const{authToken:r}=this.assertIsAuthorized(),i=null===n||void 0===n?void 0:n.minContextSlot;try{return yield this.transact((o=>he(this,void 0,void 0,(function*(){function a(){let e,r;switch(t.commitment){case"confirmed":case"finalized":case"processed":e=t.commitment;break;default:e="finalized"}switch(null===n||void 0===n?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":r=n.preflightCommitment;break;case void 0:r=e;break;default:r="finalized"}return("finalized"===r?2:"confirmed"===r?1:0)<("finalized"===e?2:"confirmed"===e?1:0)?r:e}const[s,u,c]=yield Promise.all([o.getCapabilities(),this.performReauthorization(o,r),ge(e)?null:(()=>he(this,void 0,void 0,(function*(){var n;if(e.feePayer||(e.feePayer=null!==(n=this.publicKey)&&void 0!==n?n:void 0),null==e.recentBlockhash){const{blockhash:n}=yield t.getLatestBlockhash({commitment:a()});e.recentBlockhash=n}})))()]);if(s.supports_sign_and_send_transactions){return(yield o.signAndSendTransactions({minContextSlot:i,transactions:[e]}))[0]}{const[r]=yield o.signTransactions({transactions:[e]});if(ge(r))return yield t.sendTransaction(r);{const e=r.serialize();return yield t.sendRawTransaction(e,Object.assign(Object.assign({},n),{preflightCommitment:a()}))}}}))))}catch(a){throw new o.k(null===a||void 0===a?void 0:a.message,a)}}))))}))}signTransaction(e){return he(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){const[t]=yield this.performSignTransactions([e]);return t}))))}))}signAllTransactions(e){return he(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){return yield this.performSignTransactions(e)}))))}))}signMessage(e){return he(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){const{authToken:t,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact((r=>he(this,void 0,void 0,(function*(){yield this.performReauthorization(r,t);const[i]=yield r.signMessages({addresses:[n],payloads:[e]});return i.slice(-64)}))))}catch(r){throw new o.m(null===r||void 0===r?void 0:r.message,r)}}))))}))}signIn(e){return he(this,void 0,void 0,(function*(){return yield this.runWithGuard((()=>he(this,void 0,void 0,(function*(){var t,n;if(this._readyState!==i.b.Installed&&this._readyState!==i.b.Loadable)throw new o.i;this._connecting=!0;try{const r=yield this.performAuthorization(Object.assign(Object.assign({},e),{domain:null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:window.location.host}));if(!r.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=r.sign_in_result.address;return{account:Object.assign(Object.assign({},null!==(n=r.accounts.find((e=>e.address==i)))&&void 0!==n?n:{address:i}),{publicKey:pe(i)}),signedMessage:pe(r.sign_in_result.signed_message),signature:pe(r.sign_in_result.signature)}}catch(r){throw new o.c(r instanceof Error&&r.message||"Unknown error",r)}finally{this._connecting=!1}}))))}))}}r.b;const Ee="SolanaMobileWalletAdapterDefaultAuthorizationCache";function me(){let e;try{e=window.localStorage}catch(t){}return{clear(){return he(this,void 0,void 0,(function*(){if(e)try{e.removeItem(Ee)}catch(t){}}))},get(){return he(this,void 0,void 0,(function*(){if(e)try{return JSON.parse(e.getItem(Ee))||void 0}catch(t){}}))},set(n){return he(this,void 0,void 0,(function*(){if(e)try{e.setItem(Ee,JSON.stringify(n))}catch(t){}}))}}}function we(e){return he(this,void 0,void 0,(function*(){"undefined"!==typeof window&&window.location.assign(e.url)}))}var Se=n(177),be=n(178),_e=n(174),Te=n(176);const Ie=function(e){return _e.a in e.features&&Te.a in e.features&&(Se.a in e.features||be.a in e.features)};var Re=n(3),Ne=n(10),Ae=n(179);const Oe="solana:signIn";var ke=n(14);const Ce="https://api.mainnet-beta.solana.com";function xe(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}var Me=n(175);function Pe(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap,new WeakMap;var Le=n(11),De=n.n(Le);const Ue=["signers"];var je,Ge,Fe,Be,ze,We,He,Ke,Ve,qe,Ye,Qe,Ze,Xe,Je,$e,et,tt,nt=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},rt=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};class it extends i.a{constructor(e){let{wallet:t}=e;super(),je.add(this),Ge.set(this,void 0),Fe.set(this,void 0),Be.set(this,void 0),ze.set(this,void 0),We.set(this,void 0),He.set(this,void 0),Ke.set(this,void 0),Ve.set(this,"undefined"===typeof window||"undefined"===typeof document?i.b.Unsupported:i.b.Installed),Xe.set(this,(e=>{if("accounts"in e){const e=rt(this,Ke,"f").accounts[0];rt(this,Ge,"f")&&!rt(this,ze,"f")&&e!==rt(this,Ge,"f")&&(e?rt(this,je,"m",Ye).call(this,e):(this.emit("error",new o.d),rt(this,je,"m",Qe).call(this)))}"features"in e&&rt(this,je,"m",Ze).call(this)})),nt(this,Ke,t,"f"),nt(this,Ge,null,"f"),nt(this,Fe,null,"f"),nt(this,Be,!1,"f"),nt(this,ze,!1,"f"),nt(this,We,rt(this,Ke,"f").features[Te.a].on("change",rt(this,Xe,"f")),"f"),rt(this,je,"m",Ze).call(this)}get name(){return rt(this,Ke,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return rt(this,Ke,"f").icon}get readyState(){return rt(this,Ve,"f")}get publicKey(){return rt(this,Fe,"f")}get connecting(){return rt(this,Be,"f")}get supportedTransactionVersions(){return rt(this,He,"f")}get wallet(){return rt(this,Ke,"f")}get standard(){return!0}destroy(){nt(this,Ge,null,"f"),nt(this,Fe,null,"f"),nt(this,Be,!1,"f"),nt(this,ze,!1,"f");const e=rt(this,We,"f");e&&(nt(this,We,null,"f"),e())}async autoConnect(){return rt(this,je,"m",qe).call(this,{silent:!0})}async connect(){return rt(this,je,"m",qe).call(this)}async disconnect(){if(Me.a in rt(this,Ke,"f").features)try{nt(this,ze,!0,"f"),await rt(this,Ke,"f").features[Me.a].disconnect()}catch(e){this.emit("error",new o.e(null===e||void 0===e?void 0:e.message,e))}finally{nt(this,ze,!1,"f")}rt(this,je,"m",Qe).call(this)}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const s=rt(this,Ge,"f");if(!s)throw new o.h;let u;if(Se.a in rt(this,Ke,"f").features)if(s.features.includes(Se.a))u=Se.a;else{if(!(be.a in rt(this,Ke,"f").features)||!s.features.includes(be.a))throw new o.a;u=be.a}else{if(!(be.a in rt(this,Ke,"f").features))throw new o.b;if(!s.features.includes(be.a))throw new o.a;u=be.a}const c=(r=t.rpcEndpoint).includes(Ce)?ke.c:/\bdevnet\b/i.test(r)?ke.a:/\btestnet\b/i.test(r)?ke.d:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?ke.b:ke.c;if(!s.chains.includes(c))throw new o.k;try{const{signers:r}=n,i=Object(Ne.a)(n,Ue);let o;if(Object(a.a)(e)?((null===r||void 0===r?void 0:r.length)&&e.sign(r),o=e.serialize()):(e=await this.prepareTransaction(e,t,i),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r),o=new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))),u===Se.a){const[e]=await rt(this,Ke,"f").features[Se.a].signAndSendTransaction({account:s,chain:c,transaction:o,options:{preflightCommitment:xe(i.preflightCommitment||t.commitment),skipPreflight:i.skipPreflight,maxRetries:i.maxRetries,minContextSlot:i.minContextSlot}});return De.a.encode(e.signature)}{const[e]=await rt(this,Ke,"f").features[be.a].signTransaction({account:s,chain:c,transaction:o,options:{preflightCommitment:xe(i.preflightCommitment||t.commitment),minContextSlot:i.minContextSlot}});return await t.sendRawTransaction(e.signedTransaction,Object(Re.a)(Object(Re.a)({},i),{},{preflightCommitment:xe(i.preflightCommitment||t.commitment)}))}}catch(i){if(i instanceof o.f)throw i;throw new o.k(null===i||void 0===i?void 0:i.message,i)}}catch(i){throw this.emit("error",i),i}var r}}Ge=new WeakMap,Fe=new WeakMap,Be=new WeakMap,ze=new WeakMap,We=new WeakMap,He=new WeakMap,Ke=new WeakMap,Ve=new WeakMap,Xe=new WeakMap,je=new WeakSet,qe=async function(e){try{if(this.connected||this.connecting)return;if(rt(this,Ve,"f")!==i.b.Installed)throw new o.i;if(nt(this,Be,!0,"f"),!rt(this,Ke,"f").accounts.length)try{await rt(this,Ke,"f").features[_e.a].connect(e)}catch(t){throw new o.c(null===t||void 0===t?void 0:t.message,t)}const n=rt(this,Ke,"f").accounts[0];if(!n)throw new o.a;rt(this,je,"m",Ye).call(this,n)}catch(t){throw this.emit("error",t),t}finally{nt(this,Be,!1,"f")}},Ye=function(e){let t;try{t=new s.PublicKey(e.address)}catch(n){throw new o.j(null===n||void 0===n?void 0:n.message,n)}nt(this,Ge,e,"f"),nt(this,Fe,t,"f"),rt(this,je,"m",Ze).call(this),this.emit("connect",t)},Qe=function(){nt(this,Ge,null,"f"),nt(this,Fe,null,"f"),rt(this,je,"m",Ze).call(this),this.emit("disconnect")},Ze=function(){var e,t;const n=Se.a in rt(this,Ke,"f").features?rt(this,Ke,"f").features[Se.a].supportedTransactionVersions:rt(this,Ke,"f").features[be.a].supportedTransactionVersions;nt(this,He,Pe(n,["legacy"])?null:new Set(n),"f"),be.a in rt(this,Ke,"f").features&&null!==(e=rt(this,Ge,"f"))&&void 0!==e&&e.features.includes(be.a)?(this.signTransaction=rt(this,je,"m",Je),this.signAllTransactions=rt(this,je,"m",$e)):(delete this.signTransaction,delete this.signAllTransactions),Ae.a in rt(this,Ke,"f").features&&null!==(t=rt(this,Ge,"f"))&&void 0!==t&&t.features.includes(Ae.a)?this.signMessage=rt(this,je,"m",et):delete this.signMessage,Oe in rt(this,Ke,"f").features?this.signIn=rt(this,je,"m",tt):delete this.signIn},Je=async function(e){try{const n=rt(this,Ge,"f");if(!n)throw new o.h;if(!(be.a in rt(this,Ke,"f").features))throw new o.b;if(!n.features.includes(be.a))throw new o.a;try{const t=(await rt(this,Ke,"f").features[be.a].signTransaction({account:n,transaction:Object(a.a)(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Object(a.a)(e)?s.VersionedTransaction.deserialize(t):s.Transaction.from(t)}catch(t){if(t instanceof o.f)throw t;throw new o.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},$e=async function(e){try{const n=rt(this,Ge,"f");if(!n)throw new o.h;if(!(be.a in rt(this,Ke,"f").features))throw new o.b;if(!n.features.includes(be.a))throw new o.a;try{const t=await rt(this,Ke,"f").features[be.a].signTransaction(...e.map((e=>({account:n,transaction:Object(a.a)(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))));return e.map(((e,n)=>{const r=t[n].signedTransaction;return Object(a.a)(e)?s.VersionedTransaction.deserialize(r):s.Transaction.from(r)}))}catch(t){throw new o.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},et=async function(e){try{const n=rt(this,Ge,"f");if(!n)throw new o.h;if(!(Ae.a in rt(this,Ke,"f").features))throw new o.b;if(!n.features.includes(Ae.a))throw new o.a;try{return(await rt(this,Ke,"f").features[Ae.a].signMessage({account:n,message:e}))[0].signature}catch(t){throw new o.m(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}},tt=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{if(!(Oe in rt(this,Ke,"f").features))throw new o.b;let n;try{[n]=await rt(this,Ke,"f").features[Oe].signIn(e)}catch(t){throw new o.l(null===t||void 0===t?void 0:t.message,t)}if(!n)throw new o.l;return rt(this,je,"m",Ye).call(this,n.account),n}catch(t){throw this.emit("error",t),t}};var ot,at=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},st=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};let ut;const ct=new Set;const lt={};function dt(){if(ut)return ut;if(ut=Object.freeze({register:ft,get:pt,on:yt}),"undefined"===typeof window)return ut;const e=Object.freeze({register:ft});try{window.addEventListener("wallet-standard:register-wallet",(t=>{let{detail:n}=t;return n(e)}))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new vt(e))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return ut}function ft(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(n=n.filter((e=>!ct.has(e)))).length?(n.forEach((e=>function(e){ht=void 0,ct.add(e)}(e))),null===(e=lt.register)||void 0===e||e.forEach((e=>gt((()=>e(...n))))),function(){var e;n.forEach((e=>function(e){ht=void 0,ct.delete(e)}(e))),null===(e=lt.unregister)||void 0===e||e.forEach((e=>gt((()=>e(...n)))))}):()=>{}}let ht;function pt(){return ht||(ht=[...ct]),ht}function yt(e,t){var n;return(null===(n=lt[e])||void 0===n?void 0:n.push(t))||(lt[e]=[t]),function(){var n;lt[e]=null===(n=lt[e])||void 0===n?void 0:n.filter((e=>t!==e))}}function gt(e){try{e()}catch(t){console.error(t)}}class vt extends Event{get detail(){return at(this,ot,"f")}get type(){return"wallet-standard:app-ready"}constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ot.set(this,void 0),st(this,ot,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ot=new WeakMap;var Et,mt=n(0),wt=n.n(mt);function St(e){const t=bt((()=>new Set)),{get:n,on:r}=bt((()=>function(){if(ut)return ut;if(ut=dt(),"undefined"===typeof window)return ut;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),ut;const{register:t}=ut,n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach((e=>gt((()=>e({register:t})))))};try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch(r){return console.error("window.navigator.wallets could not be set"),ut}return n(...e),ut}())),[i,o]=Object(mt.useState)((()=>_t(n())));Object(mt.useEffect)((()=>{const e=[r("register",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o((e=>[...e,..._t(t)]))})),r("unregister",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o((e=>e.filter((e=>t.some((t=>t===e.wallet))))))}))];return()=>e.forEach((e=>e()))}),[r]);const a=function(e){const t=Object(mt.useRef)();return Object(mt.useEffect)((()=>{t.current=e})),t.current}(i);return Object(mt.useEffect)((()=>{if(!a)return;const e=new Set(i);new Set(a.filter((t=>!e.has(t)))).forEach((e=>e.destroy()))}),[a,i]),Object(mt.useEffect)((()=>()=>i.forEach((e=>e.destroy()))),[]),Object(mt.useMemo)((()=>[...i,...e.filter((e=>{let{name:n}=e;return!i.some((e=>e.name===n))||(t.has(n)||(t.add(n),console.warn("".concat(n," was registered as a Standard Wallet. The Wallet Adapter for ").concat(n," can be removed from your app."))),!1)}))]),[i,e,t])}function bt(e){const t=Object(mt.useRef)();return t.current||(t.current={value:e()}),t.current.value}function _t(e){return e.filter(Ie).map((e=>new it({wallet:e})))}!function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"}(Et||(Et={}));var Tt=n(42);class It extends o.f{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}var Rt=n(97);function Nt(e){let{children:t,wallets:n,adapter:r,isUnloadingRef:a,onAutoConnectRequest:s,onConnectError:u,onError:c,onSelectWallet:l}=e;const d=Object(mt.useRef)(!1),[f,h]=Object(mt.useState)(!1),p=Object(mt.useRef)(!1),[y,g]=Object(mt.useState)(!1),[v,E]=Object(mt.useState)((()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.publicKey)&&void 0!==e?e:null})),[m,w]=Object(mt.useState)((()=>{var e;return null!==(e=null===r||void 0===r?void 0:r.connected)&&void 0!==e&&e})),S=Object(mt.useRef)(c);Object(mt.useEffect)((()=>(S.current=c,()=>{S.current=void 0})),[c]);const b=Object(mt.useRef)(((e,t)=>(a.current||(S.current?S.current(e,t):(console.error(e,t),e instanceof o.i&&"undefined"!==typeof window&&t&&window.open(t.url,"_blank"))),e))),[_,T]=Object(mt.useState)((()=>n.map((e=>({adapter:e,readyState:e.readyState}))).filter((e=>{let{readyState:t}=e;return t!==i.b.Unsupported}))));Object(mt.useEffect)((()=>{function e(e){T((t=>{const n=t.findIndex((e=>{let{adapter:t}=e;return t===this}));if(-1===n)return t;const{adapter:r}=t[n];return[...t.slice(0,n),{adapter:r,readyState:e},...t.slice(n+1)].filter((e=>{let{readyState:t}=e;return t!==i.b.Unsupported}))}))}return T((e=>n.map(((t,n)=>{const r=e[n];return r&&r.adapter===t&&r.readyState===t.readyState?r:{adapter:t,readyState:t.readyState}})).filter((e=>{let{readyState:t}=e;return t!==i.b.Unsupported})))),n.forEach((t=>t.on("readyStateChange",e,t))),()=>{n.forEach((t=>t.off("readyStateChange",e,t)))}}),[r,n]);const I=Object(mt.useMemo)((()=>{var e;return null!==(e=_.find((e=>e.adapter===r)))&&void 0!==e?e:null}),[r,_]);Object(mt.useEffect)((()=>{if(!r)return;const e=e=>{E(e),d.current=!1,h(!1),w(!0),p.current=!1,g(!1)},t=()=>{a.current||(E(null),d.current=!1,h(!1),w(!1),p.current=!1,g(!1))},n=e=>{b.current(e,r)};return r.on("connect",e),r.on("disconnect",t),r.on("error",n),()=>{r.off("connect",e),r.off("disconnect",t),r.off("error",n),t()}}),[r,a]);const R=Object(mt.useRef)(!1);Object(mt.useEffect)((()=>()=>{R.current=!1}),[r]),Object(mt.useEffect)((()=>{R.current||d.current||m||!s||(null===I||void 0===I?void 0:I.readyState)!==i.b.Installed&&(null===I||void 0===I?void 0:I.readyState)!==i.b.Loadable||(d.current=!0,h(!0),R.current=!0,async function(){try{await s()}catch(e){u()}finally{h(!1),d.current=!1}}())}),[m,s,u,I]);const N=Object(mt.useCallback)((async(e,t,n)=>{if(!r)throw b.current(new It);if(!m)throw b.current(new o.h,r);return await r.sendTransaction(e,t,n)}),[r,m]),A=Object(mt.useMemo)((()=>r&&"signTransaction"in r?async e=>{if(!m)throw b.current(new o.h,r);return await r.signTransaction(e)}:void 0),[r,m]),O=Object(mt.useMemo)((()=>r&&"signAllTransactions"in r?async e=>{if(!m)throw b.current(new o.h,r);return await r.signAllTransactions(e)}:void 0),[r,m]),k=Object(mt.useMemo)((()=>r&&"signMessage"in r?async e=>{if(!m)throw b.current(new o.h,r);return await r.signMessage(e)}:void 0),[r,m]),C=Object(mt.useMemo)((()=>r&&"signIn"in r?async e=>await r.signIn(e):void 0),[r]),x=Object(mt.useCallback)((async()=>{if(d.current||p.current||null!==I&&void 0!==I&&I.adapter.connected)return;if(!I)throw b.current(new It);const{adapter:e,readyState:t}=I;if(t!==i.b.Installed&&t!==i.b.Loadable)throw b.current(new o.i,e);d.current=!0,h(!0);try{await e.connect()}catch(n){throw u(),n}finally{h(!1),d.current=!1}}),[u,I]),M=Object(mt.useCallback)((async()=>{if(!p.current&&r){p.current=!0,g(!0);try{await r.disconnect()}finally{g(!1),p.current=!1}}}),[r]);return wt.a.createElement(Rt.a.Provider,{value:{autoConnect:!!s,wallets:_,wallet:I,publicKey:v,connected:m,connecting:f,disconnecting:y,select:l,connect:x,disconnect:M,sendTransaction:N,signTransaction:A,signAllTransactions:O,signMessage:k,signIn:C}},t)}let At;function Ot(e){return function(e){let{adapters:t,userAgentString:n}=e;return t.some((e=>e.name!==ye&&e.readyState===i.b.Installed))?Et.DESKTOP_WEB:n&&/android/i.test(n)&&!function(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}(n)?Et.MOBILE_WEB:Et.DESKTOP_WEB}({adapters:e,userAgentString:function(){var e,t;return void 0===At&&(At=null!==(e=null===(t=globalThis.navigator)||void 0===t?void 0:t.userAgent)&&void 0!==e?e:null),At}()})===Et.MOBILE_WEB}function kt(){const e=globalThis.location;if(e)return"".concat(e.protocol,"//").concat(e.host)}function Ct(e){let{children:t,wallets:n,autoConnect:r,localStorageKey:i="walletName",onError:o}=e;const{connection:a}=Object(Tt.b)(),s=St(n),u=Object(mt.useMemo)((()=>{if(!Ot(s))return null;const e=s.find((e=>e.name===ye));return e||new ve({addressSelector:{select(e){return he(this,void 0,void 0,(function*(){return e[0]}))}},appIdentity:{uri:kt()},authorizationResultCache:me(),cluster:(t=null===a||void 0===a?void 0:a.rpcEndpoint,t?/devnet/i.test(t)?"devnet":/testnet/i.test(t)?"testnet":"mainnet-beta":"mainnet-beta"),onWalletNotFound:we});var t}),[s,null===a||void 0===a?void 0:a.rpcEndpoint]),c=Object(mt.useMemo)((()=>null==u||-1!==s.indexOf(u)?s:[u,...s]),[s,u]),[l,d]=function(e,t){const n=Object(mt.useState)((()=>{try{const t=localStorage.getItem(e);if(t)return JSON.parse(t)}catch(n){"undefined"!==typeof window&&console.error(n)}return t})),r=n[0],i=Object(mt.useRef)(!0);return Object(mt.useEffect)((()=>{if(i.current)i.current=!1;else try{null===r?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(t){"undefined"!==typeof window&&console.error(t)}}),[r,e]),n}(i,Ot(s)?ye:null),f=Object(mt.useMemo)((()=>{var e;return null!==(e=c.find((e=>e.name===l)))&&void 0!==e?e:null}),[c,l]),h=Object(mt.useCallback)((e=>{l!==e&&(f&&f.name!==ye&&f.disconnect(),d(e))}),[f,d,l]);Object(mt.useEffect)((()=>{if(f)return f.on("disconnect",e),()=>{f.off("disconnect",e)};function e(){g.current||l===ye&&Ot(s)||d(null)}}),[f,s,d,l]);const p=Object(mt.useRef)(!1),y=Object(mt.useMemo)((()=>{if(r&&f)return async()=>{(!0===r||await r(f))&&(p.current?await f.connect():await f.autoConnect())}}),[r,f]),g=Object(mt.useRef)(!1);Object(mt.useEffect)((()=>{if(l!==ye||!Ot(s))return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)};function e(){g.current=!0}g.current=!1}),[s,l]);const v=Object(mt.useCallback)((()=>{f&&f.name!==ye&&h(null)}),[f,h]),E=Object(mt.useCallback)((e=>{p.current=!0,h(e)}),[h]);return wt.a.createElement(Nt,{wallets:c,adapter:f,isUnloadingRef:g,onAutoConnectRequest:y,onConnectError:v,onError:o,onSelectWallet:E},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var r,i=n(10),o=n(162),a=n(15),s=n(9),u=n(46),c=n(6),l=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},d=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};function f(e){const t=t=>{let{register:n}=t;return n(e)};try{window.dispatchEvent(new h(t))}catch(n){console.error("wallet-standard:register-wallet event could not be dispatched\n",n)}try{window.addEventListener("wallet-standard:app-ready",(e=>{let{detail:n}=e;return t(n)}))}catch(n){console.error("wallet-standard:app-ready event listener could not be added\n",n)}}class h extends Event{get detail(){return l(this,r,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),r.set(this,void 0),d(this,r,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}r=new WeakMap;var p=n(14),y=n(177),g=n(178),v=n(179),E=n(174),m=n(175),w=n(176);var S,b,_,T,I,R,N,A,O,k,C,x,M,P,L=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},D=function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n};class U{constructor(){var e=this;S.add(this),b.set(this,{}),_.set(this,"1.0.0"),T.set(this,"MetaMask"),I.set(this,"data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4="),R.set(this,null),N.set(this,((e,t)=>{var n;return(null===(n=L(this,b,"f")[e])||void 0===n?void 0:n.push(t))||(L(this,b,"f")[e]=[t]),()=>L(this,S,"m",O).call(this,e,t)})),k.set(this,(async()=>{if(!L(this,R,"f")){let t;try{t=(await n.e(3).then(n.bind(null,195))).default}catch(e){throw new Error("Unable to load Solflare MetaMask SDK")}D(this,R,new t,"f"),L(this,R,"f").on("standard_change",(e=>L(this,S,"m",A).call(this,"change",e)))}return this.accounts.length||await L(this,R,"f").connect(),{accounts:this.accounts}})),C.set(this,(async()=>{L(this,R,"f")&&await L(this,R,"f").disconnect()})),x.set(this,(async function(){if(!L(e,R,"f"))throw new s.h;return await L(e,R,"f").standardSignAndSendTransaction(...arguments)})),M.set(this,(async function(){if(!L(e,R,"f"))throw new s.h;return await L(e,R,"f").standardSignTransaction(...arguments)})),P.set(this,(async function(){if(!L(e,R,"f"))throw new s.h;return await L(e,R,"f").standardSignMessage(...arguments)}))}get version(){return L(this,_,"f")}get name(){return L(this,T,"f")}get icon(){return L(this,I,"f")}get chains(){return[p.c,p.a,p.d]}get features(){return{[E.a]:{version:"1.0.0",connect:L(this,k,"f")},[m.a]:{version:"1.0.0",disconnect:L(this,C,"f")},[w.a]:{version:"1.0.0",on:L(this,N,"f")},[y.a]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:L(this,x,"f")},[g.a]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:L(this,M,"f")},[v.a]:{version:"1.0.0",signMessage:L(this,P,"f")}}}get accounts(){return L(this,R,"f")?L(this,R,"f").standardAccounts:[]}}b=new WeakMap,_=new WeakMap,T=new WeakMap,I=new WeakMap,R=new WeakMap,N=new WeakMap,k=new WeakMap,C=new WeakMap,x=new WeakMap,M=new WeakMap,P=new WeakMap,S=new WeakSet,A=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null===(t=L(this,b,"f")[e])||void 0===t||t.forEach((e=>e.apply(null,r)))},O=function(e,t){var n;L(this,b,"f")[e]=null===(n=L(this,b,"f")[e])||void 0===n?void 0:n.filter((e=>t!==e))};let j=!1;async function G(){const e="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:e,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i;const o=r.data;var a;"metamask-inpage"===(null===o||void 0===o?void 0:o.target)&&"metamask-provider"===(null===(i=o.data)||void 0===i?void 0:i.name)&&((null===(a=o.data.data)||void 0===a?void 0:a.id)===e?(window.removeEventListener("message",n),o.data.data.error||j||(f(new U),j=!0)):t())}window.addEventListener("message",n),window.setTimeout((()=>window.removeEventListener("message",n)),5e3),t()}const F=["signers"];class B extends o.a{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.name="Solflare",this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjUwIiB2aWV3Qm94PSIwIDAgNTAgNTAiIHdpZHRoPSI1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiNmZmMxMGIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmYjNmMmUiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSI2LjQ3ODM1IiB4Mj0iMzQuOTEwNyIgeGxpbms6aHJlZj0iI2EiIHkxPSI3LjkyIiB5Mj0iMzMuNjU5MyIvPjxyYWRpYWxHcmFkaWVudCBpZD0iYyIgY3g9IjAiIGN5PSIwIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDQuOTkyMTg4MzIgMTIuMDYzODc5NjMgLTEyLjE4MTEzNjU1IDUuMDQwNzEwNzQgMjIuNTIwMiAyMC42MTgzKSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHI9IjEiIHhsaW5rOmhyZWY9IiNhIi8+PHBhdGggZD0ibTI1LjE3MDggNDcuOTEwNGMuNTI1IDAgLjk1MDcuNDIxLjk1MDcuOTQwM3MtLjQyNTcuOTQwMi0uOTUwNy45NDAyLS45NTA3LS40MjA5LS45NTA3LS45NDAyLjQyNTctLjk0MDMuOTUwNy0uOTQwM3ptLTEuMDMyOC00NC45MTU2NWMuNDY0Ni4wMzgzNi44Mzk4LjM5MDQuOTAyNy44NDY4MWwxLjEzMDcgOC4yMTU3NGMuMzc5OCAyLjcxNDMgMy42NTM1IDMuODkwNCA1LjY3NDMgMi4wNDU5bDExLjMyOTEtMTAuMzExNThjLjI3MzMtLjI0ODczLjY5ODktLjIzMTQ5Ljk1MDcuMDM4NTEuMjMwOS4yNDc3Mi4yMzc5LjYyNjk3LjAxNjEuODgyNzdsLTkuODc5MSAxMS4zOTU4Yy0xLjgxODcgMi4wOTQyLS40NzY4IDUuMzY0MyAyLjI5NTYgNS41OTc4bDguNzE2OC44NDAzYy40MzQxLjA0MTguNzUxNy40MjM0LjcwOTMuODUyNC0uMDM0OS4zNTM3LS4zMDc0LjYzOTUtLjY2MjguNjk0OWwtOS4xNTk0IDEuNDMwMmMtMi42NTkzLjM2MjUtMy44NjM2IDMuNTExNy0yLjEzMzkgNS41NTc2bDMuMjIgMy43OTYxYy4yNTk0LjMwNTguMjE4OC43NjE1LS4wOTA4IDEuMDE3OC0uMjYyMi4yMTcyLS42NDE5LjIyNTYtLjkxMzguMDIwM2wtMy45Njk0LTIuOTk3OGMtMi4xNDIxLTEuNjEwOS01LjIyOTctLjI0MTctNS40NTYxIDIuNDI0M2wtLjg3NDcgMTAuMzk3NmMtLjAzNjIuNDI5NS0uNDE3OC43NDg3LS44NTI1LjcxMy0uMzY5LS4wMzAzLS42NjcxLS4zMDk3LS43MTcxLS42NzIxbC0xLjM4NzEtMTAuMDQzN2MtLjM3MTctMi43MTQ0LTMuNjQ1NC0zLjg5MDQtNS42NzQzLTIuMDQ1OWwtMTIuMDUxOTUgMTAuOTc0Yy0uMjQ5NDcuMjI3MS0uNjM4MDkuMjExNC0uODY4LS4wMzUtLjIxMDk0LS4yMjYyLS4yMTczNS0uNTcyNC0uMDE0OTMtLjgwNmwxMC41MTgxOC0xMi4xMzg1YzEuODE4Ny0yLjA5NDIuNDg0OS01LjM2NDQtMi4yODc2LTUuNTk3OGwtOC43MTg3Mi0uODQwNWMtLjQzNDEzLS4wNDE4LS43NTE3Mi0uNDIzNS0uNzA5MzYtLjg1MjQuMDM0OTMtLjM1MzcuMzA3MzktLjYzOTQuNjYyNy0uNjk1bDkuMTUzMzgtMS40Mjk5YzIuNjU5NC0uMzYyNSAzLjg3MTgtMy41MTE3IDIuMTQyMS01LjU1NzZsLTIuMTkyLTIuNTg0MWMtLjMyMTctLjM3OTItLjI3MTMtLjk0NDMuMTEyNi0xLjI2MjEuMzI1My0uMjY5NC43OTYzLS4yNzk3IDEuMTMzNC0uMDI0OWwyLjY5MTggMi4wMzQ3YzIuMTQyMSAxLjYxMDkgNS4yMjk3LjI0MTcgNS40NTYxLTIuNDI0M2wuNzI0MS04LjU1OTk4Yy4wNDU3LS41NDA4LjUyNjUtLjk0MjU3IDEuMDczOS0uODk3Mzd6bS0yMy4xODczMyAyMC40Mzk2NWMuNTI1MDQgMCAuOTUwNjcuNDIxLjk1MDY3Ljk0MDNzLS40MjU2My45NDAzLS45NTA2Ny45NDAzYy0uNTI1MDQxIDAtLjk1MDY3LS40MjEtLjk1MDY3LS45NDAzcy40MjU2MjktLjk0MDMuOTUwNjctLjk0MDN6bTQ3LjY3OTczLS45NTQ3Yy41MjUgMCAuOTUwNy40MjEuOTUwNy45NDAzcy0uNDI1Ny45NDAyLS45NTA3Ljk0MDItLjk1MDctLjQyMDktLjk1MDctLjk0MDIuNDI1Ny0uOTQwMy45NTA3LS45NDAzem0tMjQuNjI5Ni0yMi40Nzk3Yy41MjUgMCAuOTUwNi40MjA5NzMuOTUwNi45NDAyNyAwIC41MTkzLS40MjU2Ljk0MDI3LS45NTA2Ljk0MDI3LS41MjUxIDAtLjk1MDctLjQyMDk3LS45NTA3LS45NDAyNyAwLS41MTkyOTcuNDI1Ni0uOTQwMjcuOTUwNy0uOTQwMjd6IiBmaWxsPSJ1cmwoI2IpIi8+PHBhdGggZD0ibTI0LjU3MSAzMi43NzkyYzQuOTU5NiAwIDguOTgwMi0zLjk3NjUgOC45ODAyLTguODgxOSAwLTQuOTA1My00LjAyMDYtOC44ODE5LTguOTgwMi04Ljg4MTlzLTguOTgwMiAzLjk3NjYtOC45ODAyIDguODgxOWMwIDQuOTA1NCA0LjAyMDYgOC44ODE5IDguOTgwMiA4Ljg4MTl6IiBmaWxsPSJ1cmwoI2MpIi8+PC9zdmc+",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState="undefined"===typeof window||"undefined"===typeof document?a.b.Unsupported:a.b.Loadable,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new s.d),this.emit("disconnect"))},this._accountChanged=e=>{if(!e)return;const t=this._publicKey;if(t){try{e=new c.PublicKey(e.toBytes())}catch(n){return void this.emit("error",new s.j(null===n||void 0===n?void 0:n.message,n))}t.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=e,this._readyState!==a.b.Unsupported&&(Object(a.d)((()=>{var e;return!!(null!==(e=window.solflare)&&void 0!==e&&e.isSolflare||window.SolflareApp)&&(this._readyState=a.b.Installed,this.emit("readyStateChange",this._readyState),!0)})),G())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var e;return!(null===(e=this._wallet)||void 0===e||!e.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===a.b.Loadable&&Object(a.c)()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==a.b.Loadable&&this._readyState!==a.b.Installed)throw new s.i;if(this.readyState===a.b.Loadable&&Object(a.c)()){const e=encodeURIComponent(window.location.href),t=encodeURIComponent(window.location.origin);return void(window.location.href="https://solflare.com/ul/v1/browse/".concat(e,"?ref=").concat(t))}let t,r,i;try{t=(await n.e(4).then(n.bind(null,194))).default}catch(e){throw new s.g(null===e||void 0===e?void 0:e.message,e)}try{r=new t({network:this._config.network})}catch(e){throw new s.b(null===e||void 0===e?void 0:e.message,e)}if(this._connecting=!0,!r.connected)try{await r.connect()}catch(e){throw new s.c(null===e||void 0===e?void 0:e.message,e)}if(!r.publicKey)throw new s.c;try{i=new c.PublicKey(r.publicKey.toBytes())}catch(e){throw new s.j(null===e||void 0===e?void 0:e.message,e)}r.on("disconnect",this._disconnected),r.on("accountChanged",this._accountChanged),this._wallet=r,this._publicKey=i,this.emit("connect",i)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet;if(e){e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await e.disconnect()}catch(t){this.emit("error",new s.e(null===t||void 0===t?void 0:t.message,t))}}this.emit("disconnect")}async sendTransaction(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{const o=this._wallet;if(!o)throw new s.h;try{const{signers:r}=n,a=Object(i.a)(n,F);return Object(u.a)(e)?(null===r||void 0===r?void 0:r.length)&&e.sign(r):(e=await this.prepareTransaction(e,t,a),(null===r||void 0===r?void 0:r.length)&&e.partialSign(...r)),a.preflightCommitment=a.preflightCommitment||t.commitment,await o.signAndSendTransaction(e,a)}catch(r){if(r instanceof s.f)throw r;throw new s.k(null===r||void 0===r?void 0:r.message,r)}}catch(r){throw this.emit("error",r),r}}async signTransaction(e){try{const n=this._wallet;if(!n)throw new s.h;try{return await n.signTransaction(e)||e}catch(t){throw new s.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signAllTransactions(e){try{const n=this._wallet;if(!n)throw new s.h;try{return await n.signAllTransactions(e)||e}catch(t){throw new s.n(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}async signMessage(e){try{const n=this._wallet;if(!n)throw new s.h;try{return await n.signMessage(e,"utf8")}catch(t){throw new s.m(null===t||void 0===t?void 0:t.message,t)}}catch(t){throw this.emit("error",t),t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n(3),i=n(10),o=n(0),a=n.n(o),s=n(28),u=n(15),c=n(97),l=n(54);const d=e=>{let{id:t,children:n,expanded:r=!1}=e;const i=Object(o.useRef)(null),s=Object(o.useRef)(!0);return Object(o.useLayoutEffect)((()=>{r?(()=>{const e=i.current;e&&requestAnimationFrame((()=>{e.style.height=e.scrollHeight+"px"}))})():(()=>{const e=i.current;e&&requestAnimationFrame((()=>{e.style.height=e.offsetHeight+"px",e.style.overflow="hidden",requestAnimationFrame((()=>{e.style.height="0"}))}))})()}),[r]),Object(o.useLayoutEffect)((()=>{const e=i.current;if(e)return s.current&&(t(),s.current=!1),e.addEventListener("transitionend",n),()=>e.removeEventListener("transitionend",n);function t(){e&&(e.style.overflow=r?"initial":"hidden",r&&(e.style.height="auto"))}function n(n){e&&n.target===e&&"height"===n.propertyName&&t()}}),[r]),a.a.createElement("div",{className:"wallet-adapter-collapse",id:t,ref:i,role:"region",style:{height:0,transition:s.current?void 0:"height 250ms ease-out"}},n)};var f=n(40),h=n(41);const p=e=>{let{handleClick:t,tabIndex:n,wallet:r}=e;return a.a.createElement("li",null,a.a.createElement(f.a,{onClick:t,startIcon:a.a.createElement(h.a,{wallet:r}),tabIndex:n},r.adapter.name,r.readyState===u.b.Installed&&a.a.createElement("span",null,"Detected")))},y=()=>a.a.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.a.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),a.a.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),a.a.createElement("g",{clipPath:"url(#clip0_880_5115)"},a.a.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),a.a.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),a.a.createElement("defs",null,a.a.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{stopColor:"#9945FF"}),a.a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.a.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{stopColor:"#9945FF"}),a.a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.a.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{stopColor:"#9945FF"}),a.a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.a.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},a.a.createElement("stop",{stopColor:"#9945FF"}),a.a.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),a.a.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),a.a.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),a.a.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),a.a.createElement("stop",{offset:"1",stopColor:"#00D18C"})),a.a.createElement("clipPath",{id:"clip0_880_5115"},a.a.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),g=e=>{let{className:t="",container:n="body"}=e;const r=Object(o.useRef)(null),{wallets:i,select:f}=Object(c.b)(),{setVisible:h}=Object(s.b)(),[g,v]=Object(o.useState)(!1),[E,m]=Object(o.useState)(!1),[w,S]=Object(o.useState)(null),[b,_]=Object(o.useMemo)((()=>{const e=[],t=[];for(const n of i)n.readyState===u.b.Installed?e.push(n):t.push(n);return e.length?[e,t]:[t,[]]}),[i]),T=Object(o.useCallback)((()=>{m(!1),setTimeout((()=>h(!1)),150)}),[h]),I=Object(o.useCallback)((e=>{e.preventDefault(),T()}),[T]),R=Object(o.useCallback)(((e,t)=>{f(t),I(e)}),[f,I]),N=Object(o.useCallback)((()=>v(!g)),[g]),A=Object(o.useCallback)((e=>{const t=r.current;if(!t)return;const n=t.querySelectorAll("button"),i=n[0],o=n[n.length-1];e.shiftKey?document.activeElement===i&&(o.focus(),e.preventDefault()):document.activeElement===o&&(i.focus(),e.preventDefault())}),[r]);return Object(o.useLayoutEffect)((()=>{const e=e=>{"Escape"===e.key?T():"Tab"===e.key&&A(e)},{overflow:t}=window.getComputedStyle(document.body);return setTimeout((()=>m(!0)),0),document.body.style.overflow="hidden",window.addEventListener("keydown",e,!1),()=>{document.body.style.overflow=t,window.removeEventListener("keydown",e,!1)}}),[T,A]),Object(o.useLayoutEffect)((()=>S(document.querySelector(n))),[n]),w&&Object(l.createPortal)(a.a.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:"wallet-adapter-modal ".concat(E&&"wallet-adapter-modal-fade-in"," ").concat(t),ref:r,role:"dialog"},a.a.createElement("div",{className:"wallet-adapter-modal-container"},a.a.createElement("div",{className:"wallet-adapter-modal-wrapper"},a.a.createElement("button",{onClick:I,className:"wallet-adapter-modal-button-close"},a.a.createElement("svg",{width:"14",height:"14"},a.a.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),b.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),a.a.createElement("ul",{className:"wallet-adapter-modal-list"},b.map((e=>a.a.createElement(p,{key:e.adapter.name,handleClick:t=>R(t,e.adapter.name),wallet:e}))),_.length?a.a.createElement(d,{expanded:g,id:"wallet-adapter-modal-collapse"},_.map((e=>a.a.createElement(p,{key:e.adapter.name,handleClick:t=>R(t,e.adapter.name),tabIndex:g?0:-1,wallet:e})))):null),_.length?a.a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:N,tabIndex:0},a.a.createElement("span",null,g?"Less ":"More ","options"),a.a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:"".concat(g?"wallet-adapter-modal-list-more-icon-rotate":"")},a.a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),a.a.createElement("div",{className:"wallet-adapter-modal-middle"},a.a.createElement(y,null)),_.length?a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:N,tabIndex:0},a.a.createElement("span",null,g?"Hide ":"Already have a wallet? View ","options"),a.a.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:"".concat(g?"wallet-adapter-modal-list-more-icon-rotate":"")},a.a.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),a.a.createElement(d,{expanded:g,id:"wallet-adapter-modal-collapse"},a.a.createElement("ul",{className:"wallet-adapter-modal-list"},_.map((e=>a.a.createElement(p,{key:e.adapter.name,handleClick:t=>R(t,e.adapter.name),tabIndex:g?0:-1,wallet:e})))))):null))),a.a.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:I})),w)},v=["children"],E=e=>{let{children:t}=e,n=Object(i.a)(e,v);const[u,c]=Object(o.useState)(!1);return a.a.createElement(s.a.Provider,{value:{visible:u,setVisible:c}},t,u&&a.a.createElement(g,Object(r.a)({},n)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),i=n(0),o=n.n(i),a=n(10),s=n(97);var u=n(40),c=n(41);const l=["walletIcon","walletName"];function d(e){let{walletIcon:t,walletName:n}=e,i=Object(a.a)(e,l);return o.a.createElement(u.a,Object(r.a)(Object(r.a)({},i),{},{className:"wallet-adapter-button-trigger",startIcon:t&&n?o.a.createElement(c.a,{wallet:{adapter:{icon:t,name:n}}}):void 0}))}var f=n(28);const h=["children","labels"];function p(e){let{children:t,labels:n}=e,u=Object(a.a)(e,h);const{setVisible:c}=Object(f.b)(),{buttonState:l,onConnect:p,onDisconnect:y,publicKey:g,walletIcon:v,walletName:E}=function(e){let{onSelectWallet:t}=e;const{connect:n,connected:r,connecting:o,disconnect:a,disconnecting:u,publicKey:c,select:l,wallet:d,wallets:f}=Object(s.b)();let h;h=o?"connecting":r?"connected":u?"disconnecting":d?"has-wallet":"no-wallet";const p=Object(i.useCallback)((()=>{n().catch((()=>{}))}),[n]),y=Object(i.useCallback)((()=>{a().catch((()=>{}))}),[a]);return{buttonState:h,onConnect:"has-wallet"===h?p:void 0,onDisconnect:"disconnecting"!==h&&"no-wallet"!==h?y:void 0,onSelectWallet:Object(i.useCallback)((()=>{t({onSelectWallet:l,wallets:f})}),[t,l,f]),publicKey:null!==c&&void 0!==c?c:void 0,walletIcon:null===d||void 0===d?void 0:d.adapter.icon,walletName:null===d||void 0===d?void 0:d.adapter.name}}({onSelectWallet(){c(!0)}}),[m,w]=Object(i.useState)(!1),[S,b]=Object(i.useState)(!1),_=Object(i.useRef)(null);Object(i.useEffect)((()=>{const e=e=>{const t=_.current;t&&!t.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[]);const T=Object(i.useMemo)((()=>{if(t)return t;if(g){const e=g.toBase58();return e.slice(0,4)+".."+e.slice(-4)}return"connecting"===l||"has-wallet"===l?n[l]:n["no-wallet"]}),[l,t,n,g]);return o.a.createElement("div",{className:"wallet-adapter-dropdown"},o.a.createElement(d,Object(r.a)(Object(r.a)({},u),{},{"aria-expanded":S,style:Object(r.a)({pointerEvents:S?"none":"auto"},u.style),onClick:()=>{switch(l){case"no-wallet":c(!0);break;case"has-wallet":p&&p();break;case"connected":b(!0)}},walletIcon:v,walletName:E}),T),o.a.createElement("ul",{"aria-label":"dropdown-list",className:"wallet-adapter-dropdown-list ".concat(S&&"wallet-adapter-dropdown-list-active"),ref:_,role:"menu"},g?o.a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(g.toBase58()),w(!0),setTimeout((()=>w(!1)),400)},role:"menuitem"},m?n.copied:n["copy-address"]):null,o.a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(!0),b(!1)},role:"menuitem"},n["change-wallet"]),y?o.a.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{y(),b(!1)},role:"menuitem"},n.disconnect):null))}const y={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function g(e){return o.a.createElement(p,Object(r.a)(Object(r.a)({},e),{},{labels:y}))}}]]);
//# sourceMappingURL=2.4e606921.chunk.js.map